/*!
 * @postscriptum.app/core 0.11.5-beta (February 22nd 2022)
 * 
 * 
 * Includes:
 *  - Postcss: http://postcss.org/ (MIT License)
 *  - Hypher: https://github.com/bramstein/hypher (BSD license)
 *  
 * Copyright Â© 2015 David Rivron
 * Released under the MIT license (https://opensource.org/licenses/mit-license.php))
 */
(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.postscriptum = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.unbreakableElement=exports.breakTable=exports.unbreak=exports.writeCounters=exports.breakAtPoint=void 0;const util_1=require("./util"),counters=require("./counters"),css_1=require("./css"),REPLACED_ELEMENTS=["img","object","video","audio","canvas","iframe","textarea","input","button"];function breakAtPoint(e,t,r="after"){const s=t.container.nodeType==Node.TEXT_NODE,a=s?t.container.parentElement:t.container,n=a==e;a.setAttribute("ps-breaking","");const o=counters.parseCounters(e,t),l=e.ownerDocument.createRange();"before"==r?(l.setStartBefore(e),l.setEnd(t.container,t.offset)):(l.setStart(t.container,t.offset),l.setEndAfter(e));const i=l.extractContents().firstElementChild;let u=n?e:e.querySelector("[ps-breaking]"),b=n?i:i.querySelector("[ps-breaking]");u.removeAttribute("ps-breaking"),b.removeAttribute("ps-breaking");let c=!1;for(;b!=i.parentElement;){let e,a;if("after"==r?(e=u,a=b):(e=b,a=u),e.setAttribute("ps-breaked-after",""),a.setAttribute("ps-breaked-before",""),o&&writeCounters(o,e,a),"ol"==b.localName?breakOrderedList(e,a):"table"==b.localName&&breakTable(e,a),s){const r=t.container;if(r.nodeValue.endsWith("\xad")){const e=getComputedStyle(r.parentElement);if("auto"==e.getPropertyValue("--ps-hyphens").trim()){const t=e.getPropertyValue("-webkit-hyphenate-character")[1]||"\u2010";r.nodeValue=r.nodeValue.slice(0,-1)+t,r.parentElement.setAttribute("ps-hyphen-last","")}}!c&&util_1.walk.displayAsBlock(e)&&(e.style.textAlignLast=e.style.MozTextAlignLast=getComputedStyle(e).textAlign,c=!0)}u=u.parentElement,b=b.parentElement}return i}function writeCounters(e,t,r){let s="";for(const a in e){const n=e[a];for(let e=n.length-1;e>=0;e--){const o=n[e];if(t.parentNode==o.element.parentNode||r.parentNode==o.element.parentNode){s+=" "+a+" "+o.value,n.splice(e,1);break}}}s&&(r.setAttribute("ps-counters",""),r.style.counterReset=s)}function unbreak(e,t,r="before"){let s,a;if(e.removeAttribute("ps-breaked-after"),t.removeAttribute("ps-breaked-before"),"table"==e.localName?unbreakTable(e,t):"ol"==e.localName&&unbreakOrderedList(e,t),e.style.textAlignLast&&(e.style.textAlignLast=e.style.MozTextAlignLast=""),t.hasAttribute("ps-counters")&&(t.style.counterReset="",t.removeAttribute("ps-counters")),util_1.walk.isHTMLElement(e.lastChild)&&e.lastChild.hasAttribute("ps-breaked-after")&&(s=e.lastChild,a=t.firstChild),s||e.hasAttribute("ps-hyphen-last")&&(e.lastChild.nodeValue=e.lastChild.nodeValue.slice(0,-1)+"\xad"),"before"==r){for(t.hasAttribute("ps-breaked-after")&&e.setAttribute("ps-breaked-after","");t.firstChild;)e.appendChild(t.firstChild);t.remove(),e.normalize()}else{for(e.hasAttribute("ps-breaked-before")&&t.setAttribute("ps-breaked-before",""),e.hasAttribute("ps-counters")&&(t.setAttribute("ps-counters",""),t.style.counterReset=e.style.counterReset),e.hasAttribute("start")&&t.setAttribute("start",e.getAttribute("start"));e.lastChild;)t.insertBefore(e.lastChild,t.firstChild);e.remove(),t.normalize()}s&&a&&unbreak(s,a,r)}function breakOrderedList(e,t){const r=Array.prototype.filter.call(e.children,e=>"list-item"==getComputedStyle(e).display);let s=e.hasAttribute("start")?parseInt(e.getAttribute("start")):1;t.firstElementChild&&t.firstElementChild.hasAttribute("ps-breaked-before")&&s--,t.setAttribute("start",s+r.length)}function breakTable(e,t){const r=e.getElementsByTagName("colgroup").item(0);r&&t.insertBefore(r.cloneNode(!0),t.firstChild);const s=css_1.getCustomStyle(e);!t.tHead&&e.tHead&&"no-repeat"!=css_1.getCustomProp(s,"repeat-thead")&&(t.tHead=e.tHead.cloneNode(!0),t.tHead.setAttribute("ps-repeated",""))}function unbreakOrderedList(e,t){t.removeAttribute("start")}function unbreakTable(e,t){const r=t.querySelectorAll("colgroup");for(let e=1;e<r.length;e++)r[e].remove()}function unbreakableElement(e){if(e instanceof SVGElement)return"replacedElement";return"none"!=getComputedStyle(e).float?"float":e.style.height||e.style.minHeight?"intrisicDimension":REPLACED_ELEMENTS.includes(e.localName)&&util_1.walk.displayAsBlock(e)?"replacedElement":void 0}exports.breakAtPoint=breakAtPoint,exports.writeCounters=writeCounters,exports.unbreak=unbreak,exports.breakTable=breakTable,exports.unbreakableElement=unbreakableElement;

},{"./counters":3,"./css":4,"./util":19}],2:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.columnsSubProcessor=exports.createColumn=exports.Columnizator=exports.ColumnSpan=exports.Column=void 0;const layout_1=require("./layout"),util_1=require("./util"),util_2=require("./util"),util_3=require("./util"),fragments_1=require("./fragments"),breaks_1=require("./breaks"),css_1=require("./css"),flow_1=require("./flow");class Column extends fragments_1.Fragment{}exports.Column=Column;class ColumnSpan extends fragments_1.Fragment{}exports.ColumnSpan=ColumnSpan;class ColumnsGroup{constructor(){this.sequences=[],this.columnParent=null,this.span=null,this.columnsMut=null,this.spanMut=null}}class ColumnsLayoutContext extends layout_1.LayoutContext{constructor(t,e,o,s){super(e,e,o,s),this.maxHeightChanged=!1,s&&s.on("body-bottom-change",({newBottom:t})=>{this.maxHeightChanged=!0})}}class Columnizator extends fragments_1.Fragmentor{constructor(t,e){super(t,e),this.avoidBreakTypes=["avoid","avoid-column"],this.forcedBreakTypes=["always","column","-ps-column-span"],this.columnizationMut=new util_2.Mutations,this.breakPoint=null,this.logNoValidBreakPoint=!1,this.addSubProcessor(exports.columnsSubProcessor),this._process=this.columnizationProcess()}columnsMaxHeight(t){if(!this._maxBottom){const t=getComputedStyle(this.source);let e=css_1.computeMinOrMaxLength(t.maxHeight,this.source.parentElement.clientHeight,1/0);if(isNaN(e)&&(e=1/0),e==1/0)this._maxBottom=1/0;else{const t=this.source.getBoundingClientRect().top;this._maxBottom=t+e}}return this._maxBottom-t-.001}*columnizationProcess(){const t=css_1.getCustomStyle(this.source);if(this.columnCount=this.options.columnCount||parseColumnCount(this.source,t),!this.columnCount)throw new Error("No columns count defined on the source element.");this.columnizationMut.setAttr(this.source,"ps-process","pending"),this.listenerCount("start")&&(yield"start"),this.listenerCount("columnization-start")&&(yield"columnization-start"),this.columnizationMut.setAttr(this.source,"ps-columns",""),this.sourceBody=document.createElement("ps-column-body"),util_1.ranges.appendNodeContents(this.source,this.sourceBody),this.sourceBody.style.display="none",this.source.appendChild(this.sourceBody),this.columnizationMut.push({source:this.source,sourceBody:this.sourceBody,revert(){util_1.ranges.appendNodeContents(this.sourceBody,this.source),this.sourceBody.remove()}}),this.fillProp=css_1.getCustomProp(t,"column-fill");let e=css_1.getCustomProp(t,"column-gap");"normal"==e&&(e="1em"),this.columnizationMut.setStyle(this.source,{"--ps-gap":e});let o=css_1.getCustomProp(t,"column-rule");if(!o){o=(css_1.getCustomProp(t,"column-rule-style")||"none")+" "+(css_1.getCustomProp(t,"column-rule-width")||"medium")+" "+(css_1.getCustomProp(t,"column-rule-color")||getComputedStyle(this.source).color)}o.match(/(^|\s)none($|\s)?/)||this.columnizationMut.setStyle(this.source,{"--ps-rule":o});const s=new flow_1.FlowIterator(this.sourceBody,this.forcedBreakTypes);s.columnSpanBreak=css_1.getCustomProp(t,"column-span-break"),this.isLastGroup=!1;let n=s.next();const r=[];let i,u,a;do{i=new ColumnsGroup,r.push(i),u=!1;do{const t=new util_2.Mutations,e=t.breaks(this.sourceBody,{container:n.range.endContainer,offset:n.range.endOffset},"before");e.setAttribute("ps-column-sequence",""),e.style.display="","-ps-column-span"==n.breakType?i.span?breaks_1.unbreak(i.span,e,"before"):(i.spanMut=new util_2.Mutations,t.commit(i.spanMut),i.span=e):(i.columnsMut=new util_2.Mutations,t.commit(i.columnsMut),i.sequences.push(e)),this.isLastGroup=s.remaining.collapsed,n=s.next(),u=i.sequences.length>=this.columnCount+1}while(n&&!u&&(!i.span||"-ps-column-span"==n.breakType));yield*this.columnsGroupProcess(i)}while(!this.isLastGroup&&null===this.breakPoint&&!u);const l=r.flatMap(t=>{const e=[];return t.columnParent&&e.push({element:t.columnParent,mutations:t.columnsMut}),t.span&&t.span.isConnected&&e.push({element:t.span,mutations:t.spanMut}),e});i.span&&!i.span.isConnected&&breaks_1.unbreak(i.span,this.sourceBody,"after");for(let t=i.sequences.length-1;t>=0;t--)i.sequences[t].isConnected||breaks_1.unbreak(i.sequences[t],this.sourceBody,"after");if(this.breakPoint){for(let t=l.length-1;t>=0;t--)l[t].mutations.commit(this.columnizationMut);a=breaks_1.breakAtPoint(this.currentFragment.body,this.breakPoint),this.breakPoint=util_1.ranges.positionBefore(this.sourceBody),breaks_1.unbreak(a,this.sourceBody,"before"),this.columnizationMut.push({remainingBody:a,fragmentBody:this.currentFragment.body,revert(){breaks_1.unbreak(this.fragmentBody,this.remainingBody,"before")}})}else{let t=l.length-1;!1===this.breakPoint&&l[t--].mutations.revert();let e=-1;for(let o=t;o>=0;o--){const t=l[o];if("avoid"!==t.element.getAttribute("ps-break-after")){e=o;break}t.mutations.revert()}if(-1==e)this.breakPoint=!1;else{for(let t=0;t<=e;t++)l[t].mutations.commit(this.columnizationMut);this.breakPoint=this.sourceBody.firstChild?util_1.ranges.positionBefore(this.sourceBody):null}(a=this.sourceBody).remove()}this.columnizationMut.appendNodeContents(a,this.source),this.columnizationMut.setAttr(this.source,"ps-process","ended"),this.listenerCount("columnization-end")&&(yield"columnization-end"),this.listenerCount("end")&&(yield"end")}*columnsGroupProcess(t){if(t.sequences.length){const e=[],o=t.columnParent=this.doc.createElement("ps-columns");t.columnsMut.setAttr(o,"ps-process","pending"),this.source.insertBefore(o,this.sourceBody);for(let t=0;t<this.columnCount;t++){const s=createColumn(this.doc,t+1);if(0!=t){const t=document.createElement("ps-column-gap");this.source.style.getPropertyValue("--ps-rule")&&t.appendChild(document.createElement("ps-column-rule")),o.appendChild(t)}o.appendChild(s.container),fragments_1.createAreas(s,css_1.getCustomProp(this.source,"areas")),e.push(s),this.fragments.push(s)}t.columnsMut.push({columnsParent:o,revert(){o.remove()}});const s=getComputedStyle(this.source),n=s.lineHeight,r="normal"==n?1.15*parseInt(s.fontSize):parseInt(n);let i=null!=t.span,u=!1;const a=util_1.rects.boundingScrollRect(o).top;let l=this.columnsMaxHeight(a);const c=new util_2.Mutations;do{const s=e[0];let n=i||this.isLastGroup&&(l==1/0||"auto"!=this.fillProp);if(n&&!u){let e=r;for(let o=t.sequences.length-1;o>=0;o--){const n=t.sequences[o];s.body=s.container.insertBefore(n,s.container.firstChild);const r=n.scrollHeight/(this.columnCount-t.sequences.length+1);r>e&&(e=r),0!=o&&n.remove()}e<l?l=e:n=!1}else s.body=s.container.insertBefore(t.sequences[0],s.container.firstChild);t.columnsMut.push({firstColumn:s,revert(){this.firstColumn.body.remove()}}),c.push({columns:e,group:t,revert(){for(let t=this.columns.length-1;t>0;t--){const o=e[t];o.body&&(t>0&&this.group.sequences.includes(o.body)?o.body.remove():breaks_1.unbreak(e[t-1].body,o.body),o.body=null)}}}),u=!1;let m=!1;t.columnsMut.setStyle(o,{height:l+"px"});let h=0,p=0,d=e[p];do{this.currentFragment=d,this.breakPoint=null,util_1.logger.addScope(`column ${d.number}`),this.onFragmentStart(d,!1);const s=Object.assign({},this.options.parentAreas,d.areas),i=yield*this.contentsProcess(d.body,s,layout_1.isSubFragmentor(this)&&this.parentFragmentor.layoutContext),g=this.columnsMaxHeight(a);if(this.layoutContext.maxHeightChanged&&l>g){l=g,n=!1,u=!0,util_1.logger.removeScope();break}if(n){let t="no-break-point"==i;if(!t){const o=e[e.length-1].body;t="valid-break-point"==i&&o&&o.scrollHeight>=o.clientHeight}if(t&&l+r<g){l+=r,u=!0,util_1.logger.removeScope();break}"valid-break-point"==i&&(this.breakPoint=this.layoutContext.breakPoint)}else{if("no-break-point"==i){this.layoutContext.mutations.revert(),this.fragmentStartMut.revert(),c.revert(),this.breakPoint=!1,util_1.logger.removeScope();break}"valid-break-point"==i&&(this.breakPoint=this.layoutContext.breakPoint)}if(util_1.logger.removeScope(),++p==e.length)m=!0;else if(this.breakPoint){const t=breaks_1.breakAtPoint(d.body,this.breakPoint);this.onFragmentBreak(d),(d=e[p]).body=d.container.insertBefore(t,d.container.firstChild),this.breakPoint=null}else++h<t.sequences.length?(d=e[p]).body=d.container.insertBefore(t.sequences[h],d.container.firstChild):(o.style.height="",t.columnsMut.setStyle(o,{"max-height":l+"px"}),m=!0)}while(!m);if(!u&&i&&null===this.breakPoint){this.fragmentStartMut.commit(c),this.layoutContext.mutations.commit(c),c.commit(t.columnsMut),t.columnsMut.setAttr(o,"ps-process","ended");const e=yield*this.columnSpanProcess(t);"no-break-point"==e?(this.layoutContext.mutations.revert(),this.fragmentStartMut.revert(),this.breakPoint=!1):"valid-break-point"==e&&(this.fragmentStartMut.commit(c),this.layoutContext.mutations.commit(t.spanMut),this.breakPoint=this.layoutContext.breakPoint),i=!1}else u?(this.layoutContext.mutations.revert(),this.fragmentStartMut.revert(),c.revert(),this.breakPoint=null):!1!==this.breakPoint&&(this.fragmentStartMut.commit(c),this.layoutContext.mutations.commit(c))}while(u);c.commit(t.columnsMut),t.columnsMut.setAttr(o,"ps-process","ended")}else{const e=yield*this.columnSpanProcess(t);"no-break-point"==e?(this.layoutContext.mutations.revert(),this.breakPoint=!1):"valid-break-point"==e&&(this.layoutContext.mutations.commit(t.spanMut),this.breakPoint=this.layoutContext.breakPoint)}}*columnSpanProcess(t){util_1.logger.addScope("column-span");const e=this.currentFragment=new ColumnSpan;e.body=t.span,this.source.insertBefore(e.body,this.sourceBody);const o=util_1.rects.boundingScrollRect(e.body).top;e.body.style.height=this.columnsMaxHeight(o)+"px";const s=yield*this.contentsProcess(e.body,this.options.parentAreas,layout_1.isSubFragmentor(this)&&this.parentFragmentor.layoutContext);if(e.body.style.height="",this.parentAvoidBreakTypes){let o=e.body;do{if(!util_3.walk.isElement(o))break;if(this.parentAvoidBreakTypes.includes(css_1.getCustomProp(o,"break-after"))){t.spanMut.setAttr(e.body,"ps-break-after","avoid");break}o=util_3.walk.lastChild(o,util_3.walk.isStaticNode)}while(o&&util_3.walk.isElement(o))}return util_1.logger.removeScope(),s}createLayoutContext(t,e,o){return new ColumnsLayoutContext(this.source,t,e,o)}}function createColumn(t,e){const o=new Column;return o.container=t.createElement("ps-column"),o.number=e,o}exports.Columnizator=Columnizator,Columnizator.defaultOptions=Object.assign({parentAreas:{},parentLayoutContext:null},fragments_1.Fragmentor.defaultOptions),exports.createColumn=createColumn;const columnsSubProcessor=function(t){const e=parseColumnCount(t.currentElement,t.currentCustomStyle);if(!e)return!1;const o=new class extends Columnizator{constructor(t,e,o){super(e,o),this.parentFragmentor=t,this.gcpmContext=t.gcpmContext}columnsMaxHeight(e){const o=this.parentFragmentor.layoutContext.bottomOffsets.get(this.source).after;let s=this.parentFragmentor.layoutContext.bodyBottom-o-e;return"content-box"==t.currentStyle.boxSizing&&(s=util_1.rects.contentSizingHeight(t.currentStyle,s)),Math.min(super.columnsMaxHeight(e),s)}emit(t,e){super.emit(t,e);const o="string"==typeof t?{type:t}:t;"start"!=o.type&&"end"!=o.type&&this.parentFragmentor.emit(t)}}(this,t.currentElement,Object.assign(Object.create(fragments_1.Fragmentor.defaultOptions),{parentAreas:t.areas,columnCount:e}));return o.parentAvoidBreakTypes=this.avoidBreakTypes,o.start().ended.then(()=>(o.columnizationMut.commit(this.layoutContext.mutations),o.breakPoint?{breakPoint:o.breakPoint}:!1!==o.breakPoint&&void 0))};function parseColumnCount(t,e){let o=0;const s=css_1.getCustomProp(e,"column-count");if("auto"!=s)o=parseInt(s);else{const s=css_1.getCustomProp(e,"column-width"),n=t.clientWidth;if("auto"!=s){const t=css_1.computeLength(s,n);let r=css_1.getCustomProp(e,"column-gap");"normal"==r&&(r="1em");const i=css_1.computeLength(r,n);if((o=Math.floor(n/t))>1)for(;o>1&&o*t+i*(o-1)>n;)o--}}return isNaN(o)||1==o?0:o}exports.columnsSubProcessor=columnsSubProcessor;

},{"./breaks":1,"./css":4,"./flow":7,"./fragments":8,"./layout":12,"./util":19}],3:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.addElementCounters=exports.resetFromCounters=exports.parseCounters=exports.getPageCounterValue=exports.getCounterValue=exports.parseCounterValue=void 0;const util_1=require("./util"),util_2=require("./util"),valueParser=require("postcss-value-parser");function parseCounterValue(e){const t={};if("none"==e)return t;const r=valueParser(e).nodes.filter(e=>"word"==e.type);for(let e=0;e<r.length;e++){const n=r[e].value,o=parseInt(r[e+1].value);e++,t[n]=o}return t}function getCounterValue(e,t){const r=e.ownerDocument,n=util_1.walk.createWalker(r.documentElement,util_1.walk.isElement);let o=0;for(n.currentNode=e;n.currentNode!=r.documentElement;){let e=!1;const r=getComputedStyle(n.currentNode);if("none"!=r.display){const n=parseCounterValue(r.counterReset);t in n&&(o+=n[t],e=!0);const u=parseCounterValue(r.counterIncrement);if(t in u&&(o+=u[t]),e)return o}n.previousNode()}return util_2.logger.warn(`Counter '${t}' without a counter-reset.`),o}function getPageCounterValue(e,t){let r=t;for(;r&&"ps-page"!=r.localName;)r=r.parentElement;for(let t=0;t<e.length;t++)if(r==e[t].container)return t+1;throw"Page not found"}function parseCounters(e,t){const r={},n=util_1.ranges.nodeAtPoint(t),o=e.ownerDocument.documentElement;let u=e;for(;u!=o&&!u.hasAttribute("ps-counters");)u=u.parentElement;const s=util_1.walk.createWalker(u,util_1.walk.isElement);do{if(s.currentNode==n||s.currentNode.compareDocumentPosition(n||t.container)&Node.DOCUMENT_POSITION_PRECEDING)break;if(addElementCounters(s.currentNode,r,s.currentNode==e),!s.firstChild())for(;!s.nextSibling()&&s.currentNode!=u;){if(!s.currentNode.hasAttribute("ps-breaked-after"))for(const e in r){const t=r[e];t.length&&t[t.length-1].element.parentNode==s.currentNode.parentNode&&t.pop()}s.parentNode()}}while(s.currentNode!=u);return r}function resetFromCounters(e){let t="";for(const r in e){const n=e[r];n.length&&(t+=" "+r+" "+n[n.length-1].value)}return t}function addElementCounters(e,t,r){const n=getComputedStyle(e);if(r||"none"!=n.display){const r=parseCounterValue(n.counterReset);for(const n in r){let o=t[n];o||(o=t[n]=[]),o.length&&o[o.length-1].element.parentNode==e.parentNode&&o.pop(),o.push({element:e,value:r[n]})}const o=parseCounterValue(n.counterIncrement);for(const r in o){let n=t[r];n||(n=t[r]=[]),n.length||n.push({element:e,value:0}),n[n.length-1].value+=o[r]}}}exports.parseCounterValue=parseCounterValue,exports.getCounterValue=getCounterValue,exports.getPageCounterValue=getPageCounterValue,exports.parseCounters=parseCounters,exports.resetFromCounters=resetFromCounters,exports.addElementCounters=addElementCounters;

},{"./util":19,"postcss-value-parser":31}],4:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.addStyleImagesToLoad=exports.computeMinOrMaxLength=exports.computeLength=exports.getCustomPluginProp=exports.getCustomProp=exports.getCustomStyle=exports.insertLinkSheet=exports.insertStyleSheet=exports.removeSheets=exports.cssContexts=exports.CssContext=void 0;const postcss=require("postcss"),safeParser=require("postcss-safe-parser"),valueParser=require("postcss-value-parser"),precss_1=require("./precss"),precss_2=require("./precss"),util_1=require("./util"),core_css_1=require("./css/core-css"),default_css_1=require("./css/default-css"),hypher_1=require("./hypher");class CssContext{constructor(e,t){this.doc=e,this.options=t,this.preparedSheets=new Set,this.coreSheet=null,this.defaultSheet=null,this.hyphers={}}*process(){this.options.authorCSS||removeSheets(this.doc);const e=this.doc.head.firstChild,t=this.options.defaultPageSize||[window.innerWidth+"px",window.innerHeight+"px"];this.options.coreCSS&&(this.coreSheet=insertStyleSheet(this.doc,core_css_1.default(t),!0,"core-sheet",e)),this.options.defaultCSS&&(this.defaultSheet=insertStyleSheet(this.doc,default_css_1.default(),!0,"default-sheet",e));const o=[];for(const e of this.options.css)o.push(insertLinkSheet(this.doc,new URL(e,this.doc.baseURI)));if(yield(async()=>{await registerPaintModule("mark",MarkPainter),await util_1.dom.docComplete(this.doc),await Promise.all(o),this.options.preprocessCSS&&await this.prepareSheets({defaultPageSize:t,mediaType:this.options.mediaType})})(),"fonts"in this.doc){const e=[];for(const t of this.doc.fonts)"unloaded"==t.status?e.push(t.load()):"loading"==t.status&&e.push(t.loaded);e.length&&(yield Promise.all(e).catch(e=>{util_1.logger.warn("A font could not be loaded."),util_1.logger.error(e)}))}}async prepareSheets(e){const t=[],o=Array.prototype.filter.call(this.doc.styleSheets,e=>{const t=e.ownerNode;return!t.hasAttribute("ps-excluded")&&!this.preparedSheets.has(t)});for(const s of o){const o=s.ownerNode;let r,n;o instanceof HTMLLinkElement?((r=o.cloneNode(!1)).setAttribute("ps-href",o.getAttribute("href")),n=util_1.io.load(r.href).then(t=>transform(t,o.href,e))):(r=document.createElement("link"),o.id&&(r.id=o.id),o.media&&(r.media=o.media),r.type="text/css",r.rel="stylesheet",n=transform(o.textContent,this.doc.baseURI,e)),t.push(n.then(e=>{const t=new Blob([e.css],{type:"text/css"});return r.href=URL.createObjectURL(t),this.options.mediaType&&o.media&&(r.media=precss_2.replaceMediaType(o.media,this.options.mediaType)),o.parentNode.replaceChild(r,o),this.preparedSheets.add(r),new Promise(e=>{r.addEventListener("load",e),r.addEventListener("error",t=>{util_1.logger.warn(t.message||`An error occured while loading '${"href"in o?o.href:r.href}'`),e()})})}))}return Promise.all(t)}testHyphens(e,t){if("auto"!=t.getPropertyValue("--ps-hyphens").trim())return!1;let o="";for(let t=e.parentElement;t&&!(o=t.lang);t=t.parentElement);if(!o)return!1;const s=new Intl.Locale(o);o=s.language,"en"==s.language&&(o="GB"==s.region?"en-gb":"en-us");const r=this.hyphers[o];return void 0!==r?r:this.options.hyphUri?util_1.io.load(`${this.options.hyphUri}/${o}.json`).then(e=>{const t=new hypher_1.Hypher(JSON.parse(e));return this.hyphers[o]=t,t}).catch(()=>{this.hyphers[o]=!1,util_1.logger.warn(`Failed to load the hyphenation patterns for language ${o}.`)}):void util_1.logger.warn("Hyphenation dictionaries URL (hyphUri) not defined.")}hyphenate(e,t){for(const o of e.childNodes)util_1.walk.isText(o)&&(o.nodeValue=t.hyphenateText(o.nodeValue))}}function transform(e,t,o){const s=o?[precss_1.default(o)]:[],r={from:t,parser:safeParser},n=postcss().use(precss_1.importUnfold(r));for(const e of s)n.use(e);return o&&n.use(precss_1.importFold),n.process(e,r)}function removeSheets(e){const t=e.querySelectorAll("style,link[rel=stylesheet]");for(const e of t)e.remove()}function insertStyleSheet(e,t,o,s,r){const n=e.createElement("style");return n.textContent=t,s&&(n.id=s),o&&n.setAttribute("ps-excluded",""),e.head.insertBefore(n,r),n.sheet}function insertLinkSheet(e,t,o,s,r){const n=e.createElement("link");return n.rel="stylesheet",n.type="text/css",n.href=t.toString(),s&&(n.id=s),o&&n.setAttribute("ps-excluded",""),new Promise((t,o)=>{n.addEventListener("load",()=>{t(n.sheet)}),n.addEventListener("error",()=>{o(n)}),e.head.insertBefore(n,r)})}function getCustomStyle(e,t){return getComputedStyle(e,t?"::"+t:"::backdrop")}function getCustomProp(e,t,o){return util_1.dom.isElement(e)&&(e=getCustomStyle(e,o)),e.getPropertyValue(`--ps-${t}`).trim()}function getCustomPluginProp(e,t,o){return util_1.dom.isElement(e)&&(e=getCustomStyle(e,o)),e.getPropertyValue(`--psp-${t}`).trim()}function computeLength(e,t){let o=0;try{if(!(o=parseFloat(e)))return 0;const s=CSSUnitValue.parse(e);return"percent"==s.unit?("function"==typeof t&&(t=t()),t*o/100):s.to("px").value}catch(s){const r=e.trim().match(/([\d.]+)(px|cm|mm|in|pt|pc|%)$/);if(r){const[,,e]=r;if("%"==e)return"function"==typeof t&&(t=t()),t*o/100;if("px"==e)return o;{const t=96*o;switch(e){case"in":return t;case"cm":return t/2.54;case"mm":return t/25.4;case"pt":return t/72;case"pc":return t/6}}}else util_1.logger.warn(`Unable to compute the length '${e}'.`)}}function computeMinOrMaxLength(e,t,o){return"none"==e?o:e.match(/^\d/)?computeLength(e,t):NaN}function addStyleImagesToLoad(e,t){const o=getComputedStyle(e).backgroundImage;if("none"!=o){const e=valueParser(o);for(const o of e.nodes.filter(e=>"function"==e.type))if("url"==o.value){const e=o.nodes[0].value;t.add(e)}}}exports.CssContext=CssContext,exports.cssContexts=new Map,exports.removeSheets=removeSheets,exports.insertStyleSheet=insertStyleSheet,exports.insertLinkSheet=insertLinkSheet,exports.getCustomStyle=getCustomStyle,exports.getCustomProp=getCustomProp,exports.getCustomPluginProp=getCustomPluginProp,exports.computeLength=computeLength,exports.computeMinOrMaxLength=computeMinOrMaxLength,exports.addStyleImagesToLoad=addStyleImagesToLoad;class MarkPainter{static get inputProperties(){return["--ps-bleed-size","--ps-marks"]}paint(e,{width:t,height:o},s){const r=s.get("--ps-marks")[0];if(!r||"none"==r)return;const n=s.get("--ps-bleed-size")[0];let i;if("parse"in CSSUnitValue)i=CSSUnitValue.parse(n);else{const e=n.match(/([\d.]+)(px|cm|mm|in|pt|pc)$/);i=new CSSUnitValue(parseFloat(e[1]),e[2])}const a=i.to("px").value;e.lineWidth=.5;const l=a/3;if(r.includes("crop")){const s=2*a/3;e.beginPath(),e.moveTo(l,a),e.lineTo(s,a),e.moveTo(a,l),e.lineTo(a,s),e.moveTo(t-a,l),e.lineTo(t-a,s),e.moveTo(t-s,a),e.lineTo(t-l,a),e.moveTo(t-l,o-a),e.lineTo(t-s,o-a),e.moveTo(t-a,o-l),e.lineTo(t-a,o-s),e.moveTo(a,o-l),e.lineTo(a,o-s),e.moveTo(l,o-a),e.lineTo(s,o-a),e.stroke()}if(r.includes("cross")){const s=t/2,r=o/2,n=a/2,i=a/6;e.beginPath(),e.arc(s,n,i,0,2*Math.PI),e.stroke(),e.beginPath(),e.arc(t-n,o/2,i,0,2*Math.PI),e.stroke(),e.beginPath(),e.arc(t/2,o-n,i,0,2*Math.PI),e.stroke(),e.beginPath(),e.arc(n,o/2,i,0,2*Math.PI),e.stroke(),e.beginPath(),e.moveTo(s-l,n),e.lineTo(s+l,n),e.moveTo(s,n-l),e.lineTo(s,n+l),e.moveTo(t-n-l,r),e.lineTo(t-n+l,r),e.moveTo(t-n,r-l),e.lineTo(t-n,r+l),e.moveTo(s-l,o-n),e.lineTo(s+l,o-n),e.moveTo(s,o-n-l),e.lineTo(s,o-n+l),e.moveTo(n-l,r),e.lineTo(n+l,r),e.moveTo(n,r-l),e.lineTo(n,r+l),e.stroke()}}}function registerPaintModule(e,t){if(!("paintWorklet"in CSS))return;const o=`registerPaint('${e}', ${t.toString()})`,s=new Blob([o],{type:"application/javascript"});return CSS.paintWorklet.addModule(URL.createObjectURL(s))}

},{"./css/core-css":5,"./css/default-css":6,"./hypher":10,"./precss":15,"./util":19,"postcss":48,"postcss-safe-parser":29,"postcss-value-parser":31}],5:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=(t=>`\n\t*::backdrop {\n\t\t--ps-size: auto;\n\t\t--ps-page: auto;\n\t\t--ps-break-before: auto;\n\t\t--ps-break-after: auto;\n\t\t--ps-break-inside: auto;\n\t\t--ps-float-display: block;\n\t\t--ps-float-policy: auto;\n\t\t--ps-bookmark-level: none;\n\t\t--ps-bookmark-label: content(text);\n\t\t--ps-bookmark-state: open;\n\t\t--ps-column-count: auto;\n\t\t--ps-column-width: auto;\n\t\t--ps-column-gap: normal;\n\t\t--ps-column-fill: balance;\n\t\t--ps-column-rule-style: none;\n\t\t--ps-column-rule-width: medium;\n\t\t--ps-column-rule-color: currentcolor;\n\t\t--ps-repeat-thead: repeat;\n\t\t--ps-box-decoration-break: slice;\n\t\t--ps-box-remaining-extent: auto;\n\t\t--ps-margin-break: auto;\n\t\t--ps-areas: auto;\n\t\t--ps-column-span-break: element;\n\t}\n\n\t:root {\n\t\t/* Firefox does not support orphans and widows, we use CSS variables for them */\n\t\t--ps-orphans: 2;\n\t\t--ps-widows: 2;\n\t\t/* The defaut hyphen character of Chrome is the hyphen-minus (U+002D). PS uses the hyphen (U+2010) to allow detection. */\n\t\t-webkit-hyphenate-character: '\\2010';\n\t\ttext-rendering: optimizeLegibility;\n\t}\n\n\tps-page {\n\t\tdisplay: block;\n\n\t\tcounter-increment: page;\n\t\tbox-sizing: border-box;\n\t\tpage-break-before: always;\n\n\t\tposition: relative;\n\t\toverflow: clip;\n\n\t\t--ps-page-width: ${t[0]};\n\t\t--ps-page-height: ${t[1]};\n\t\twidth: var(--ps-page-width);\n\t\theight: var(--ps-page-height);\n\t\t\n\t\t--ps-bleed: auto;\n\t\t--ps-marks: none;\n\t\tpadding-top: var(--ps-page-margin-top);\n\t\tpadding-right: var(--ps-page-margin-right);\n\t\tpadding-bottom: var(--ps-page-margin-bottom);\n\t\tpadding-left: var(--ps-page-margin-left);\n\t\tmargin-right: auto;\n\t}\n\n\tps-page[ps-bleed] {\n\t\tborder: solid var(--ps-bleed-size, 0) transparent;\n\t\toverflow-clip-margin: var(--ps-bleed-size);\n\t\twidth: calc(var(--ps-page-width) + var(--ps-bleed-size) + var(--ps-bleed-size));\n\t\theight: calc(var(--ps-page-height) + var(--ps-bleed-size) + var(--ps-bleed-size));\n\t}\n\n\tps-page[ps-bleed]:not([ps-bleed="none"])::before {\n\t\tcontent: "";\n\t\tposition: absolute;\n\t\t--ps-bleed-inv: calc(var(--ps-bleed-size) * -1);\n\t\ttop: var(--ps-bleed-inv);\n\t\tright: var(--ps-bleed-inv);\n\t\tbottom: var(--ps-bleed-inv);\n\t\tleft: var(--ps-bleed-inv);\n\n\t\tbackground-image: paint(mark);\n\t\tbackground-repeat: no-repeat;\n\t}\n\n\t@page {\n\t\tmargin: 0;\n\t}\n\n\tps-page:first-of-type {\n\t\tpage-break-before: auto;\n\t\tcounter-reset: page 0 footnote 0;\n\t}\n\n\tps-page-area {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\theight: 100%;\n\t\tbox-sizing: border-box;\n\t}\n\n\tps-area {\n\t\toverflow: hidden;\n\t}\n\n\tps-area[ps-name=footnotes] {\n\t\toverflow: visible;\n\t}\n\n\tps-area:empty {\n\t\tdisplay: none;\n\t}\n\n\t[ps-page-body] {\n\t\tdisplay: block;\n\t\tflex: 1 1 0;\n\t\tposition: relative;\n\t\t/* TODO doubts about this margin, but consistent with PrinceXML */\n\t\tmargin: 0;\n\t\torder: 0;\n\t\tmin-height: 0;\n\t}\n\n\tps-page[ps-processing] > ps-margin {\n\t\tdisplay: none;\n\t}\n\n\tps-page[ps-processing] > ps-page-area > [ps-page-body] {\n\t\t/*overflow: hidden;*/\n\t}\n\n\tps-margin {\n\t\tdisplay: flex;\n\t\tposition: absolute;\n\t\tz-index: 1;\n\t\tbox-sizing: border-box;\n\t}\n\n\tps-margin-box {\n\t\tdisplay: flex;\n\t\tbox-sizing: border-box;\n\t\tflex: 1 1 auto;\n\t}\n\n\tps-margin-box::before {\n\t\tdisplay: block;\n\t}\n\n\tps-margin-box[ps-name=top-left-corner] {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\twidth: var(--ps-page-margin-left);\n\t\theight: var(--ps-page-margin-top);\n\t\talign-items: center;\n\t\tjustify-content: flex-end;\n\t\ttext-align: right;\n\t}\n\n\tps-margin[ps-side=top] {\n\t\ttop: 0;\n\t\tleft: var(--ps-page-margin-left);\n\t\tright: var(--ps-page-margin-right);\n\t\theight: var(--ps-page-margin-top);\n\t}\n\n\tps-margin-box[ps-name=top-right-corner] {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tright: 0;\n\t\twidth: var(--ps-page-margin-right);\n\t\theight: var(--ps-page-margin-top);\n\t\talign-items: center;\n\t\tjustify-content: flex-start;\n\t\ttext-align: left;\n\t}\n\n\tps-margin[ps-side=right] {\n\t\tright: 0;\n\t\ttop: var(--ps-page-margin-top);\n\t\tbottom: var(--ps-page-margin-bottom);\n\t\twidth: var(--ps-page-margin-right);\n\t\tflex-direction: column;\n\t}\n\n\tps-margin-box[ps-name=bottom-right-corner] {\n\t\tposition: absolute;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\theight: var(--ps-page-margin-bottom);\n\t\twidth: var(--ps-page-margin-right);\n\t\talign-items: center;\n\t\tjustify-content: flex-start;\n\t\ttext-align: left;\n\t}\n\n\tps-margin[ps-side=bottom] {\n\t\tbottom: 0;\n\t\tright: var(--ps-page-margin-right);\n\t\tleft: var(--ps-page-margin-left);\n\t\theight: var(--ps-page-margin-bottom);\n\t}\n\n\tps-margin-box[ps-name=bottom-left-corner] {\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\tbottom: 0;\n\t\theight: var(--ps-page-margin-bottom);\n\t\twidth: var(--ps-page-margin-left);\n\t\talign-items: center;\n\t\tjustify-content: flex-end;\n\t\ttext-align: right;\n\t}\n\n\tps-margin[ps-side=left] {\n\t\tleft: 0;\n\t\ttop: var(--ps-page-margin-top);\n\t\tbottom: var(--ps-page-margin-bottom);\n\t\twidth: var(--ps-page-margin-left);\n\t\tflex-direction: column;\n\t}\n\n\t/* cf. http://www.w3.org/TR/css3-page/#margin-values */\n\tps-margin-box[ps-name=top-left],\n\tps-margin-box[ps-name=bottom-left] {\n\t\talign-items: center;\n\t\tjustify-content: flex-start;\n\t\ttext-align: left;\n\t}\n\n\tps-margin-box[ps-name=top-center],\n\tps-margin-box[ps-name=bottom-center] {\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\ttext-align: center;\n\t}\n\n\tps-margin-box[ps-name=top-right],\n\tps-margin-box[ps-name=bottom-right] {\n\t\talign-items: center;\n\t\tjustify-content: flex-end;\n\t\ttext-align: right;\n\t}\n\n\tps-margin-box[ps-name=right-top],\n\tps-margin-box[ps-name=left-top] {\n\t\talign-items: flex-start;\n\t\tjustify-content: center;\n\t\ttext-align: center;\n\t}\n\n\tps-margin-box[ps-name=right-middle],\n\tps-margin-box[ps-name=left-middle] {\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\ttext-align: center;\n\t}\n\n\tps-margin-box[ps-name=right-bottom],\n\tps-margin-box[ps-name=left-bottom] {\n\t\talign-items: flex-end;\n\t\tjustify-content: center;\n\t\ttext-align: center;\n\t}\n\n\t[ps-float-base] {\n\t\tdisplay: none !important;\n\t}\n\n\t[ps-float-call] {\n\t\tcolor: inherit;\n\t\ttext-decoration: inherit;\n\t\tunicode-bidi: isolate;\n\t}\n\t\n\t/* cf https://drafts.csswg.org/css-gcpm/#float-call */\n\t[ps-float-display='block'] {\n\t\tdisplay: list-item;\n\t\tlist-style-position: inside;\n\t\tlist-style-type: none;\n\t}\n\n\t/* TODO */\n\t[ps-float-display='inline'] {\n\t}\n\n\t[ps-float-display='compact'] {\n\t\tdisplay: inline-flex;\n\t}\n\n  [ps-float-call], [ps-float-call]::before {\n\t  all: unset;\n  }\n\n  ps-bookmarks {\n\t\tdisplay: none;\n\t}\n\n\t[ps-running] {\n\t\tdisplay: none !important;\n\t}\n\n\t[ps-breaked-before] {\n\t\tcounter-increment: none !important;\n\t\ttext-indent: 0;\n\t}\n\n\t[ps-breaked-before]:not([ps-box-decoration-break=clone]) {\n\t\tpadding-top: 0 !important;\n\t\tborder-top: none !important;\n\t\tborder-top-left-radius: 0 !important;\n\t\tborder-top-right-radius: 0 !important;\n\t}\n\n\t[ps-breaked-after]:not([ps-box-decoration-break=clone]) {\n\t\tpadding-bottom: 0 !important;\n\t\tborder-bottom: none !important;\n\t\tborder-bottom-left-radius: 0 !important;\n\t\tborder-bottom-right-radius: 0 !important;\n\t}\n\n\t[ps-margin-break-before=discard] {\n\t\tmargin-top: 0 !important;\n\t}\n\n\t[ps-breaked-after]:not([ps-margin-break-after=keep]) {\n\t\tmargin-bottom: 0 !important;\n\t}\n\n\t/* TODO Is there some case where a counter-reset in not overridden ? */\n\t/*\n\t[ps-breaked-before]:not([ps-counters]) {\n\t  counter-reset: none !important;\n\t  counter-increment: none !important;\n\t}\n\t*/\n\n\tli[ps-breaked-before] {\n\t\tlist-style-type: none !important;\n\t\tlist-style-image: none !important;\n\t}\n\n\t[ps-breaked-before]::before {\n\t\tcontent: normal !important;\n\t}\n\n\t[ps-breaked-after]::after {\n\t\tcontent: normal !important;\n\t}\n\n\t[ps-row=table-row] > *[ps-breaked-before] {\n\t\tvertical-align: top;\n\t}\n\n\t[ps-row=table-row] > *[ps-breaked-after]:not([ps-empty-after]) {\n\t\tvertical-align: bottom;\n\t}\n\n\t[ps-row=table-row] > *[ps-breaked-after][ps-breaked-before] {\n\t\tvertical-align: middle;\n\t}\n\n\t/*\n\ttable::first-letter {\n\t  --ps-box-decoration-break: clone;\n\t}\n\ttd::first-letter, td *::first-letter  {\n\t  --ps-box-decoration-break: clone;\n\t  --ps-margin-break: keep;\n\t}*/\n\n\tps-leader {\n\t\t-moz-user-select: none;\n\t\t-ms-user-select: none;\n\t\t-webkit-user-select: none;\n\t\tdirection: rtl;\n\t\ttext-align: right;\n\t\twhite-space: pre;\n\t\tdisplay: inline-block;\n\t\tposition: relative;\n\t}\n\n\tps-leader[ps-direction=ltr] {\n\t\tdirection: ltr;\n\t\ttext-align: left;\n\t}\n\n\tps-leader-end {\n\t\tvisibility: hidden;\n\t}\n\n\t[ps-columns] {\n\t}\n\n\tps-columns {\n\t\tdisplay: flex;\n\t}\n\n\tps-column {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tflex: 1;\n\t\tmin-width: 0;\n\t}\n\n\tps-column-body {\n\t\tdisplay: block;\n\t}\n\n\tps-column > ps-column-body {\n\t\tflex: 1 1 0;\n\t\tmin-height: 0;\n\t}\n\n\tps-column-gap {\n\t\tmargin: 0 calc(var(--ps-gap) / 2);\n\t\tposition: relative;\n\t}\n\n\tps-column-rule {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tbottom: 0;\n\t\tborder-left: var(--ps-rule);\n\t\tleft: 50%;\n\t\ttransform: translate(-50%, 0);\n\t}\n\n\n\tps-columns[ps-process=ended] > ps-column > ps-column-body {\n\t\tmin-height: auto;\n\t}\n\n\t/* TODO Chrome bug report? The display property of noscript tags is 'inline' */\n\tnoscript {\n\t\tdisplay: none;\n\t}\n\n\t/* Decoration are cloned by default on cells in the case of a repeated thead */\n\ttd::backdrop {\n\t\t--ps-box-decoration-break: clone;\n\t}\n`);

},{}],6:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=(()=>"\n\tps-page {\n\t  --ps-page-margin-top: calc(var(--ps-page-width) * 10 / 100);\n\t\t--ps-page-margin-right: calc(var(--ps-page-width) * 10 / 100);\n\t\t--ps-page-margin-bottom: calc(var(--ps-page-width) * 10 / 100);\n\t\t--ps-page-margin-left: calc(var(--ps-page-width) * 10 / 100);\n\t}\n\t\n\tps-page::backdrop {\n\t\t--ps-areas: footnotes;\n\t}\n\n\t[ps-float-call][ps-float-area=footnotes] {\n\t\tvertical-align: super;\n\t\tfont-size: 60%;\n\t}\n\n\t[ps-float-call][ps-float-area=footnotes]::before {\n\t\tcontent: var(--ps-before-val-0, \"\");\n\t\t--ps-before-vals: target-counter(attr(href), footnote);\n\t}\n\n  ps-area[ps-name='footnotes'] > [ps-float] {\n  \tcounter-increment: footnote;\n  }\n  \n  [ps-float=footnotes][ps-float-display=block]::marker, [ps-float=footnotes]:not([ps-float-display=block])::before {\n\t\tcontent: counter(footnote) \".\\A0\";\n\t}\n\n\th1::backdrop { --ps-bookmark-level: 1 }\n\th2::backdrop { --ps-bookmark-level: 2 }\n\th3::backdrop { --ps-bookmark-level: 3 }\n\th4::backdrop { --ps-bookmark-level: 4 }\n\th5::backdrop { --ps-bookmark-level: 5 }\n\th6::backdrop { --ps-bookmark-level: 6 }\n\n\th1::backdrop, h2::backdrop, h3::backdrop, h4::backdrop, h5::backdrop, h6::backdrop {\n\t\t--ps-break-after: avoid }\n\n\tbody[ps-process] {\n\t\tmargin: 0;\n\t}\n\n\t[ps-break-before='avoid']::backdrop {\n\t\t--ps-break-after: avoid }\n\t\t\n\t[ps-break-after='avoid']::backdrop {\n\t\t--ps-break-after: avoid }\n\t\t\n\t[ps-break-before='always']::backdrop {\n\t\t--ps-break-after: always }\n\n\t[ps-break-after='always']::backdrop {\n\t\t--ps-break-after: always }\n\n\t[ps-break-inside='avoid'] {\n\t\t-ps-break-inside: avoid;\n\t}\n");

},{}],7:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FlowIterator=exports.flowPredicate=void 0;const util_1=require("./util"),css_1=require("./css");exports.flowPredicate=util_1.walk.predicate(util_1.walk.isElement,util_1.walk.isStatic,util_1.walk.displayAsBlock,e=>null==e.ownerSVGElement);class FlowIterator{constructor(e,t,s=0,r){this.resetOnNext=!1,this.columnSpanBreak="element",this.elements=util_1.walk.createWalker(e,exports.flowPredicate),this.remaining=e.ownerDocument.createRange(),this.forcedBreakTypes=t,this.nextBreakType=r,this.nextPageGroupStart=!1,this.maxTextLength=s,this.reset()}[Symbol.iterator](){const e=this;return{next:function(){const t=e.next();return{done:!t,value:t}}}}reset(){this.elements.currentNode=this.elements.root,this.elements.nextNode(),this.remaining.selectNodeContents(this.elements.root),this.pageNames=[""]}next(){this.resetOnNext&&(this.reset(),this.resetOnNext=!1);let e=0;if(this.remaining.collapsed)return null;let t=null;const s={range:null,pageName:null,pageGroupStart:this.nextPageGroupStart,breakType:this.nextBreakType,maxTextLength:!1};this.nextBreakType=null,this.nextPageGroupStart=!1;const r=this.elements.currentNode;let n=r,a=!1;for(;!s.range;){const i=this.elements.currentNode,l=css_1.getCustomStyle(i),o=css_1.getCustomProp(l,"page");let u=!1,c=o;"auto"==c?c=this.pageNames[this.pageNames.length-1]:u=c!=s.pageName,this.pageNames.push(c),i instanceof HTMLTableElement&&(a=!0);const h="all"==css_1.getCustomProp(l,"column-span"),p=h?"-ps-column-span":css_1.getCustomProp(i,"break-before");if(i==r||n==r&&!util_1.walk.previousSibling(i,util_1.walk.isStaticNode))s.pageName=c,p&&this.forcedBreakTypes.includes(p)&&(s.breakType=p),!s.pageGroupStart&&u&&"auto"!=o&&(s.pageGroupStart=!0);else{const e=this.forcedBreakTypes.includes(p)&&p,r=h&&"element"==this.columnSpanBreak;if(e||t||u){this.nextBreakType=e||t,this.nextPageGroupStart=u||(e||t)&&"auto"!=o,s.range=util_1.ranges.breakRangeBefore(this.remaining,r?i:n),t=null,this.pageNames.pop();break}}if(!this.elements.firstChild()){if(this.pageNames.pop(),this.maxTextLength&&i instanceof HTMLElement&&(e+=i.innerText.length)>this.maxTextLength&&!a&&(s.range=util_1.ranges.breakRangeAfter(this.remaining,this.elements.currentNode),s.maxTextLength=!0,this.resetOnNext=!0),!s.range){const e=this._checkBreakAfter(i,s,l);!s.range&&e&&(t=e)}if(!s.range)for(;!this.elements.nextSibling();){if(this.pageNames.pop(),this.elements.currentNode.parentNode instanceof HTMLTableElement&&(a=!1),!this.elements.parentNode()||this.elements.currentNode==this.elements.root){s.range=util_1.ranges.breakRangeAfter(this.remaining,this.elements.root.lastChild);break}if(!t){const e=this._checkBreakAfter(this.elements.currentNode,s);if(s.range)break;e&&(t=e)}}n=this.elements.currentNode}}return s}_checkBreakAfter(e,t,s){s||(s=css_1.getCustomStyle(e));const r="all"==css_1.getCustomProp(s,"column-span"),n=r?"column":css_1.getCustomProp(s,"break-after");if(this.forcedBreakTypes.includes(n)||this.forcedBreakTypes.includes("column")&&r){const s=util_1.walk.nextSibling(e,util_1.walk.isStaticNode);return s&&!util_1.walk.displayAsBlock(s)?(t.range=util_1.ranges.breakRangeAfter(this.remaining,e),this.resetOnNext=!0,null):n}return null}}exports.FlowIterator=FlowIterator;

},{"./css":4,"./util":19}],8:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.cleanupAreas=exports.createAreas=exports.Fragmentor=exports.Fragment=void 0;const util_1=require("./util"),css_1=require("./css"),rows_1=require("./rows"),layout_1=require("./layout"),util_2=require("./util");class Fragment{}exports.Fragment=Fragment;class Fragmentor extends layout_1.LayoutProcessor{constructor(t,e){super(t,e),this.fragments=[],this.currentFragment=null,this.fragmentStartMut=new util_2.Mutations,this.imagesToLoad=new Set,this.logNoValidBreakPoint=!0,this.dest=this.options.dest,this.dest||(this.dest=t.parentElement),this.options.plugins&&this.options.plugins.forEach(t=>this.use(t)),this.addSubProcessor(rows_1.trWithRowSpanSubFragmentor),this.addSubProcessor(rows_1.rowSubFragmentor)}onFragmentStart(t,e){discardMarginBreakBefore(t.body,e,this.fragmentStartMut),this.addImagesToLoad(t)}onFragmentBreak(t){this.setLastBreakedHeight(t.body)}setLastBreakedHeight(t){let e=t,a=null;const s=util_1.walk.predicate(util_1.walk.isHTMLElement,util_1.walk.isStatic,util_1.walk.displayAsBlock,util_1.walk.isBreakedAfter);for(;e&&e.hasAttribute("ps-breaked-after");)"fill"==css_1.getCustomProp(e,"box-remaining-extent")&&(a=e),e=util_1.walk.isRow(getComputedStyle(e))?util_1.walk.firstChild(e,s):util_1.walk.lastChild(e,util_1.walk.isStaticHtmlBlock);if(a&&a!=t){const t=this.layoutContext.bottomOffsets.get(a);if(t){const e=this.layoutContext.bodyBottom-t.after-t.currentMargin,s=util_1.rects.boundingScrollRect(a).bottom,r=parseFloat(getComputedStyle(a).height)+(e-s)+"px";this.layoutContext.mutations.setStyle(a,{height:r+"px"})}}}addImagesToLoad(t){css_1.addStyleImagesToLoad(t.container,this.imagesToLoad),t.area&&css_1.addStyleImagesToLoad(t.area,this.imagesToLoad);for(const e in t.areas)css_1.addStyleImagesToLoad(t.areas[e],this.imagesToLoad)}}function createAreas(t,e){const a=t.container.ownerDocument;if(t.areas={},e||(e=css_1.getCustomProp(t.container,"areas")),"auto"==e)return;const s=e.split(" ");for(const e of s){const s=a.createElement("ps-area");s.setAttribute("ps-name",e),t.areas[e]=(t.area||t.container).appendChild(s)}}function cleanupAreas(t){for(const e in t.areas){const a=t.areas[e];a.firstChild||a.remove()}}function discardMarginBreakBefore(t,e,a){const s=css_1.getCustomProp(t,"margin-break");(s.startsWith("discard")||s.startsWith("auto")&&!e)&&a.setAttr(t,"ps-margin-break-before","discard");const r=getComputedStyle(t);if(!parseFloat(r.borderTop)&&!parseFloat(r.paddingTop))if(util_1.walk.isRow(r))for(let s=util_1.walk.firstChild(t,util_1.walk.isStaticHtmlElement);s;s=util_1.walk.nextSibling(s,util_1.walk.isStaticHtmlElement))discardMarginBreakBefore(s,e,a);else{const s=util_1.walk.firstChild(t,util_1.walk.isStaticNode);util_1.walk.isHTMLElement(s)&&discardMarginBreakBefore(s,e,a)}}exports.Fragmentor=Fragmentor,Fragmentor.defaultOptions=Object.assign(Object.create(layout_1.LayoutProcessor.defaultOptions),{dest:null,authorCSS:!0,coreCSS:!0,defaultCSS:!0,preprocessCSS:!0,css:[],defaultPageSize:["21cm","29.7cm"],mediaType:"print"}),exports.createAreas=createAreas,exports.cleanupAreas=cleanupAreas;

},{"./css":4,"./layout":12,"./rows":17,"./util":19}],9:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isFloatCall=exports.setLeaders=exports.setTargetCounters=exports.setPageTargetCounters=exports.setMarginContents=exports.setBookmarkLabels=exports.createBookmarks=exports.parsePseudosVals=exports.prepareGcpm=exports.GCPMContext=exports.PageMarginContent=exports.PSEUDOS=exports.VERTICAL_MARGIN_BOXES=exports.HORIZONTAL_MARGIN_BOXES=exports.CORNERS=exports.SIDES=void 0;const valueParser=require("postcss-value-parser"),util_1=require("./util"),css_1=require("./css"),counters_1=require("./counters");exports.SIDES=["top","right","bottom","left"],exports.CORNERS=["top-left-corner","top-right-corner","bottom-right-corner","bottom-left-corner"],exports.HORIZONTAL_MARGIN_BOXES=["left","center","right"],exports.VERTICAL_MARGIN_BOXES=["top","middle","bottom"],exports.PSEUDOS=["before","after","marker"];class InvalidArgCountError extends TypeError{constructor(e,t,r){super(`Failed to parse '${e}(${valueParser.stringify(t)}): ${r} argument${r>1?"s":""} required.`)}}class PageMarginContent{constructor(){this.start={},this.first={},this.last={}}}exports.PageMarginContent=PageMarginContent;class GCPMContext{constructor(){this.floats=new Map,this.pendingFloats=[],this.leaders=new Map,this.stringSets={},this.pageStringSets=new PageMarginContent,this.runnings={},this.pageRunnings=new PageMarginContent,this.bookmarks=new Set,this.targetCounters={}}}function prepareGcpm(e,t,r){"clone"==css_1.getCustomProp(t,"box-decoration-break")&&e.setAttribute("ps-box-decoration-break","clone"),css_1.getCustomProp(t,"margin-break").endsWith("keep")&&e.setAttribute("ps-margin-break-after","keep");const n=css_1.getCustomProp(t,"bookmark-level");"none"!=n&&n&&r.bookmarks.add(e);const s=css_1.getCustomProp(t,"position");if(s){const t=valueParser(s).nodes[0];"function"==t.type&&"running"==t.value&&e.setAttribute("ps-running",t.nodes[0].value)}const o=css_1.getCustomProp(t,"float");if(o){const n=valueParser(o).nodes[0];if("function"==n.type&&"-ps-area"==n.value){const s=e.ownerDocument,o=n.nodes[0].value,l=s.createElement("a");l.setAttribute("ps-float-call","");const a=e.cloneNode(!0);a.setAttribute("ps-float",o),a.setAttribute("ps-float-display",css_1.getCustomProp(t,"float-display")),e.removeAttribute("id"),e.setAttribute("ps-float-base",""),e.parentNode.insertBefore(l,e.nextSibling),l.setAttribute("href","#"+util_1.dom.id(a)),l.setAttribute("ps-float-area",o);const i=n.nodes.length>2?n.nodes[2].value:"baseline";r.floats.set(e,{base:e,body:a,call:l,areaName:o,placement:i})}}for(const t of exports.PSEUDOS)parsePseudosVals(e,t,r)}function parsePseudosVals(e,t,r){const n=getComputedStyle(e,"::"+t).getPropertyValue(`--ps-${t}-vals`).trim();if(n){const s=valueParser(n).nodes.filter(e=>"function"==e.type);for(let n=0;n<s.length;n++){const o=`--ps-${t}-val-${n}`;if(!e.style.getPropertyValue(o)){const l=[s[n]];parseContentVals(l,{element:e,pseudo:t,varName:o,srcElement:e,ctx:r}),e.style.setProperty(o,valueParser.stringify(l))}}}}function parseContentVals(e,t){valueParser.walk(e,(e,r,n)=>{if("function"==e.type){let s;const o=e.nodes.filter(e=>"div"!=e.type);if("attr"==e.value?s=fnAttr:"url"==e.value?s=fnUrl:"string"==e.value?s=fnString:"element"==e.value?s=fnElement:"leader"==e.value?s=fnLeader:"target-content"==e.value||"target-text"==e.value?s=fnTargetContent:"target-counter"==e.value&&(s=fnTargetCounter),s){const e=s(o,t);"string"==typeof e?n[r]={type:"string",value:e,quote:'"'}:Array.isArray(e)?n[r]={nodes:e}:n[r]=e}}},!0)}function parseStringSetVals(e,t){valueParser.walk(e,(e,r,n)=>{if("function"==e.type){let s;const o=e.nodes.filter(e=>"div"!=e.type);if("attr"==e.value?s=fnAttr:"url"==e.value?s=fnUrl:"counter"!=e.value&&"content"!=e.value||(e.value=`target-${e.value}`,e.nodes.unshift({type:"string",value:"#"+util_1.dom.id(t.element),quote:'"'},{type:"div",value:","})),s){const e=s(o,t);"string"==typeof e?n[r]={type:"string",value:e,quote:'"'}:Array.isArray(e)&&(n[r]={nodes:e})}}},!0)}function fnAttr(e,{srcElement:t}){if(e.length<1)throw new InvalidArgCountError("attr",e,1);const r=e[0].value;return t.hasAttribute(r)?t.getAttribute(r):(util_1.logger.warn(`Invalid attr() content function call : the attribute '${r}' does not exist.`),"")}function fnUrl(e){if(e.length<1)throw new InvalidArgCountError("url",e,1);return e[0].value}function fnString(e,{srcElement:t,ctx:r}){if(e.length<1)throw new InvalidArgCountError("string",e,1);const n=e[0].value,s=e.length>1?e[1].value:"first";let o="";"first"==s?o=r.pageStringSets.first[n]||r.stringSets[n]||"":"start"==s?o=r.pageStringSets.start[n]||r.stringSets[n]||"":"last"==s?o=r.pageStringSets.last[n]||r.stringSets[n]||"":"first-except"==s&&(o=r.pageStringSets.first[n]?"":r.stringSets[n]||"");const l=valueParser(o).nodes;return parseContentVals(l,{element:t,srcElement:t,ctx:r}),l}function fnElement(e,{srcElement:t,ctx:r}){if(e.length<1)throw new InvalidArgCountError("element",e,1);const n=e[0].value,s=e.length>1?e[1].value:"first";let o;if("first"==s?o=r.pageRunnings.first[n]||r.runnings[n]:"start"==s?o=r.pageRunnings.start[n]||r.runnings[n]:"last"==s?o=r.pageRunnings.last[n]||r.runnings[n]:"first-except"==s&&(o=r.pageRunnings.first[n]?null:r.runnings[n]),o){t.appendChild(o.cloneNode(!0)).removeAttribute("ps-running")}return""}function fnLeader(e,{element:t,pseudo:r,ctx:n}){if(e.length<1)throw new InvalidArgCountError("leader",e,1);const s=e[0];let o;"word"==s.type?"dotted"==s.value?o=". ":"solid"==s.value?o="_":"space"==s.value&&(o=" "):"string"==s.type&&(o=s.value);const l={pseudo:r,pattern:o,element:t.ownerDocument.createElement("ps-leader")};return"after"==r?t.appendChild(l.element):t.insertBefore(l.element,t.firstChild),l.element.textContent=l.pattern,l.element.setAttribute("ps-position",r),l.element.setAttribute("ps-direction","ltr"==getComputedStyle(t).direction?"rtl":"ltr"),n.leaders.set(t,l),""}function fnTargetCounter(e,{element:t,srcElement:r,ctx:n,varName:s}){if(e.length<2)throw new InvalidArgCountError("target-counter",e,2);const o=checkTarget(e[0].value,!1);if(!o)return"";const l=e[1].value;let a=n.targetCounters[o];a||(a=n.targetCounters[o]={});let i=s;if(!i){const e=getComputedStyle(t);let r=0;for(i=`--ps-target-counter-${r}`;e.getPropertyValue(i);)i=`--ps-target-counter-${++r}`}let u=a[l];return u||(u=a[l]=[]),u.push({element:t,varName:i}),s?"000":valueParser(`var(${i}, "000")`).nodes[0]}function fnTargetContent(e,{srcElement:t,ctx:r}){if(e.length<1)throw new InvalidArgCountError("target-content",e,1);const n=checkTarget(e[0].value);if(!n)return"";const s=t.ownerDocument.getElementById(n);if(!s)return"";const o=e.length>1?e[1].value:"text";if("text"==o)return s.textContent.trim();if("first-letter"==o)return s.textContent.trim().substr(0,1);if("before"==o||"after"==o||"marker"==o){const e=getComputedStyle(s,o).content,n=valueParser(e).nodes;return parseStringSetVals(n,{element:s,srcElement:s,ctx:r}),parseContentVals(n,{element:t,srcElement:s,ctx:r}),n}}function createBookmarks(e,t){const r=e.createElement("ps-bookmarks"),n=e.createElement("ol"),s=[n];for(const r of t.bookmarks){const n=css_1.getCustomStyle(r),o=parseInt(css_1.getCustomProp(n,"bookmark-level"));if(!isNaN(o)&&util_1.walk.hasSize(r)){const l=css_1.getCustomProp(n,"bookmark-label"),a=valueParser(l).nodes,i=e.createElement("li"),u=i.appendChild(e.createElement("a"));u.href="#"+util_1.dom.id(r),parseStringSetVals(a,{element:r,srcElement:r,ctx:t}),parseContentVals(a,{element:u,srcElement:r,ctx:t});const c=valueParser.stringify(a);u.style.setProperty("--ps-label",c);const g=e.createElement("ol");let p;g.setAttribute("ps-state",css_1.getCustomProp(n,"bookmark-state")),i.appendChild(g);for(let e=0;e<o;e++)s[e]?p=s[e]:s.push(void 0);p.appendChild(i);for(let e=o;e<s.length;e++){const t=s[e];t&&!t.firstChild&&t.remove()}s.length=o,s.push(g)}}for(const e of s)e&&!e.firstChild&&e.remove();return n.firstChild&&r.appendChild(n),r}function setBookmarkLabels(e){const t=util_1.walk.createIterator(e,util_1.walk.isConstructedBy(HTMLAnchorElement),util_1.walk.isElement);let r;for(;r=t.nextNode();){const e=valueParser(getComputedStyle(r).getPropertyValue("--ps-label")).nodes;r.textContent=e.filter(e=>"string"==e.type).map(e=>e.value).join(""),r.removeAttribute("style")}}function setMarginContents(e,t){const r=util_1.walk.createWalker(e.body,util_1.walk.isHTMLElement),n=new Map,s=new Map;do{const e=css_1.getCustomStyle(r.currentNode),t=css_1.getCustomProp(e,"string-set").trim();t&&n.set(r.currentNode,t);const o=css_1.getCustomProp(e,"position");o.startsWith("running(")&&s.set(r.currentNode,o)}while(r.nextNode());t.pageStringSets={start:{},first:{},last:{}};for(const[s,o]of n){const n=valueParser(o).nodes;let l=0;for(;l<n.length;){const o=n[l++].value,a=l;for(;l<n.length&&"div"!=n[l].type&&","!=n[l].value;)l++;const i=n.slice(a,l);parseStringSetVals(i,{element:s,srcElement:s,ctx:t});const u=valueParser.stringify(i);r.currentNode=s;const c=r.previousNode();c&&c!=e.body||(t.pageStringSets.start[o]=u),void 0===t.pageStringSets.first[o]&&(t.pageStringSets.first[o]=u),t.pageStringSets.last[o]=u,l++}}t.pageRunnings={start:{},first:{},last:{}};for(const[n,o]of s){const s=valueParser(o).nodes[0].nodes[0].value;r.currentNode=n;const l=r.previousNode();l&&l!=e.body||(t.pageRunnings.start[s]=n),void 0===t.pageRunnings.first[s]&&(t.pageRunnings.first[s]=n),t.pageRunnings.last[s]=n}const o={};for(const r in e.marginBoxes){const n=e.marginBoxes[r];"none"!=getComputedStyle(n,"::before").content&&(parsePseudosVals(n,"before",t),o[r]=!0)}for(const e in t.pageStringSets.last)t.stringSets[e]=t.pageStringSets.last[e];for(const e in t.pageRunnings.last)t.runnings[e]=t.pageRunnings.last[e];function l(t){e.marginBoxes[t].remove(),e.marginBoxes[t]=null}for(let e,t=0;exports.SIDES.length,e=exports.SIDES[t];t++)if(o[exports.CORNERS[t]]||l(exports.CORNERS[t]),t%2==0){const t=e+"-left",r=e+"-right";o[t]||o[r]||(l(t),l(r))}else{const t=e+"-top",r=e+"-bottom";o[t]||o[r]||(l(t),l(r))}for(let t,r=0;exports.SIDES.length,t=exports.SIDES[r];r++)if(r%2==0){const r=t+"-center",n=t+"-left",s=t+"-right";o[r]||(l(r),e.marginBoxes[n]&&!o[n]&&l(n),e.marginBoxes[s]&&!o[s]&&l(s))}else{const r=t+"-middle";if(!o[r]){l(r);const n=t+"-top",s=t+"-bottom";e.marginBoxes[n]&&!o[n]&&l(n),e.marginBoxes[s]&&!o[s]&&l(s)}}for(let t,r=0;exports.SIDES.length,t=exports.SIDES[r];r++){(r%2==0?exports.HORIZONTAL_MARGIN_BOXES:exports.VERTICAL_MARGIN_BOXES).every(r=>!e.marginBoxes[t+"-"+r])&&e.container.querySelector(`ps-margin[ps-side=${t}]`).remove()}for(let t,r=0;exports.SIDES.length,t=exports.SIDES[r];r++)if(r%2==0){const r=e.marginBoxes[t+"-center"];if(r){const n=e.marginBoxes[t+"-left"],s=e.marginBoxes[t+"-right"];if(n&&s){n.clientWidth!=s.clientWidth&&(r.style.maxWidth=r.clientWidth+"px",n.style.flexBasis=s.style.flexBasis="0")}}}else{const r=e.marginBoxes[t+"-middle"];if(r){const n=e.marginBoxes[t+"-top"],s=e.marginBoxes[t+"-bottom"];if(n&&s){n.clientHeight!=s.clientHeight&&(r.style.maxHeight=r.clientHeight+"px",n.style.flexBasis=s.style.flexBasis="0")}}}}function setPageTargetCounters(e,t,r){for(const t in r.targetCounters){if(e.body.querySelector("#"+t)){const n=r.targetCounters[t];for(const t in n)if("page"==t){const r=valueParser.stringify({type:"string",value:e.number.toString(),quote:'"'});for(const e of n[t])e.element.style.setProperty(e.varName,r);delete n[t]}Object.keys(n).length||delete r.targetCounters[t]}}}function setTargetCounters(e,t){for(const r in t.targetCounters){const n=document.getElementById(r),s=t.targetCounters[r];for(const t in s){let r;r=n?"pages"==t?e.length:"page"==t?counters_1.getPageCounterValue(e,n):counters_1.getCounterValue(n,t):"";const o=valueParser.stringify({type:"string",value:r.toString(),quote:'"'});for(const e of s[t])e.element.style.setProperty(e.varName,o)}}}function setLeaders(e){if(e.leaders&&e.leaders.size)for(const[t,r]of e.leaders.entries())if(t.offsetHeight){let e=t,n=getComputedStyle(e);for(;!util_1.walk.displayAsBlockStyle(n);)e=e.parentNode,n=getComputedStyle(e);const s=util_1.rects.boundingScrollRect(e),o=n.textAlign;let l=o;"justify"==o&&(e.style.textAlign="start",l=e.style.textAlign);let a=util_1.rects.boundingScrollRect(r.element);const i=a.width;r.element.textContent="",a=util_1.rects.boundingScrollRect(r.element);const u="ltr"==n.direction;let[c,g]=getLeaderStartEnd(e,s,r,a,u,l),p=g-parseFloat(u?n.paddingRight:n.paddingLeft);if(p<.1){r.element.parentNode.insertBefore(document.createElement("br"),r.element),a=util_1.rects.boundingScrollRect(r.element);const[t,o]=getLeaderStartEnd(e,s,r,a,u,l),i=o-parseFloat(u?n.paddingRight:n.paddingLeft);i<.1?(r.element.previousElementSibling.remove(),a=util_1.rects.boundingScrollRect(r.element)):(c=t,g=o,p=i)}const f=s.width-g-c;r.element.style.width=Math.floor(10*f)/10-1+"px";const d=r.element.appendChild(document.createElement("ps-leader-end"));"ltr"==n.direction?d.style.marginRight=-p+"px":d.style.marginLeft=-p+"px";let m="",x=p/i;x/Math.floor(x)<1.01&&x--;for(let e=0;e<x;e++)m+=r.pattern;d.textContent=m;let h="";const v=Math.floor(f/i);for(let e=0;e<v;e++)h+=r.pattern;r.element.appendChild(document.createTextNode(h)),r.element.scrollWidth>r.element.clientWidth&&(r.element.lastChild.nodeValue=h.slice(0,-1)),"justify"==o&&(e.style.textAlign="")}}function getLeaderStartEnd(e,t,r,n,s,o){const l=s?n.left-t.left:t.right-n.right;"start"==o?e.style.textAlign="end":"end"==o?e.style.textAlign="start":"left"==o?e.style.textAlign="right":o&&(e.style.textAlign="left");const a=util_1.rects.boundingScrollRect(r.element),i=s?t.right-a.right:a.left-t.left;return e.style.textAlign=o,[l,i]}function checkTarget(e,t=!0){const r="#"==e[0]&&e.substr(1);return r?t&&!document.getElementById(r)?(util_1.logger.warn("Invalid target-counter() content function call : the target does not exist."),null):r:(util_1.logger.warn("Invalid target-counter() content function call : the url fragment is empty."),null)}function isFloatCall(e){return"a"==e.localName&&e.hasAttribute("ps-float-call")}exports.GCPMContext=GCPMContext,exports.prepareGcpm=prepareGcpm,exports.parsePseudosVals=parsePseudosVals,exports.createBookmarks=createBookmarks,exports.setBookmarkLabels=setBookmarkLabels,exports.setMarginContents=setMarginContents,exports.setPageTargetCounters=setPageTargetCounters,exports.setTargetCounters=setTargetCounters,exports.setLeaders=setLeaders,exports.isFloatCall=isFloatCall;

},{"./counters":3,"./css":4,"./util":19,"postcss-value-parser":31}],10:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Hypher=void 0;const wordSplitRE=/([a-zA-Z0-9_\u0027\u00AD\u00DF-\u00EA\u00EB\u00EC-\u00EF\u00F1-\u00F6\u00F8-\u00FD\u0101\u0103\u0105\u0107\u0109\u010D\u010F\u0111\u0113\u0117\u0119\u011B\u011D\u011F\u0123\u0125\u012B\u012F\u0131\u0135\u0137\u013C\u013E\u0142\u0144\u0146\u0148\u0151\u0153\u0155\u0159\u015B\u015D\u015F\u0161\u0165\u016B\u016D\u016F\u0171\u0173\u017A\u017C\u017E\u017F\u0219\u021B\u02BC\u0390\u03AC-\u03CE\u03F2\u0401\u0410-\u044F\u0451\u0454\u0456\u0457\u045E\u0491\u0531-\u0556\u0561-\u0587\u0902\u0903\u0905-\u090B\u090E-\u0910\u0912\u0914-\u0928\u092A-\u0939\u093E-\u0943\u0946-\u0948\u094A-\u094D\u0982\u0983\u0985-\u098B\u098F\u0990\u0994-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BE-\u09C3\u09C7\u09C8\u09CB-\u09CD\u09D7\u0A02\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A14-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A82\u0A83\u0A85-\u0A8B\u0A8F\u0A90\u0A94-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABE-\u0AC3\u0AC7\u0AC8\u0ACB-\u0ACD\u0B02\u0B03\u0B05-\u0B0B\u0B0F\u0B10\u0B14-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3E-\u0B43\u0B47\u0B48\u0B4B-\u0B4D\u0B57\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB5\u0BB7-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C02\u0C03\u0C05-\u0C0B\u0C0E-\u0C10\u0C12\u0C14-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3E-\u0C43\u0C46-\u0C48\u0C4A-\u0C4D\u0C82\u0C83\u0C85-\u0C8B\u0C8E-\u0C90\u0C92\u0C94-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBE-\u0CC3\u0CC6-\u0CC8\u0CCA-\u0CCD\u0D02\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D28\u0D2A-\u0D39\u0D3E-\u0D43\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D60\u0D61\u0D7A-\u0D7F\u1F00-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB2-\u1FB4\u1FB6\u1FB7\u1FBD\u1FBF\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD2\u1FD3\u1FD6\u1FD7\u1FE2-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u200D\u2019]+)/gi,slashSpaceRE=/\s+\/|\/\s+/;class Hypher{constructor(u){if(this.exceptions={},this.trie=this._createTrie(u.patterns),this.leftMin=u.leftmin,this.rightMin=u.rightmin,u.exceptions){const t=u.exceptions.split(/,\s?/g);for(const u of t)this.exceptions[u.replace(/\u2027/g,"").toLowerCase()]=new RegExp("("+u.split("\u2027").join(")(")+")","i")}}_createTrie(u){const t={};for(const e in u)if(u.hasOwnProperty(e)){const B=u[e].match(new RegExp(".{1,"+ +e+"}","g"));for(const u of B){const e=u.replace(/[0-9]/g,"").split(""),B=u.split(/\D/);let A=t;for(const u of e){const t=u.charCodeAt(0);A[t]||(A[t]={}),A=A[t]}A._points=[];for(let u=0;u<B.length;u++)A._points[u]=parseInt(B[u])||0}}return t}hyphenateText(u,t=4){const e=u.split(wordSplitRE);for(let u=0;u<e.length;u++)e[u].includes("/")?0===u||u===e.length-1||slashSpaceRE.test(e[u])||(e[u]+="\u200b"):e[u].length>t&&(e[u]=this.hyphenate(e[u]).join("\xad"));return e.join("")}hyphenate(u){const t=u.toLowerCase();if(this.exceptions.hasOwnProperty(t))return u.match(this.exceptions[t]).slice(1);if(u.includes("\xad"))return[u];const e=(u="_"+u+"_").toLowerCase().split(""),B=u.split(""),A=e.length,C=[],s=[];for(let u=0;u<A;u++)C[u]=0,s[u]=e[u].charCodeAt(0);for(let u=0;u<A;u++){let t=this.trie;for(let e=u;e<A&&(t=t[s[e]]);e++){const e=t._points;if(e)for(let t=0,B=e.length;t<B;t++)C[u+t]=Math.max(C[u+t],e[t])}}const F=[""];for(let u=1;u<A-1;u++)u>this.leftMin&&u<A-this.rightMin&&C[u]%2?F.push(B[u]):F[F.length-1]+=B[u];return F}}exports.Hypher=Hypher;

},{}],11:[function(require,module,exports){
module.exports=require("./postscriptum").default;

},{"./postscriptum":14}],12:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isSubFragmentor=exports.removeFloats=exports.moveFloat=exports.testAvoidBreakInside=exports.testLinesOverflow=exports.testInlineOverflow=exports.testBoxOverflow=exports.updateBottomOffsets=exports.LayoutProcessor=exports.LayoutContext=exports.Box=void 0;const gcpm_1=require("./gcpm"),process_1=require("./process"),util_1=require("./util"),breaks_1=require("./breaks"),shim_1=require("./shim"),css_1=require("./css"),valueParser=require("postcss-value-parser");class Box{constructor(){this.range=new Range,this.avoidBreakBefore=!1,this.avoidBreakAfter=!1,this.hasInlineBlocks=!1}}exports.Box=Box;class LayoutContext extends util_1.events.EventEmitter{constructor(e,t,o,n){super(),this.boxes=[],this.floats=[],this.overflowPoint=null,this.overflowBox=null,this.mutations=new util_1.Mutations,this.root=e,this.body=t,this.areas=o,this.parentCtx=n,this.bottomOffsets=this.parentCtx?this.parentCtx.bottomOffsets:new Map}get bodyBottom(){return this._bodyBottom||(this._bodyBottom=util_1.rects.boundingScrollRect(this.body).bottom),this._bodyBottom}set bodyBottom(e){if(e!=this._bodyBottom){const t=this._bodyBottom;this._bodyBottom=e,this.emit({type:"body-bottom-change",oldBottom:t,newBottom:this._bodyBottom})}}}exports.LayoutContext=LayoutContext;class LayoutProcessor extends process_1.Processor{constructor(e,t){super(t),this.subProcessors=[],this.gcpmContext=new gcpm_1.GCPMContext,this.layoutContext=null,this.avoidBreakTypes=["avoid"],this.logNoValidBreakPoint=!1,this.source=e,this.doc=this.source.ownerDocument,shim_1.default(this.source.ownerDocument.defaultView)}get mutations(){return util_1.logger.debug("LayoutProcessor.mutations deprecated. Please use LayoutContext.mutations"),this.layoutContext&&this.layoutContext.mutations}addSubProcessor(e){return this.subProcessors.push(e),this}*contentsProcess(e,t,o){this.listenerCount("contents-start")&&(yield{type:"contents-start"});let n,r,i="detect-overflow",s=null;do{if("detect-overflow"==i){if(s=this.layoutContext=this.createLayoutContext(e,t,o),this.gcpmContext.pendingFloats.length){const e=this.gcpmContext.pendingFloats.splice(0);for(const t of e)moveFloat(t,this.layoutContext,this.gcpmContext)}yield*this.boxesProcess(e),"breakPoint"in s?(n="valid-break-point",r="break-point-found"):s.overflowPoint?(s.breakPoint=util_1.ranges.clonePoint(s.overflowPoint),s.breakedBox=s.overflowBox,r="validate-break-point",n="overflow-detected"):(s.breakPoint=util_1.ranges.positionAfter(e.lastChild),s.breakedBox=null,n="no-overflow",r="break-point-found")}else if("validate-break-point"==i){const e=validBreakPoint(s,this.avoidBreakTypes);if("boolean"!=typeof e&&util_1.ranges.pointEquals(e.breakPoint,s.breakPoint))throw new Error("Loop on break point validation");if(e)!0===e?(r="break-point-found",n="valid-break-point"):(s.breakPoint=e.breakPoint,s.breakedBox=e.breakedBox,removeFloats(s.floats,s.breakPoint),n="new-break-point-to-valid",r="validate-break-point");else{r="no-break-point",n="no-break-point";const e=s.boxes[s.boxes.length-1],t=s.boxes.findIndex(e=>!e.isRepeated);s.boxes.length-1>t?(s.breakPoint=util_1.ranges.rangeStart(e.range),s.breakedBox=e):(s.breakPoint=util_1.ranges.rangeEnd(e.range),s.breakedBox=null)}}else"no-break-point"==i&&(this.logNoValidBreakPoint&&util_1.logger.warn("No valid break point found."),r="break-point-found");(i=n&&this.listenerCount(n)?yield{type:n,layoutContext:s}:null)||(i=r)}while("break-point-found"!=i);return this.listenerCount("contents-end")&&(yield{type:"contents-end"}),n}*boxesProcess(e){const t=e.ownerDocument,o=this.layoutContext,n=o.bottomOffsets.has(e.parentElement)?[o.bottomOffsets.get(e.parentElement)]:[],r=updateBottomOffsets(n,getComputedStyle(e),css_1.getCustomStyle(e));o.bottomOffsets.set(e,r);const i=util_1.walk.createWalker(e,util_1.walk.isStaticNode);i.nextNode();let s=new Box;s.range.setStartBefore(e.firstChild);const a=new Set,l={layoutContext:o,nodes:i,areas:o.areas,currentElement:null,currentCustomStyle:null,currentStyle:null,currentBox:s},c=(e,t)=>{if(o.boxes.push(e),e.bottomOffset=t?n.pop():n[n.length-1],o.overflowPoint=testBoxOverflow(e,o.bodyBottom),e.floats&&e.floats.length)for(const t of e.floats)if(t&&!a.has(t.areaName)){!moveFloat(t,o,this.gcpmContext,e)&&a.add(t.areaName)}return o.overflowPoint&&(o.overflowBox=e),o.overflowPoint};function u(e){s=new Box,l.currentBox=s,s.range.setStartBefore(i.currentNode),e&&(s.startBlock=i.currentNode)}for(;;){let r=!1;if(i.currentNode.nodeType==Node.ELEMENT_NODE){let e=i.currentNode;if(l.currentElement=e,e.localName,gcpm_1.isFloatCall(e)){const t=this.gcpmContext.floats.get(e.previousElementSibling);s.floats||(s.floats=[]),s.floats.push(t),o.floats.push(t)}let t=l.currentStyle=getComputedStyle(e),a=l.currentCustomStyle=css_1.getCustomStyle(e);if(r=util_1.walk.displayAsBlockStyle(t)){s.startBlock||(s.startBlock=e),s.endBlock=e,s.mainBlock=e;const c=updateBottomOffsets(n,t,a);o.bottomOffsets.set(e,c),s.avoidBreakBefore||(s.avoidBreakBefore=this.avoidBreakTypes.includes(css_1.getCustomProp(a,"break-before"))),s.unbreakable||(s.unbreakable=breaks_1.unbreakableElement(e)),s.isRepeated||(s.isRepeated=e.hasAttribute("ps-repeated")),this.avoidBreakTypes.includes(css_1.getCustomProp(a,"break-inside"))||this.fixWidth(e,t,o);for(const e of this.subProcessors){let t=e.call(this,l);if(t){if(t instanceof Promise&&(t=yield t),s.unbreakable="subFragmentor",!t)break;if(t.breakPoint)return o.breakPoint=t.breakPoint,o.breakedBox=s,o;if(t.floats&&o.floats.push(...t.floats),t.overflowPoint)return o.overflowPoint=t.overflowPoint,o.overflowBox=s,o}}const u=i.currentNode;u!=e&&(e=u,a=css_1.getCustomStyle(e),t=getComputedStyle(e),(r=util_1.walk.displayAsBlockStyle(t))&&(s.endBlock=e)),s.avoidBreakAfter||(s.avoidBreakAfter=s.isRepeated||this.avoidBreakTypes.includes(css_1.getCustomProp(a,"break-after")))}}let a=!1;if(r||(s.inlinesRange||(s.inlinesRange=t.createRange(),s.inlinesRange.setStartBefore(i.currentNode),s.inlinesStartBoundary=!0),s.inlinesRange.setEndAfter(i.currentNode),util_1.walk.isInlineBlockElement(i.currentNode)&&(a=!0,s.hasInlineBlocks=!0)),"replacedElement"==s.unbreakable||"subFragmentor"==s.unbreakable||a||!i.firstChild()){for(;!i.nextSibling();){const t=i.parentNode();if(r=!t||util_1.walk.displayAsBlock(t),t&&!s.avoidBreakAfter&&(s.avoidBreakAfter=this.avoidBreakTypes.includes(css_1.getCustomProp(t,"break-after"))),i.currentNode==e)return s.range.setEndAfter(e.lastChild),c(s,r),o;s.endBlock=t}s.inlinesRange&&(s.inlinesStartBoundary=!1);const t=util_1.walk.displayAsBlock(i.currentNode);if(!r&&t&&(s.mainBlock=null),r||t){if(s.range.setEndBefore(i.currentNode),c(s,r))return o;u(t)}}else if(!r&&!s.inlinesStartBoundary&&util_1.walk.displayAsBlock(i.currentNode)){if(s.mainBlock=s.endBlock=null,s.range.setEndBefore(i.currentNode),s.inlinesRange.setEndBefore(i.currentNode),c(s,r))return o;u(!0)}}return o}createLayoutContext(e,t,o){return new LayoutContext(e,e,t,o)}fixWidth(e,t,o){if(e.hasAttribute("ps-fixed-width"))return;let n=!1;if(e instanceof HTMLTableElement){const r=e.caption==e.firstElementChild&&e.caption;let i=r?r.nextElementSibling:e.firstElementChild;const s=Array.from(e.rows[0].cells).reduce((e,t)=>e+t.colSpan,0),a=new Map;if("colgroup"==i.localName){if(s!=i.children.length)return void util_1.logger.warn("Invalid colgroup/col count. The width of the table cannot be fixed.");for(let e=0;e<s;e++){const t=i.children.item(e).style.width;t&&!t.endsWith("%")||a.set(e,-1)}}else{i=this.doc.createElement("colgroup"),e.insertBefore(i,r.nextElementSibling||e.firstElementChild);for(let e=0;e<s;e++)i.appendChild(this.doc.createElement("col")),a.set(e,-1);o.mutations.push({colgroup:i,revert(){this.colgroup.remove()}})}let l=a.size;if(l){for(const t of e.rows){for(let e=0,o=0;e<t.cells.length&&l;e++){const n=t.cells[e];1==n.colSpan&&-1==a.get(o)&&(a.set(o,n.getBoundingClientRect().width),l--),o+=n.colSpan}if(!l)break}for(let e=0;e<s;e++){const t=a.get(e);if(-1!=t){const n=i.children.item(e);o.mutations.setStyle(n,{width:t+"px"})}}}this.mutations.setStyle(e,{"min-width":t.width}),n=!0}else if("tr"!=e.localName&&util_1.walk.isRow(t)){const t=new Map;for(const o of e.children)util_1.walk.isStatic(o)&&t.set(o,getComputedStyle(o).width);for(const[e,n]of t)o.mutations.setStyle(e,{width:n});n=!0}n&&o.mutations.setAttr(e,"ps-fixed-width")}}function updateBottomOffsets(e,t,o){const n=e[e.length-1],r=css_1.getCustomProp(o,"box-decoration-break"),{inside:i,currentMargin:s}=n||{inside:0,currentMargin:0};let a={after:i,inside:i,currentMargin:0};"keep"==css_1.getCustomProp(o,"margin-break")&&(a.currentMargin=Math.max(parseFloat(t.marginBottom),s));let l=0;if("clone"==r&&(l+=parseFloat(t.paddingBottom),"none"!=t.borderBottomStyle&&(l+=parseFloat(t.borderBottomWidth),"table"==t.display&&"separate"==t.borderCollapse))){const e=parseFloat(t.borderSpacing.split(" ")[1]);e&&(l+=e)}return l&&(a.after+=a.currentMargin,a.inside+=l+a.currentMargin,a.currentMargin=0),n&&Object.keys(a).every(e=>a[e]==n[e])?a=n:Object.freeze(a),e.push(a),a}function validBreakPoint(e,t){const o=e.body.ownerDocument,n=e.body.ownerDocument.defaultView,r=util_1.ranges.findPointInRanges(e.boxes.map(e=>e.range),e.breakPoint,!0);if(-1==r)throw new Error("Box of the break point not found.");let i=e.boxes[r];function s(e){return{breakPoint:util_1.ranges.rangeStart(e.range),breakedBox:e}}const a=testAvoidBreakInside(e.breakPoint.container,e,t,e.breakPoint);if(a){const t=util_1.ranges.positionBefore(a),o=util_1.ranges.positionBefore(e.root);if(util_1.ranges.pointEquals(t,o)||util_1.ranges.isPrecedingPoint(o,t))return!1;const n=util_1.ranges.findPointInRanges(e.boxes.map(e=>e.range),t,!0);return s(e.boxes[n])}if(e.breakPoint.container==i.range.startContainer&&e.breakPoint.offset==i.range.startOffset){const t=r>0&&e.boxes[r-1];if(!t)return!1;if(!i.avoidBreakBefore&&!t.avoidBreakAfter)return!0;if(!t.inlinesRange)return s(t);i=t,e.breakPoint=util_1.ranges.rangeEnd(t.inlinesRange)}if(i.unbreakable)return s(i);if(!(i.inlinesRange&&i.inlinesRange.isPointInRange(e.breakPoint.container,e.breakPoint.offset)))return s(i);{if(0==e.breakPoint.offset&&util_1.walk.firstChild(i.inlinesRange.startContainer,util_1.walk.isStaticNode)==e.breakPoint.container)return s(i);const t=o.createRange();t.setStart(i.inlinesRange.startContainer,i.inlinesRange.startOffset),t.setEnd(e.breakPoint.container,e.breakPoint.offset);const r=getComputedStyle(i.inlinesRange.commonAncestorContainer),a=util_1.rects.rectsLines(t.getClientRects(),n);if(!a.length)return s(i);const l=parseInt(r.getPropertyValue("--ps-orphans"));if(a.length<l)return s(i);const c=parseInt(r.getPropertyValue("--ps-widows"));if(c>0){const t=o.createRange();t.setStart(e.breakPoint.container,e.breakPoint.offset),t.setEnd(i.inlinesRange.endContainer,i.inlinesRange.endOffset);const r=util_1.rects.rectsLines(t.getClientRects(),n),u=util_1.rects.rectsLines(i.inlinesRange.getClientRects(),n),d=c-r.length;if(d>0){const e=u.length-r.length-d;if(e<l)return s(i);{const t=u[e-1],o=getComputedStyle(i.mainBlock||util_1.walk.ancestorOrSelf(i.range.commonAncestorContainer,util_1.walk.isElement)).direction;return i.inlineStart="ltr"==o?Math.ceil(t.left):Math.floor(t.right),{breakPoint:testLinesOverflow(i,a,Math.ceil(t.bottom)),breakedBox:i}}}}}return!0}function testBoxOverflow(e,t){if(e.mainBlock||!e.inlinesRange){const t=util_1.rects.boundingScrollRect(e.startBlock);e.top=t.top,e.startBlock==e.endBlock?e.bottom=t.bottom:(e.bottom=util_1.rects.boundingScrollRect(e.endBlock).bottom,e.endBlock.contains(e.startBlock)&&t.bottom>e.bottom&&(e.bottom=t.bottom))}else e.inlinesRangeRect=util_1.rects.boundingScrollRect(e.inlinesRange),e.bottom=e.inlinesRangeRect.bottom,e.top=e.inlinesRangeRect.top;const o=t-e.bottomOffset.after-e.bottomOffset.currentMargin;if(e.bottom>o){let t=util_1.ranges.rangeStart(e.range);return!e.unbreakable&&e.inlinesRange&&o-e.top>=4&&(t=testInlineOverflow(e,o)),t}return null}function testInlineOverflow(e,t,o){if(o||(o=t-e.bottomOffset.inside-e.bottomOffset.currentMargin),e.inlinesRangeRect||(e.inlinesRangeRect=util_1.rects.boundingScrollRect(e.inlinesRange)),e.inlinesRangeRect.bottom<o)return util_1.ranges.rangeEnd(e.inlinesRange);if(!e.inlineStart){const t=getComputedStyle(e.mainBlock||util_1.walk.ancestorOrSelf(e.range.commonAncestorContainer,util_1.walk.isElement)).direction;e.inlineStart="ltr"==t?Math.ceil(e.inlinesRangeRect.left):Math.floor(e.inlinesRangeRect.right)}const n=util_1.rects.rectsLines(e.inlinesRange.getClientRects(),e.inlinesRange.startContainer.ownerDocument.defaultView);return n.length<=1?util_1.ranges.rangeStart(e.range):testLinesOverflow(e,n,o)}function testLinesOverflow(e,t,o){const n=e.range.commonAncestorContainer.ownerDocument;for(let r=0;r<=t.length;r++){const i=t[r];let s;if(r==t.length?s=t[r-1]:i.bottom>Math.ceil(o)&&(r===t.length-1||t[r+1].top>Math.ceil(o))&&(s=i),s){let t=util_1.ranges.textPositionFromPoint(n,e.inlineStart,Math.ceil(s.top)+2);if(!t)return util_1.ranges.rangeStart(e.range);if(util_1.ranges.containsPoint(e.inlinesRange,t)||(t=util_1.ranges.textPositionFromPoint(n,e.inlineStart,Math.ceil(s.top))),util_1.ranges.containsPoint(e.inlinesRange,t)){t.container.nodeType==Node.TEXT_NODE&&0==t.offset&&(t=util_1.ranges.positionBefore(t.container));const o=util_1.ranges.nodeAtPoint(t)||t.container;if(util_1.walk.isElement(o)&&gcpm_1.isFloatCall(o)&&(t=util_1.ranges.positionBefore(o.previousElementSibling)),e.hasInlineBlocks){let n=o;for(;n!=(e.mainBlock||e.range.commonAncestorContainer);){if(util_1.walk.displayAsInlineBlock(n)){t=util_1.ranges.positionBefore(n);break}n=n.parentElement}}return t}return util_1.logger.warn("Overflowing text position outside of the box inline range."),util_1.ranges.rangeStart(e.range)}}}function testAvoidBreakInside(e,t,o,n,r=!1){let i,s=e.nodeType==Node.TEXT_NODE?e.parentElement:e;function a(){if(!i){let e=t;for(;e.parentCtx;)e=e.parentCtx;i=e.body.getBoundingClientRect().height}return i}for(;s&&s!=t.body.parentNode;){if(util_1.walk.displayAsBlock(s)){const e=css_1.getCustomProp(s,"break-inside");if("auto"!=e){let t=o.includes(e)&&!s.hasAttribute("ps-breaked-before");if(!t){const o=valueParser(e).nodes[0];if("function"==o.type&&"-ps-avoid-if-below"==o.value){const e=css_1.computeLength(o.nodes[0].value,a());if(e&&s.scrollHeight-1<e&&(t=!0),!t&&n&&o.nodes.length>2){const e=css_1.computeLength(o.nodes[2].value,s.getBoundingClientRect().height);if(e)if(r){util_1.ranges.nodeAtPoint(n).getBoundingClientRect().top-s.getBoundingClientRect().top-1<e&&(t=!0),r=!1}else{const o=document.createRange();o.setStartBefore(s),o.setEnd(n.container,n.offset),o.getBoundingClientRect().height-1<e&&(t=!0)}}}}if(t)return s}}s=s.parentElement}return!1}function moveFloat(e,t,o,n){if(t.overflowPoint&&util_1.ranges.isPrecedingPoint(util_1.ranges.positionBefore(e.call),t.overflowPoint))return!1;let r=util_1.rects.boundingScrollRect(e.call);if(r.bottom>=t.bodyBottom)return!1;const i=t.areas[e.areaName];if(!i)return o.pendingFloats.push(e),!1;const s=layoutCtxFromArea(t,i);i.lastChild&&i.lastChild.nodeType!=Node.TEXT_NODE&&i.appendChild(document.createTextNode(" ")),i.appendChild(e.body);const a=util_1.rects.boundingScrollRect(i),l=s.body,c=util_1.rects.boundingScrollRect(l);if(e.placement&&"baseline"!=e.placement){if("fill"!=e.placement)throw new Error("Not implemented");e.body.style.width="100%",e.body.style.height="100%"}else{e.body.style.marginTop="",r=util_1.rects.boundingScrollRect(e.call);let t=util_1.rects.boundingScrollRect(e.body);if((a.left<c.left&&a.right<=c.left||a.right>c.right&&a.left>=c.right)&&t.top<r.top&&(e.body.style.marginTop=Math.max(r.top-t.top,0)+"px",t=util_1.rects.boundingScrollRect(e.body)),!util_1.rects.includesRect(a,t))return o.pendingFloats.push(e),e.body.remove(),!1}const u=util_1.rects.boundingScrollRect(l),d=t.emit({type:"float-move",float:e,area:i,areaBody:l,areaBodyRect:c,newAreaBodyRect:u});if("pending"==d&&o.pendingFloats.push(e),!1===d||"pending"==d)return e.body.remove(),!1;if(n){if(r.bottom>=u.bottom)return e.body.remove(),t.overflowPoint=testInlineOverflow(n,u.bottom,r.top),!1}else if(!u.height||!u.width)return e.body.remove(),!1;return s.bodyBottom!=u.bottom&&(s.bodyBottom=u.bottom),n&&(t.overflowPoint=testBoxOverflow(n,t.bodyBottom)),t.mutations.push({floatBody:e.body,revert(){this.floatBody.remove()}}),!0}function removeFloats(e,t){for(let o=e.length-1;o>=0;o--){const n=e[o];if(t&&!util_1.ranges.isPrecedingPoint(util_1.ranges.positionBefore(n.call),t))break;n.body.remove(),e.pop()}}function layoutCtxFromArea(e,t){let o=e;for(;o.body.parentElement!=t.parentElement;)o=o.parentCtx;return o}function isSubFragmentor(e){return"parentFragmentor"in e}exports.LayoutProcessor=LayoutProcessor,LayoutProcessor.defaultOptions=process_1.Processor.defaultOptions,exports.updateBottomOffsets=updateBottomOffsets,exports.testBoxOverflow=testBoxOverflow,exports.testInlineOverflow=testInlineOverflow,exports.testLinesOverflow=testLinesOverflow,exports.testAvoidBreakInside=testAvoidBreakInside,exports.moveFloat=moveFloat,exports.removeFloats=removeFloats,exports.isSubFragmentor=isSubFragmentor;

},{"./breaks":1,"./css":4,"./gcpm":9,"./process":16,"./shim":18,"./util":19,"postcss-value-parser":31}],13:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createPage=exports.Paginator=exports.Page=exports.Sequence=void 0;const fragments_1=require("./fragments"),util_1=require("./util"),flow_1=require("./flow"),columns_1=require("./columns"),gcpm_1=require("./gcpm"),breaks_1=require("./breaks"),css_1=require("./css"),css_2=require("./css");class Sequence{constructor(e){this.startPageIndex=-1,this.endPageIndex=-1,this.range=e.range.startContainer.ownerDocument.createRange(),this.pageName=e.pageName,this.pageGroupStart=e.pageGroupStart,this.breakType=e.breakType,this.breakPoint={container:e.range.endContainer,offset:e.range.endOffset}}}exports.Sequence=Sequence;class Page extends fragments_1.Fragment{}exports.Page=Page;class Paginator extends fragments_1.Fragmentor{constructor(e){super(e&&e.source||document.body,e),this.sequences=[],this.avoidBreakTypes=["avoid","avoid-page"],this.forcedBreakTypes=["always","page","left","right","recto","verso"],this.addSubProcessor(columns_1.columnsSubProcessor),this._process=this.paginationProcess()}get pages(){return this.fragments}get currentPage(){return this.currentFragment}set currentPage(e){this.currentFragment=e}*paginationProcess(){if(!this.source)throw new Error("The pagination source is undefined");if(this.source.closest("[ps-process=pending]"))throw new Error("Fragmentation already underway on this source.");if(this.source==this.source.ownerDocument.documentElement)throw new Error("Pagination source cannot be the document element");if(this.dest.setAttribute("ps-process","pending"),this.listenerCount("start")&&(yield"start"),!util_1.walk.firstChild(this.source,util_1.walk.isStaticNode))throw new Error("The pagination source has no static child");const e=[window.scrollX,window.scrollY];util_1.dom.id(this.dest);let t=css_1.cssContexts.get(this.doc);t||(t=new css_1.CssContext(this.doc,this.options),css_1.cssContexts.set(this.doc,t),yield*t.process()),this.listenerCount("preparation-start")&&this.emit("preparation-start");const s=util_1.walk.createIterator(this.source);let r,n;for(;r=s.nextNode();)if(this.listenerCount("prepare")&&this.emit({type:"prepare",node:r}),util_1.walk.isHTMLElement(r)){const e=getComputedStyle(r);if("none"!=e.display){r instanceof HTMLTableElement&&r.caption&&"bottom"==e.captionSide&&r.appendChild(r.caption);const s=css_1.getCustomStyle(r);gcpm_1.prepareGcpm(r,s,this.gcpmContext);let n=t.testHyphens(r,e);n&&(n instanceof Promise&&(n=yield n),n&&t.hyphenate(r,n))}}for(this.listenerCount("preparation-end")&&this.emit("preparation-end"),this.source.style.display="none",this.listenerCount("pagination-start")&&(yield"pagination-start"),this.flowIterator=new flow_1.FlowIterator(this.source,this.forcedBreakTypes,this.options.maxFragmentTextLength);n=this.flowIterator.next();)this.firstPageSide||(this.firstPageSide="left"==n.breakType?"left":"right"),yield*this.sequenceProcess(n);this.onPageEnd(this.currentPage,!0);const a=getComputedStyle(this.dest).counterReset;this.dest.style.counterReset=("none"==a?"":a)+" pages "+this.pages.length;let o=null;this.options.bookmarks&&(o=gcpm_1.createBookmarks(this.doc,this.gcpmContext),this.dest.insertBefore(o,this.pages[0].container)),gcpm_1.setTargetCounters(this.pages,this.gcpmContext),o&&gcpm_1.setBookmarkLabels(o),gcpm_1.setLeaders(this.gcpmContext),yield Promise.all(Array.from(this.imagesToLoad,e=>new Promise(t=>{const s=new Image;s.onload=t,s.onerror=t,s.src=e}))),this.source.remove(),this.dest.setAttribute("ps-process","ended"),this.listenerCount("pagination-end")&&(yield"pagination-end"),window.scrollTo(...e),this.listenerCount("end")&&(yield"end")}*sequenceProcess(e){this.previousSequence=this.currentSequence;const t=this.currentSequence=new Sequence(e);if(this.sequences.push(t),this.listenerCount("sequence-start")&&(yield{type:"sequence-start",sequence:t}),this.pages.length){const e=(this.pages.length+("left"==this.firstPageSide?1:0))%2?"left":"right";("left"==t.breakType&&"right"==e||"right"==t.breakType&&"left"==e||"verso"==t.breakType&&e==this.firstPageSide||"recto"==t.breakType&&e!=this.firstPageSide)&&(yield*this.pageProcess(!0))}for(e.range.setStartBefore(this.source.firstChild);!e.range.collapsed;){if(yield*this.pageProcess(!1,e.maxTextLength),this.layoutContext&&(e.range.setStart(this.layoutContext.breakPoint.container,this.layoutContext.breakPoint.offset),e.range.setEndAfter(this.currentPage.body.lastChild)),e.maxTextLength&&(!this.layoutContext||e.range.collapsed)){this.layoutContext?util_1.logger.debug("Max flow text length reached (after contents processing)."):util_1.logger.debug("Max flow text length reached (before contents processing).");const t=this.currentPage.body;this.layoutContext&&this.layoutContext.mutations.revert(),this.fragmentStartMut.revert(),breaks_1.unbreak(t,this.source,"after"),e=this.flowIterator.next(),yield*this.continuePageProcess(this.currentPage,e),e.range.setStart(this.layoutContext.breakPoint.container,this.layoutContext.breakPoint.offset),e.range.setEndAfter(this.currentPage.body.lastChild)}this.fragmentStartMut.commit(),this.layoutContext.mutations.commit(),this.listenerCount("page-end")&&(yield{type:"page-end",page:this.currentPage})}this.currentPage.container.removeAttribute("ps-processing"),this.listenerCount("sequence-end")&&(yield{type:"sequence-end",sequence:t})}*pageProcess(e,t=!1){const s=this.currentPage;s&&util_1.logger.removeScope();const r=(this.pages.length+("right"==this.firstPageSide?0:1))%2?"left":"right",n=e&&this.previousSequence||this.currentSequence,a=this.currentPage=createPage(this.doc,n,n.pageName,r,this.pages.length+1,e);if(this.pages.push(a),util_1.logger.addScope(`page ${a.number}`),-1!=this.currentSequence.startPageIndex||e||(this.currentSequence.startPageIndex=this.pages.length-1),this.currentSequence.endPageIndex=this.pages.length-1,this.dest.appendChild(a.container),this.listenerCount("page-start")&&(yield{type:"page-start",page:a}),this.setBleedAndMarks(a),e)return a.body=a.area.appendChild(s.body.cloneNode(!1)),this.onPageEnd(s),this.listenerCount("page-end")&&(yield{type:"page-end",page:a}),void util_1.logger.removeScope();const o=this.pages[this.currentSequence.startPageIndex];let i;a==o?i=breaks_1.breakAtPoint(this.source,this.currentSequence.breakPoint,"before"):(i=breaks_1.breakAtPoint(s.body,this.layoutContext.breakPoint),this.onFragmentBreak(s)),this.layoutContext=null,i.style.display="",i.setAttribute("ps-page-body",""),a.body=a.area.appendChild(i),fragments_1.createAreas(a),a.container.setAttribute("ps-processing",""),s&&(s.container.removeAttribute("ps-processing"),this.onPageEnd(s)),this.onFragmentStart(a,a==o),t&&i.scrollHeight<=i.clientHeight||(yield*this.contentsProcess(a.body,a.areas))}*continuePageProcess(e,t){const s=breaks_1.breakAtPoint(this.source,{container:t.range.endContainer,offset:t.range.endOffset},"before");s.style.display="",s.setAttribute("ps-page-body",""),e.body=e.area.insertBefore(s,e.area.firstChild),this.onFragmentStart(e,!1),yield*this.contentsProcess(e.body,e.areas)}addImagesToLoad(e){super.addImagesToLoad(e);for(const t in e.marginBoxes)css_1.addStyleImagesToLoad(e.marginBoxes[t],this.imagesToLoad)}onPageEnd(e,t=!1){gcpm_1.setMarginContents(e,this.gcpmContext),gcpm_1.setPageTargetCounters(e,this.dest,this.gcpmContext),t&&e.body.removeAttribute("ps-breaked-after")}setBleedAndMarks(e){const t=getComputedStyle(e.container),s=css_2.getCustomProp(t,"bleed");let r=css_2.getCustomProp(t,"bleed-size");const n=css_2.getCustomProp(t,"marks");"auto"==s&&n.includes("crop")&&(r="6pt",e.container.style.setProperty("--ps-bleed-size",r)),parseFloat(r)&&e.container.setAttribute("ps-bleed",n)}}function createPage(e,t,s,r,n,a){const o=new Page;o.container=e.createElement("ps-page"),o.parentSequence=t,o.side=r,o.number=n,o.blank=a,s&&o.container.setAttribute("ps-name",s);let i=r;1==n&&(i+=" first"),a?i+=" blank":t.pageGroupStart&&(i+=" first-of-group",t.pageGroupStart=!1),o.container.setAttribute("ps-pseudos",i),o.marginBoxes={};for(let t=0;t<gcpm_1.SIDES.length;t++){const s=e.createElement("ps-margin-box");s.setAttribute("ps-name",gcpm_1.CORNERS[t]),o.marginBoxes[gcpm_1.CORNERS[t]]=s,o.container.appendChild(s);const r=e.createElement("ps-margin");r.setAttribute("ps-side",gcpm_1.SIDES[t]);const n=t%2==0?gcpm_1.HORIZONTAL_MARGIN_BOXES:gcpm_1.VERTICAL_MARGIN_BOXES;for(const s of n){const n=e.createElement("ps-margin-box"),a=gcpm_1.SIDES[t]+"-"+s;n.setAttribute("ps-name",a),r.appendChild(n),o.marginBoxes[a]=n}o.container.appendChild(r)}return o.area=e.createElement("ps-page-area"),o.container.appendChild(o.area),o}exports.Paginator=Paginator,Paginator.defaultOptions=Object.assign(Object.create(fragments_1.Fragmentor.defaultOptions),{source:null,bookmarks:!0,debug:!1,maxFragmentTextLength:1e4}),exports.createPage=createPage;

},{"./breaks":1,"./columns":2,"./css":4,"./flow":7,"./fragments":8,"./gcpm":9,"./util":19}],14:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const breaks=require("./breaks"),columns=require("./columns"),counters=require("./counters"),css=require("./css"),flow=require("./flow"),fragments=require("./fragments"),gcpm=require("./gcpm"),layout=require("./layout"),pages=require("./pages"),precss=require("./precss"),process=require("./process"),rows=require("./rows"),shim=require("./shim"),util=require("./util"),util_1=require("./util"),pages_1=require("./pages"),columns_1=require("./columns"),currentScript=document.currentScript,PAGINATE_ATTR="ps-paginate",postscriptum={pagination:function(e){return e&&e.logLevel&&util_1.logger.setLevel(e.logLevel),new pages_1.Paginator(e)},columnization:function(e,r){return r&&r.logLevel&&util_1.logger.setLevel(r.logLevel),new columns_1.Columnizator(e,r)},plugin:function(e,r,t=null,s=document.currentScript){if(!r)return e in process.pluginRegistry?process.pluginRegistry[e].initializer:null;process.pluginRegistry[e]={initializer:r,defaultOptions:t,scriptOptions:s&&util_1.io.parseOptionsFromElement(s,t)}},getOptions:function(){let e;if(currentScript&&currentScript.hasAttribute("ps-paginate")?e=currentScript:document.documentElement.hasAttribute("ps-paginate")&&(e=document.documentElement),e){const r=util_1.io.parseOptionsFromElement(e,pages_1.Paginator.defaultOptions);return r.hyphUri||!currentScript||currentScript.src.startsWith("blob:")||(r.hyphUri=new URL("hyph",currentScript.src).toString()),r}return null},breaks:breaks,columns:columns,counters:counters,css:css,flow:flow,fragments:fragments,gcpm:gcpm,layout:layout,pages:pages,precss:precss,process:process,rows:rows,shim:shim,util:util};exports.default=postscriptum,(async()=>{if(await util_1.dom.docInteractive(),!("postscriptumPreload"in window)){const e=postscriptum.getOptions();if(e){const r=postscriptum.pagination(e);try{await r.start().ended}catch(e){try{postscriptum.util.logger.error(e)}catch(e){console.error(e)}}}}})();

},{"./breaks":1,"./columns":2,"./counters":3,"./css":4,"./flow":7,"./fragments":8,"./gcpm":9,"./layout":12,"./pages":13,"./precss":15,"./process":16,"./rows":17,"./shim":18,"./util":19}],15:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.importFold=exports.importUnfold=exports.replaceMediaType=void 0;const postcss=require("postcss"),valueParser=require("postcss-value-parser"),util_1=require("./util"),GCPM_CONTENT_FUNCS=["target-text","target-content","target-counter","target-counters","leader","element","string"],SIDES=["top","right","bottom","left"],AREA_CSS_PROPS=["margin","padding","border","outline","grid","display"],CONTENT_PSEUDOS_RE=/::(before|after|marker)\s?/,SINGLE_COLON_PSEUDO_RE=/(^|[^:]):(before|after|first-letter|first-line)/g,PROPS_TO_PREFIX_RE=/^(?:size|page|break-.+|page-break-.+|orphans|widows|bookmark-.+|string-set|position|float|footnote-.+|margin-break|box-decoration-break|bleed|marks|columns|column-.+|hyphens|-ps-.+|-psp-.+)$/,PAGE_BREAKS=["auto","avoid","always","page","left","right","recto","verso"],URI_PROPS_RE=/^(--.+|.+-image|background|list-style|cursor|content|border|border-image-source|mask|-webkit-mask|src|symbols)$/,PSEUDO_TO_ATTR_RE=/:-(ps-breaked-(before|after))/g,FLOAT_PSEUDO_RE=/^(.*)::(-ps-float|footnote)-(marker|call)$/,COLUMNS_PSEUDO_RE=/^(.*)::-ps-columns(\b.+)?$/,NOT_VAL_NODE={type:"word",value:"not"},SPACE_VAL_NODE={type:"space",value:" "},COMMA_VAL_NODE={type:"div",value:","},HREF_VAL_NODE={type:"word",value:"href"};function selectMediaType(e,s){e.walkAtRules(/^media|import\b/,e=>{e.params=replaceMediaType(e.params,s.mediaType)})}function replaceMediaType(e,s){const o=valueParser(e),t=[];for(let e=0;e<o.nodes.length;e++){const a=o.nodes[e];if("word"==a.type&&"and"!=a.value)if("not"==a.value){const r=o.nodes[e+2];r.value!=s&&"all"!=r.value||t.push(a,SPACE_VAL_NODE),r.value="all",t.push(r),e+=2}else"only"!=a.value&&(a.value!=s&&"all"!=a.value&&t.push(NOT_VAL_NODE,SPACE_VAL_NODE),a.value="all",t.push(a));else t.push(a)}return valueParser.stringify(t)}function css3Pseudos(e){e.walkRules(e=>{e.selector=e.selector.replace(SINGLE_COLON_PSEUDO_RE,"$1::$2")})}function replaceAtPageRules(e,s){const o=new Set;e.walkAtRules(/^page\b/,e=>{const t=postcss.list.comma(e.name.substr(4)+e.params),a=e.parent;for(const r of t){let t="ps-page";const p=r.replace(/:/g," :").split(" ");let n=null;for(const e of p)e&&(":"==e[0]?e.startsWith(":nth(")?t+=":nth-of-type"+e.substr(4):e.startsWith(":first")?t+=n?"[ps-pseudos~=first-of-group][ps-pseudos]":`[ps-pseudos~=${e.substr(1)}][ps-pseudos]`:t+=`[ps-pseudos~=${e.substr(1)}]`:t+=`[ps-name=${n=e}]`);const l=postcss.rule({selector:t});l.source=e.source;const c=postcss.rule({selector:t+" > ps-page-area"});c.source=e.source;for(const t of e.nodes)if("decl"==t.type){const e=t;if("size"==e.prop){const a=getPageSize(e.value,s.defaultPageSize);o.add(a.join(" "));const r=postcss.decl({prop:"--ps-page-width",value:a[0].toString()}),p=postcss.decl({prop:"--ps-page-height",value:a[1].toString()});p.source=t.source,l.append(r),l.append(p),l.append(t.clone())}else if(AREA_CSS_PROPS.some(s=>e.prop.startsWith(s)))if("margin"==e.prop){const e=expandSideDecl(t);for(const[s,o]of SIDES.entries())l.append(t.clone({prop:`--ps-page-margin-${o}`,value:pageMarginValue(e[s],o)}))}else if(e.prop.startsWith("margin-")){const s=e.prop.substr(7);l.append(t.clone({prop:`--ps-page-margin-${s}`,value:pageMarginValue(e.value,s)}))}else if("padding"==e.prop){const s=expandSideDecl(t);for(const[o,a]of SIDES.entries())c.append(t.clone({prop:e.prop+"-"+a,value:pageMarginValue(s[o],a)}))}else if(e.prop.startsWith("padding-")){const s=e.prop.substr(7);c.append(t.clone({prop:e.prop,value:pageMarginValue(e.value,s)}))}else c.append(t.clone());else"width"!=e.prop&&"height"!=e.prop&&l.append(t.clone())}l.nodes.length&&a.insertBefore(e,l),c.nodes.length&&a.insertBefore(e,c);for(const s of e.nodes)if("atrule"==s.type){const o=s,r=o.name.startsWith("footnote");if("-ps-body"==o.name){const s=postcss.rule({selector:`${t} > ps-page-area > [ps-page-body]`});for(;o.first;)s.append(o.first);s.append(postcss.decl({prop:"grid-area",value:"-ps-body"})),a.insertBefore(e,s)}else if("-ps-area"==o.name||r){r&&(o.params=o.name+o.params);const s=o.params.match(/^(.+?)\b(.*)$/);let p=s[1];"footnote"==p&&(p="footnotes");const n=postcss.rule({selector:`${t} > ps-page-area > ps-area[ps-name=${p}]${s[2].trim()}`});for(;o.first;)n.append(o.first);n.append(postcss.decl({prop:"grid-area",value:p})),a.insertBefore(e,n)}else if(o.name.startsWith("-ps-")){const s=o.name.substr(4);if(SIDES.includes(s)){const r=postcss.rule({selector:`${t} > ps-margin[ps-side=${s}]`});for(;o.first;)r.append(o.first);a.insertBefore(e,r)}}else{const s=o.name.substr(0,o.name.indexOf("-")),r=o.name.endsWith("-corner")?`${t} > ps-margin-box[ps-name=${o.name}]`:`${t} > ps-margin[ps-side=${s}] > ps-margin-box[ps-name=${o.name}]`,p=postcss.rule({selector:r});for(p.source=o.source;o.first;)p.append(o.first);for(const s of p.nodes)if("content"==s.prop){const o=postcss.rule({selector:r+"::before"});o.append(s),a.insertBefore(e,o);break}p.nodes.length&&a.insertBefore(e,p)}}}e.remove()})}function expandSideDecl(e){const s=postcss.list.space(e.value);let o=new Array(4);switch(s.length){case 1:for(let e=0;e<4;e++)o[e]=s[0];break;case 2:o[0]=o[2]=s[0],o[1]=o[3]=s[1];break;case 3:o[0]=s[0],o[1]=o[3]=s[1],o[2]=s[2];break;case 4:o=s}return o}function pageMarginValue(e,s){const o="top"==s||"bottom"==s?"height":"width";return e.endsWith("%")?`calc(var(--ps-page-${o}) * ${parseFloat(e)} / 100)`:e}function getPageSize(e,s){let o=null;const t=postcss.list.space(e),a=t[t.length-1],r="landscape"==a;if(("portrait"==a||r)&&(t.pop(),t.length||t.push("auto")),t.length&&t[0].match(/^[a-z]/i))switch(t[0].toLowerCase()){case"a5":o=["148mm","210mm"];break;case"a4":o=["210mm","297mm"];break;case"a3":o=["297mm","420mm"];break;case"b5":o=["176mm","250mm"];break;case"b4":o=["250mm","353mm"];break;case"jis-b5":o=["182mm","257mm"];break;case"jis-b4":o=["257mm","364mm"];break;case"letter":o=["8.5in","11in"];break;case"legal":o=["8.5in","14in"];break;case"ledger":o=["11in","17in"];break;case"auto":o=s;break;case"a6":o=["105mm","148mm"];break;case"a7":o=["74mm"," 105mm"];break;case"a8":o=["52mm","74mm"];break;case"a9":o=["37mm","52mm"];break;case"a10":o=["26mm","37mm"]}return o||(o=t.length>=2?[t[0],t[1]]:[t[0],t[0]]),r&&(o=[o[1],o[0]]),o}function prefixProps(e){e.walkRules(e=>{e.selector=e.selector.replace(PSEUDO_TO_ATTR_RE,"[$1]");let s=null;e.walkDecls(PROPS_TO_PREFIX_RE,o=>{let t,a,r=!1;if(o.prop.startsWith("page-break-"))PAGE_BREAKS.includes(o.value)?((a=o.clone()).prop=o.prop.replace(/^page-break-/,"--ps-break-"),"always"==o.value?a.value="page":"avoid"==o.value&&(a.value="avoid-page"),t=!0):o.remove();else if("position"==o.prop)(t=o.value.match(/^running\(/))||(r=!0);else if("float"==o.prop)"footnote"==o.value?(o.value="-ps-area(footnotes)",t=!0):t=o.value.match(/^-ps-area\(/),t||(r=!0);else if(o.prop.startsWith("footnote-"))o.prop=o.prop.replace("footnote-","-ps-float-"),t=!0;else if("orphans"==o.prop||"widows"==o.prop)o.value.match(/^\d+$/)&&parseInt(o.value)>0?o.prop="--ps-"+o.prop:o.remove();else if("columns"==o.prop||"-ps-columns"==o.prop){const e=o.cloneAfter();e.prop="-ps-column-width";const s=valueParser(o.value).nodes.filter(e=>"word"==e.type).map(e=>e.value);s[0].match(/^\d+$/)?(o.value=s[0],e.value=s[1]||"auto"):s.length>1&&s[1].match(/^\d+$/)?(o.value=s[1],e.value=s[0]||"auto"):(o.value="auto",e.value="auto"==s[0]?s[1]||"auto":s[0]),o.prop="-ps-column-count",t=!0}else"hyphens"==o.prop?"auto"==o.value&&(o.cloneBefore({value:"manual"}),o.prop="--ps-"+o.prop):"-ps-hyphens"==o.prop?"auto"==o.value&&(o.cloneBefore({prop:"hyphens",value:"manual"}),o.prop="-"+o.prop):"bleed"==o.prop?(o.prop="--ps-bleed",o.cloneBefore({prop:"--ps-bleed-size",value:"auto"==o.value?"0px":o.value})):"marks"==o.prop?o.prop="--ps-"+o.prop:t=!0;(t||r)&&(s||((s=postcss.rule()).selectors=e.selectors.map(e=>e+"::backdrop"),e.parent.insertBefore(e,s)),a||(a=o.clone(),o.prop.startsWith("-ps-")?a.prop="-"+o.prop:o.prop.startsWith("-psp-")?a.prop="-"+o.prop:a.prop="--ps-"+o.prop,r&&(a.value="")),s.append(a),r||o.remove(),e.nodes.length||e.remove())})})}function replacePseudos(e){e.walkRules(e=>{const s=e.selectors.slice();for(let o=0;o<s.length;o++){const t=s[o].match(FLOAT_PSEUDO_RE);if(t){const[,a,r,p]=t;if("call"==p){let t="call"==p?`[ps-float-${p}]`:`ps-float-${p}`;a&&(t=a+" + "+t),"footnote"==r&&(t+='[ps-float-area="footnotes"]'),s[o]=t;const n=e.clone({selector:t+"::before",nodes:[]});e.walkDecls("content",e=>{const t=valueParser(e.value);for(const e of t.nodes)"function"==e.type&&"counter"==e.value&&(e.value="target-counter",e.nodes.unshift({type:"function",value:"attr",nodes:[HREF_VAL_NODE]},COMMA_VAL_NODE));e.value=t.toString(),o==s.length-1?n.append(e):n.append(e.clone())}),n.nodes.length&&e.parent.insertBefore(e,n)}else s[o]=`${a}[ps-float-display=block]::marker`,s.push(`${a}[ps-float]:not([ps-float-display=block])::before`)}const a=s[o].match(COLUMNS_PSEUDO_RE);if(a){const[,s,o]=a;e.cloneAfter().selectors=[`${s} > ps-columns > ps-column > ps-column-body${o}`,`${s} > ps-column-body${o}`]}}e.selectors=s})}function replaceContent(e){e.walkRules(CONTENT_PSEUDOS_RE,e=>{let s=null,o=!1;if(e.walkDecls("content",e=>{s=e;const t=valueParser(e.value);for(const e of t.nodes)if("function"==e.type&&GCPM_CONTENT_FUNCS.includes(e.value)){o=!0;break}}),!s)return;const t={},a=e.selectors.slice();for(const s of a){const o=s.match(CONTENT_PSEUDOS_RE),a=o?o[1]:"";let r=t[a];r?r.selector+=", ":(r=t[a]=Object.keys(t).length?e.cloneBefore():e).selector="",r.selector+=s}for(const e in t)if(e){const a=t[e];o?a.walkDecls("content",s=>{const o=valueParser(s.value),t=o.nodes.findIndex(e=>"function"==e.type&&"leader"==e.value);-1!=t&&replaceLeader(a,s,o,e,t);const r=[];o.walk((s,o,t)=>{if("function"==s.type&&GCPM_CONTENT_FUNCS.includes(s.value))return t[o]=valueParser(`var(--ps-${e}-val-${r.length}, "")`).nodes[0],r.push(s),!1}),s.value=o.toString(),a.insertAfter(s,s.clone({prop:`--ps-${e}-vals`,value:r.map(e=>valueParser.stringify(e)).join(" ")}))}):a.append(s.clone({prop:`--ps-${e}-vals`,value:"none"}))}})}function replaceLeader(e,s,o,t,a){const r=e.selectors.map(e=>{return`${e.substring(0,e.indexOf("::"+t))} > ps-leader[ps-position=${t}]`}).join(", ");e.cloneAfter({selector:r}).walkDecls("content",e=>e.remove())}function load(e){return new Promise((s,o)=>{const t=new XMLHttpRequest;t.open("GET",e),t.onload=(()=>s(t.responseText)),t.onerror=(()=>o(new Error(`Unable to fetch '${e}'`))),t.send()})}exports.default=postcss.plugin("ps-precss",e=>s=>(e.mediaType&&selectMediaType(s,e),css3Pseudos(s),replaceAtPageRules(s,e),prefixProps(s),replacePseudos(s),replaceContent(s),s)),exports.replaceMediaType=replaceMediaType,exports.importUnfold=postcss.plugin("ps-import-unfold",e=>s=>{const o=[];return s.walkAtRules("import",s=>{const t=valueParser(s.params).nodes[0];if("function"==t.type&&"url"==t.value&&t.nodes.length){const a=new URL(t.nodes[0].value,e.from),r=Object.create(e);r.from=a.href;const p=load(a.href).then(e=>{return postcss().use(exports.importUnfold(r)).process(e,r)}).then(e=>{s.append(e.root.nodes)}).catch(e=>{util_1.logger.warn(e)});o.push(p)}}),s.walkDecls(URI_PROPS_RE,s=>{const o=valueParser(s.value);o.walk(s=>{if("function"==s.type&&"url"==s.value){const o=s.nodes[0],t=new URL(o.value,e.from);o.value=t.href}}),s.value=o.toString()}),Promise.all(o)}),exports.importFold=postcss.plugin("ps-import-fold",()=>{return function e(s){s.walkAtRules("import",s=>{if(s.nodes){e(s);const o=postcss.list.space(s.params),t=postcss.root();t.nodes=s.nodes,delete s.nodes;const a=new Blob([t.toString()],{type:"text/css"});o[0]=`url(${URL.createObjectURL(a)})`,s.params=o.join(" ")}})}});

},{"./util":19,"postcss":48,"postcss-value-parser":31}],16:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.pluginRegistry=exports.Processor=void 0;const util_1=require("./util");class Processor extends util_1.events.EventEmitter{constructor(t){super();const e=this.constructor.defaultOptions;this.options=Object.assign(Object.create(e),t)}get ended(){return this._ended}use(t,e){return Array.isArray(t)||(t=[t]),t.forEach(t=>{const s=exports.pluginRegistry[t];if(!s)throw new Error("Plugin '"+t+"' not found");const r=Object.create(s.defaultOptions||{});s.scriptOptions&&Object.assign(r,s.scriptOptions),e&&Object.assign(r,e),s.initializer(this,r)}),this}start(){return this._ended=this._start(),this}emitError(t){if(!this.emit({type:"error",error:t}))throw t}async _start(){try{let t=this._process.next();for(;!t.done;){let e;if(t.value instanceof Promise)e=await t.value;else{const s="string"==typeof t.value?{type:t.value}:t.value;(e=this.emit(s,this))instanceof Promise&&(e=await e)}t=this._process.next(e)}}catch(t){this.emitError(t)}}}exports.Processor=Processor,Processor.defaultOptions={plugins:[],logLevel:"warn"},exports.pluginRegistry={};

},{"./util":19}],17:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.trWithRowSpanSubFragmentor=exports.rowSubFragmentor=void 0;const util_1=require("./util"),util_2=require("./util"),layout_1=require("./layout"),layout_2=require("./layout");class CellLayoutProcessor extends layout_1.LayoutProcessor{constructor(t,e){super(t),this.parentFragmentor=e,this.gcpmContext=e.gcpmContext,this.avoidBreakTypes=e.avoidBreakTypes,this._process=this.cellProcess()}*cellProcess(){this.listenerCount("start")&&(yield"start"),util_1.logger.addScope(()=>{const t=this.source.parentElement,e=Array.prototype.indexOf.call(t.children,this.source);return`row ${Array.prototype.indexOf.call(t.parentNode.children,t)+1}, cell ${e+1}`});const t=this.parentFragmentor.layoutContext;this.lastEvent=yield*this.contentsProcess(this.source,t.areas,t),this.limitedFloats&&util_1.logger.info("Some floats was deported."),util_1.logger.removeScope(),this.listenerCount("end")&&(yield"end")}createLayoutContext(t,e,o){const n=new class extends layout_2.LayoutContext{get bodyBottom(){return o.bodyBottom}set bodyBottom(t){o.bodyBottom=t}}(t,o.body,e,o),r=Math.min(this.source.getBoundingClientRect().bottom+n.bottomOffsets.get(this.source.parentElement).inside,o.bodyBottom);return n.on("float-move",({newAreaBodyRect:t})=>{if(t.bottom<=r)return this.limitedFloats=!0,"pending"}),n}emit(t,e){super.emit(t,e);const o="string"==typeof t?{type:t}:t;"start"!=o.type&&"end"!=o.type&&this.parentFragmentor.emit(t,e)}}const rowSubFragmentor=function(t){const e=util_1.walk.isRow(t.currentStyle);return!!e&&(async()=>{const o=t.currentElement,n=[];for(const e of o.children)if(util_1.walk.isStatic(e)){if(layout_1.testAvoidBreakInside(o,t.layoutContext,this.avoidBreakTypes,util_1.ranges.positionAfter(o)))return!1;n.push(e)}t.layoutContext.mutations.setAttr(o,"ps-row",e);const r=new util_2.Mutations;for(const t of n){const o={};"flex-row"==e?o["align-items"]="flex-start":o["vertical-align"]="top",r.setStyle(t,o)}const s=new Map;let l=!1,i=!1;for(const t of n)if(util_1.walk.firstChild(t,util_1.walk.isStaticNode)){const e=new CellLayoutProcessor(t,this);if(s.set(t,e),await e.start().ended,"no-break-point"==e.lastEvent){l=!0;break}"no-overflow"!=e.lastEvent&&(i=!0)}if(r.revert(),l){for(const t of n)s.has(t)&&s.get(t).layoutContext.mutations.revert();return!1}if(i){const t=o.cloneNode(!1);o.setAttribute("ps-breaked-after",""),this.layoutContext.mutations.setAttr(t,"ps-breaked-before"),this.layoutContext.mutations.insertNode(o.parentElement,t,o.nextSibling);for(const e of n){const o=s.get(e),n=o?o.layoutContext.breakPoint:util_1.ranges.positionAtStart(e),r=this.layoutContext.mutations.breaks(e,n);t.appendChild(r),util_1.walk.firstChild(r,util_1.walk.isStaticNode)||this.layoutContext.mutations.setAttr(e,"ps-empty-after")}return{breakPoint:util_1.ranges.positionBefore(t)}}})()};function isCellRef(t){return"cell"in t}function getCell(t){return isCellRef(t)?t.cell:t}exports.rowSubFragmentor=rowSubFragmentor;const trWithRowSpanSubFragmentor=function(t){return!!("table-row"==t.currentStyle.display&&t.currentElement instanceof HTMLTableRowElement&&Array.prototype.some.call(t.currentElement.cells,t=>t.rowSpan>1))&&(async()=>{t.currentElement.setAttribute("ps-row",t.currentStyle.display),t.currentBox.mainBlock=null;const e=[];let o=t.currentElement;const n=Array.prototype.reduce.call(o.cells,(t,e)=>t+e.colSpan,0),r=new Map,s=new Map,l=util_1.walk.predicate(util_1.walk.isConstructedBy(HTMLTableRowElement),util_1.walk.isStatic);do{let i=0;const a=[];for(let t=0;t<n;t++){const e=t>0&&a[t-1];if(r.has(t)){const e=Object.create(r.get(t));e.rowSpan--,a.push(e),1==e.rowSpan?r.delete(t):r.set(t,e)}else if(e&&e.colSpan>1){const o={cell:getCell(e),rowSpan:e.rowSpan,colSpan:e.colSpan-1};a.push(o),e.rowSpan>1&&r.set(t,o)}else{const e=o.cells[i];util_1.walk.isStatic(e)&&(a.push(e),e.rowSpan>1&&r.set(t,{cell:e,rowSpan:e.rowSpan,colSpan:e.colSpan}),i++)}}e.length&&t.layoutContext.bottomOffsets.set(o,t.layoutContext.bottomOffsets.get(t.currentElement)),e.push(a),s.set(a,o),o=util_1.walk.nextSibling(o,l)}while(o&&r.size);const i=s.get(e[e.length-1]);if(layout_1.testAvoidBreakInside(i.parentElement,t.layoutContext,this.avoidBreakTypes,util_1.ranges.positionAfter(i)))return t.nodes.currentNode=i,!1;let a=null;const u=[],c=new Map;for(let o=0;o<e.length;o++){const n=e[o],r=s.get(n),l=new util_2.Mutations;for(const t of n)isCellRef(t)||l.setStyle(t,{"vertical-align":"top"});let p=!1;for(const t of n)if(!isCellRef(t)&&util_1.walk.firstChild(t,util_1.walk.isStaticNode)){const e=new CellLayoutProcessor(t,this);if(c.set(t,e),await e.start().ended,"no-break-point"==e.lastEvent){p=!0;break}}if(l.revert(),p){for(const t of n)!isCellRef(t)&&c.has(t)&&c.get(t).layoutContext.mutations.revert();if(a){if(layout_1.testAvoidBreakInside(r.parentElement,t.layoutContext,this.avoidBreakTypes,util_1.ranges.positionBefore(r),!0)){for(let t=o-1;t>=0;t--){const o=e[t];for(const t of o)!isCellRef(t)&&c.has(t)&&c.get(t).layoutContext.mutations.revert()}return t.nodes.currentNode=i,!1}if(insertRowSpans.call(this,n,r,c),u.length)return{breakPoint:util_1.ranges.positionBefore(r)};t.nodes.currentNode=r}else t.nodes.currentNode=s.get(e[e.length-1]);return!1}{let t=!1;for(const e of n)if(e.rowSpan>1)u.push(getCell(e));else{const o=c.get(getCell(e));if(o&&"no-overflow"!=o.lastEvent){t=!0,u.length=0;break}}if(t&&!u.length){const t=r.cloneNode(!1);r.setAttribute("ps-breaked-after",""),this.layoutContext.mutations.setAttr(t,"ps-breaked-before"),this.layoutContext.mutations.insertNode(r.parentElement,t,r.nextSibling),r.parentNode.insertBefore(t,r.nextSibling);for(const e of n){const o=getCell(e),n=c.get(o),r=n?n.layoutContext.breakPoint:util_1.ranges.positionAtStart(o),s=this.layoutContext.mutations.breaks(o,r);this.layoutContext.mutations.setProp(s,"rowSpan",e.rowSpan),e.rowSpan=1,t.appendChild(s),util_1.walk.firstChild(s,util_1.walk.isStaticNode)||this.layoutContext.mutations.setAttr(o,"ps-empty-after")}return{breakPoint:util_1.ranges.positionBefore(t)}}}a=n,t.nodes.currentNode=s.get(n)}})()};function insertRowSpans(t,e,o){let n=null;for(let r=t.length-1;r>=0;r--){let s=t[r];if(isCellRef(s))if(s.cell.rowSpan>1){let l=r>0&&t[r-1];for(;l&&isCellRef(l)&&l.cell==s.cell;)s=l,l=--r>0&&t[r-1];const i=o&&o.get(s.cell),a=i?i.layoutContext.breakPoint:util_1.ranges.positionAtEnd(s.cell),u=this.layoutContext.mutations.breaks(s.cell,a);this.layoutContext.mutations.setProp(u,"rowSpan",s.cell.rowSpan-s.rowSpan),u.rowSpan=s.rowSpan,e.insertBefore(u,n),util_1.walk.firstChild(u,util_1.walk.isStaticNode)||this.layoutContext.mutations.setAttr(s.cell,"ps-empty-after"),n=u}else n=s.cell;else n=s}}exports.trWithRowSpanSubFragmentor=trWithRowSpanSubFragmentor;

},{"./layout":12,"./util":19}],18:[function(require,module,exports){
"use strict";function default_1(e){!e.Element.prototype.matches&&e.Element.prototype.msMatchesSelector&&(e.Element.prototype.matches=e.Element.prototype.msMatchesSelector),e.Range.prototype.isPointInRange||(e.Range.prototype.isPointInRange=function(e,t){const o=document.createRange();return o.setStart(e,t),o.compareBoundaryPoints(Range.START_TO_START,this)>=0&&o.compareBoundaryPoints(Range.END_TO_END,this)<=0}),e.Range.prototype.intersectsNode||(e.Range.prototype.intersectsNode=function(e){const t=document.createRange();return t.selectNode(e),t.compareBoundaryPoints(Range.START_TO_END,this)>=0||t.compareBoundaryPoints(Range.END_TO_END,this)<=0}),!e.Document.prototype.caretRangeFromPoint&&e.Document.prototype.caretPositionFromPoint&&(Document.prototype.caretRangeFromPoint=function(e,t){const o=document.caretPositionFromPoint(e,t);if(!o)return null;const r=document.createRange();return r.setStart(o.offsetNode,o.offset),r})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.browser=void 0,exports.default=default_1;const uas=navigator.userAgent.match(/\b\w+\/[\d.]+\b/g).map(e=>e.split("/")),versions=uas.reduce((e,[t,o])=>(e[t]=parseInt(o),e),{}),browserNamePriority=["Edge","Chrome","Firefox","Safari"];let browser;exports.browser=browser;for(const e of browserNamePriority)if(e in versions){exports.browser=browser={name:e,version:versions[e]};break}browser||(exports.browser=browser={name:"Unknow",version:NaN}),"exports"in window||(window.exports={});

},{}],19:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Mutations=exports.walk=exports.ranges=exports.rects=exports.events=exports.debug=exports.io=exports.dom=exports.logger=exports.log=void 0;const ranges_1=require("./util/ranges"),rects_1=require("./util/rects");var log,dom,io,debug,events;function decamelizeMatch(e){return"-"+e.toLowerCase()}function decamelize(e){return e.replace(/[A-Z]/g,decamelizeMatch)}!function(e){let t;!function(e){e[e.error=0]="error",e[e.warn=1]="warn",e[e.info=2]="info",e[e.debug=3]="debug"}(t=e.LogLevel||(e.LogLevel={}));e.Logger=class{constructor(){this._scopes=[],this._level=t.warn}debug(e,o){this.log(t.debug,e,o)}info(e,o){this.log(t.info,e,o)}warn(e,o){this.log(t.warn,e,o)}error(e,o){this.log(t.error,e,o)}levelFromString(e){return"error"==e?0:"warn"==e?1:"info"==e?2:"debug"==e?3:void 0}setLevel(e){this._level="string"==typeof e?this.levelFromString(e):e}setReporter(e){this._reporter=e}addScope(e){this._scopes.push(e)}removeScope(e=1){for(let t=0;t<e;t++)this._scopes.pop()}log(e,t,o){if(e>this._level||!this._reporter)return;const r={level:e,message:"function"==typeof t?t():t};o&&this._scopes.push(o),this._scopes.length&&(r.scopes=this._scopes.map(e=>"string"==typeof e?e:e())),this._reporter.log(r),o&&this._scopes.pop()}},e.defaultReporter={log:function(e){let o=e.message;e.scopes&&(o+=` (${e.scopes.join(", ")})`),e.level==t.error?console.error(o):e.level==t.warn?console.warn(o):e.level==t.info?console.info(o):e.level==t.debug&&console.debug(o)}}}(log=exports.log||(exports.log={})),exports.logger=new log.Logger,exports.logger.setReporter(log.defaultReporter),function(e){let t=0;e.id=function(e){return e?e.id||(e.id="ps-"+t++):"ps-"+t++},e.docInteractive=function(e=document){return new Promise((t,o)=>{"loading"!=e.readyState?t():e.addEventListener("DOMContentLoaded",()=>t())})},e.docComplete=function(e=document){return new Promise((t,o)=>{"complete"==e.readyState?t():(e.defaultView.addEventListener("load",()=>t()),e.defaultView.addEventListener("error",o))})},e.isElement=function(e){return e&&e.nodeType==Node.ELEMENT_NODE}}(dom=exports.dom||(exports.dom={})),function(e){e.parseOptionsFromElement=function(e,t){const o={};e.hasAttribute("ps-options")&&Object.assign(o,JSON.parse(e.getAttribute("ps-options")));for(const r in t){const n=Array.isArray(t[r])?"array":typeof t[r],s=e.getAttribute("ps-"+decamelize(r));null!==s&&("boolean"==n?o[r]="true"==s:"array"==n?o[r]=s.length?s.trim().split(" "):null:"object"==n?o[r]=JSON.parse(s):"string"==n?o[r]=s:"number"==n&&(o[r]=parseFloat(s)))}return o},e.load=function(e){return new Promise((t,o)=>{const r=new XMLHttpRequest;r.open("GET",e),r.onload=(()=>t(r.responseText)),r.onerror=(()=>o(new Error("Unable to fetch '"+e+"'"))),r.send()})},e.loadScript=function(e){return new Promise((t,o)=>{const r=document.createElement("script");r.src=e,r.addEventListener("error",()=>{o(new Error(`Unable to load the script '${e}'.`))}),r.addEventListener("load",t),document.head.appendChild(r)})}}(io=exports.io||(exports.io={})),function(e){function t(e,t=document){const r=t.defaultView;o({top:e.top+r.scrollY,bottom:e.bottom+r.scrollY,left:e.left+r.scrollX,right:e.right+r.scrollX},t)}function o(e,t=document){const o=document.createElement("div");o.style.position="absolute",o.style.border="1px solid red",o.style.margin=o.style.padding="0",o.style.top=e.top+"px",o.style.left=e.left+"px",o.style.width=e.right-e.left-2+"px",o.style.height=e.bottom-e.top-2+"px",t.documentElement.appendChild(o)}e.drawClientRects=function(e,o=document){for(let r=0;r!=e.length;r++)t(e[r],o)},e.drawClientRect=t,e.drawScrollRect=o,e.drawPoint=function(e){const t=e.container.ownerDocument.defaultView;let o;if(dom.isElement(e.container)){const r=ranges_1.default.nodeAtPoint(e);if(r)if(dom.isElement(r))o=rects_1.default.boundingScrollRect(r).top;else{const e=document.createRange();e.selectNode(r),o=rects_1.default.scrollRect(e.getBoundingClientRect(),t).top}else o=rects_1.default.boundingScrollRect(e.container).bottom}else{const r=document.createRange();r.setStartBefore(e.container),r.setEnd(e.container,e.offset),o=rects_1.default.scrollRect(r.getBoundingClientRect(),t).bottom}const r=document.createElement("div");r.style.position="absolute",r.style.background="red",r.style.height="1px",r.style.left="0",r.style.width="100%",r.style.top=o+"px",document.documentElement.appendChild(r)},e.logCaretPositionOnClick=function(e){e||(e=document),e.addEventListener("click",t=>{const o=e.caretRangeFromPoint(t.clientX,t.y);console.log(o.startContainer,o.startOffset)})}}(debug=exports.debug||(exports.debug={})),function(e){e.EventEmitter=class{constructor(){this.on=this.addListener}addListener(e,t){this.listeners||(this.listeners=Object.create(null));let o=this.listeners[e];return o||(o=[],this.listeners[e]=o),o.push(t),this}removeListener(e,t){const o=this.listeners&&this.listeners[e];return o&&o.splice(o.indexOf(t),1),this}listenerCount(e){const t=this.listeners&&this.listeners[e];return t?t.length:0}emit(e,t){const o="string"==typeof e?{type:e}:e,r=this.listeners&&this.listeners[o.type];if(r&&r.length)for(const e of r){const r=e.call(this,o,t);if(void 0!==r)return r}}}}(events=exports.events||(exports.events={}));var rects_2=require("./util/rects");Object.defineProperty(exports,"rects",{enumerable:!0,get:function(){return rects_2.default}});var ranges_2=require("./util/ranges");Object.defineProperty(exports,"ranges",{enumerable:!0,get:function(){return ranges_2.default}});var walk_1=require("./util/walk");Object.defineProperty(exports,"walk",{enumerable:!0,get:function(){return walk_1.default}});var mutations_1=require("./util/mutations");Object.defineProperty(exports,"Mutations",{enumerable:!0,get:function(){return mutations_1.default}});

},{"./util/mutations":20,"./util/ranges":21,"./util/rects":22,"./util/walk":23}],20:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Mutations=void 0;const ranges_1=require("./ranges"),breaks_1=require("../breaks"),breaks_2=require("../breaks");class Mutations{constructor(){this._entries=[]}push(...e){this._entries.push(...e)}revert(){let e;for(;e=this._entries.pop();)e.revert()}commit(e){e&&e.push(...this._entries),this._entries.length=0}setProp(e,t,s){const r=e[t];e[t]=s,this.push({obj:e,propName:t,prevValue:r,revert(){this.obj[t]=s}})}setAttr(e,t,s){const r=e.getAttribute(t);e.setAttribute(t,void 0===s?"":s),this.push({elem:e,attrName:t,prevValue:r,revert(){null===this.prevValue?this.elem.removeAttribute(this.attrName):this.elem.setAttribute(this.attrName,this.prevValue)}})}setStyle(e,t){const s={};for(const r in t)s[r]=e.style.getPropertyValue(r),e.style.setProperty(r,t[r]),e.getAttribute("style")||e.removeAttribute("style");this.push({elem:e,beforeProps:s,revert(){for(const e in this.beforeProps)this.elem.style.setProperty(e,this.beforeProps[e]);this.elem.getAttribute("style")||this.elem.removeAttribute("style")}})}breaks(e,t,s){const r=breaks_1.breakAtPoint(e,t,s);return this.push({before:"before"==s?r:e,after:"before"==s?e:r,position:s,revert(){breaks_2.unbreak(this.before,this.after,"before"==this.position?"after":"before")}}),r}insertNode(e,t,s){e.insertBefore(t,s),this.push({node:t,revert(){this.node.remove()}})}appendNodeContents(e,t){const s=t.lastChild;ranges_1.default.appendNodeContents(e,t),this.push({srcNode:e,dstNode:t,lastDstChild:s,revert(){const e=document.createRange();e.selectNodeContents(this.dstNode),this.lastDstChild&&e.setStartAfter(this.lastDstChild),this.srcNode.appendChild(e.extractContents())}})}}exports.Mutations=Mutations,exports.default=Mutations;

},{"../breaks":1,"./ranges":21}],21:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const walk_1=require("./walk");var ranges;!function(t){function n(t){return{container:t.startContainer,offset:t.startOffset}}function e(t){return{container:t.endContainer,offset:t.endOffset}}function o(t){return t.startContainer.nodeType==Node.ELEMENT_NODE?t.startContainer.childNodes[t.startOffset]:null}function r(t){return t.endContainer.nodeType==Node.ELEMENT_NODE?t.endContainer.childNodes[t.endOffset-1]:null}function i(t){const n=t.ownerDocument.createRange();return n.selectNodeContents(t),n.extractContents()}t.isRange=function(t){return t&&t.constructor==Range},t.isPoint=function(t){return t&&"container"in t&&"offset"in t},t.clonePoint=function(t){return{container:t.container,offset:t.offset}},t.pointEquals=function(t,n){return t.container==n.container&&t.offset==n.offset},t.breakRangeBefore=function(t,n){const e=n.ownerDocument.createRange();return e.setStart(t.startContainer,t.startOffset),e.setEndBefore(n),t.setStartBefore(n),e},t.breakRangeAfter=function(t,n){const e=n.ownerDocument.createRange();return e.setStart(t.startContainer,t.startOffset),e.setEndAfter(n),t.setStartAfter(n),e},t.positionBefore=function(t){const e=t.ownerDocument.createRange();return e.setStartBefore(t),n(e)},t.positionAfter=function(t){const n=t.ownerDocument.createRange();return n.setEndAfter(t),e(n)},t.positionAtStart=function(t){return{container:t,offset:0}},t.positionAtEnd=function(t){return{container:t,offset:t.childNodes.length}},t.rangeStart=n,t.rangeEnd=e,t.startNode=o,t.endNode=r,t.staticStartNode=function(t){const n=o(t);return walk_1.default.isStaticNode(n)?n:walk_1.default.next(n,walk_1.default.isStaticNode)},t.staticEndNode=function(t){const n=r(t);return walk_1.default.isStaticNode(n)?n:walk_1.default.previous(n,walk_1.default.isStaticNode)},t.nodeAtPoint=function(t){return t.container.nodeType==Node.TEXT_NODE?t.container:t.container.childNodes.item(t.offset)},t.containsPoint=function(t,n){return(t.endContainer!=n.container||t.endOffset!=n.offset)&&t.isPointInRange(n.container,n.offset)},t.isPrecedingPoint=function(t,n){if(n.container==t.container)return n.offset<t.offset;{const e=new Range;return e.setStart(n.container,n.offset),e.setEnd(t.container,t.offset),!e.collapsed}},t.textPositionFromPoint=function(t,n,e){t.defaultView.scrollTo(n,e);const o=t.caretRangeFromPoint(n-t.defaultView.scrollX,e-t.defaultView.scrollY);return o?{container:o.startContainer,offset:o.startOffset}:null},t.findPointInRanges=function(n,e,o=!1){let r;if(o){for(let o=n.length-1;o>=0;o--)if(r=n[o],t.containsPoint(r,e))return o}else for(let o=0;o<n.length;o++)if(r=n[o],t.containsPoint(r,e))return o;return-1},t.extractNodeContents=i,t.appendNodeContents=function(t,n){n.appendChild(i(t))}}(ranges||(ranges={})),exports.default=ranges;

},{"./walk":23}],22:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const ranges_1=require("./ranges");var rects;!function(t){function o(t){return ranges_1.default.isRange(t)?e(t.getBoundingClientRect(),t.commonAncestorContainer.ownerDocument.defaultView):e(t.getBoundingClientRect(),t.ownerDocument.defaultView)}function e(t,o){return{top:t.top+o.scrollY,bottom:t.bottom+o.scrollY,left:t.left+o.scrollX,right:t.right+o.scrollX,width:t.width,height:t.height}}t.boundingScrollRect=o,t.scrollRect=e,t.rectsLines=function(t,o){const e=[];let r=null;for(const o of t)o.left!=o.right&&(!r||o.bottom>r.bottom&&o.top>r.top&&o.left<=r.left?(r={left:o.left,bottom:o.bottom,right:o.right,top:o.top},e.push(r)):(o.top<r.top&&(r.top=o.top),o.bottom>r.bottom&&(r.bottom=o.bottom),o.right>r.right&&(r.right=o.right)));for(const t of e)t.top+=o.scrollY,t.bottom+=o.scrollY,t.left+=o.scrollX,t.right+=o.scrollX;return e},t.equalRects=function(t,o){return t.top!=o.top||t.right!=o.right||t.bottom!=o.bottom||t.left!=o.left},t.includesRect=function(t,o){return o.top>=t.top&&o.bottom<=t.bottom&&o.left>=t.left&&o.right<=t.right},t.bottomWithoutPadding=function(t,e){e||(e=o(t));const r=parseFloat(getComputedStyle(t).paddingBottom);return Math.floor(e.bottom-r)},t.contentSizingHeight=function(t,o){return o-parseFloat(t.paddingTop)-parseFloat(t.paddingBottom)-parseFloat(t.borderTopWidth)-parseFloat(t.borderBottomWidth)}}(rects||(rects={})),exports.default=rects;

},{"./ranges":21}],23:[function(require,module,exports){
"use strict";var walk;Object.defineProperty(exports,"__esModule",{value:!0}),function(t){function e(t){return t&&t.nodeType==Node.ELEMENT_NODE}function n(t){return t&&t.nodeType==Node.TEXT_NODE}function i(t){return"none"!=t.display&&"table-column-group"!=t.display&&("static"==t.position||"relative"==t.position)}function r(t){return n(t)?0!=t.nodeValue.trim().length:!!e(t)&&i(getComputedStyle(t))}function l(t){return"none"!=t.float||!(t.display.startsWith("inline")||t.display.startsWith("ruby")||t.display.startsWith("table-column"))}t.createWalker=function(t,e,n){return t.ownerDocument.createTreeWalker(t,NodeFilter.SHOW_ALL,{acceptNode:t=>!e||e(t)?NodeFilter.FILTER_ACCEPT:n&&n(t)?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT})},t.createIterator=function(t,e,n){return t.ownerDocument.createNodeIterator(t,NodeFilter.SHOW_ALL,{acceptNode:t=>!e||e(t)?NodeFilter.FILTER_ACCEPT:n&&n(t)?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT})},t.firstChild=function(t,e){let n=t?t.firstChild:null;for(;n;){if(e(n))return n;n=n.nextSibling}return null},t.lastChild=function(t,e){let n=t?t.lastChild:null;for(;n;){if(e(n))return n;n=n.previousSibling}return null},t.nextSibling=function(t,e){let n=t?t.nextSibling:null;for(;n;){if(e(n))return n;n=n.nextSibling}return null},t.previousSibling=function(t,e){let n=t?t.previousSibling:null;for(;n;){if(e(n))return n;n=n.previousSibling}return null},t.ancestor=function(t,e,n){let i=t.parentNode;for(;i&&i!==n;){if(e(i))return i;i=i.parentNode}return null},t.ancestorOrSelf=function(t,e,n){let i=t;for(;i&&i!==n;){if(e(i))return i;i=i.parentNode}return null},t.next=function t(e,n,i){let r=e.firstChild;if(r)return n(r)?r:t(r,n,i);if(e===i)return null;for(;!(r=e.nextSibling);)if((e=e.parentNode)===i)return null;return n(r)?r:t(r,n,i)},t.previous=function t(e,n,i){if(e===i)return null;let r=e.previousSibling;if(r){let e=r.lastChild;for(;e;)r=e,e=e.lastChild;return n(r)?r:t(r,n,i)}return(r=e.parentNode)===i?null:n(r)?r:t(r,n,i)},t.all=function(t,e,n,i){const r=[];let l=e;for(;l=t(l,n,i);)r.push(l);return r},t.isNode=function(t){return!0},t.isElement=e,t.isHTMLElement=function(t){return e(t)&&"innerText"in t},t.isText=n,t.isConstructedBy=function(t){return function(e){return e.constructor==t}},t.isInstanceOf=function(t){return function(e){return e instanceof t}},t.isStaticStyle=i,t.isStatic=r,t.isRow=function(t){return"table-row"==t.display?"table-row":!("flex"!=t.display||!t.flexDirection.startsWith("row"))&&"flex-row"},t.predicate=function(t,...e){return n=>!(t&&!t(n))&&e.every(t=>t(n))},t.displayAsBlockStyle=l,t.displayAsBlock=function(t){return!n(t)&&(e(t)?l(getComputedStyle(t)):void 0)},t.displayAsInlineBlock=function(t){if(n(t))return!1;if(e(t)){const e=getComputedStyle(t);return e.display.startsWith("inline-")||"inline"==e.display&&t instanceof SVGElement}},t.isDisplayed=function(t){return"none"!=getComputedStyle(t).display},t.hasSize=function(t){return 0!=t.clientWidth||0!=t.clientHeight},t.isBreakedAfter=function(t){return t.hasAttribute("ps-breaked-after")},t.isStaticNode=r,t.isStaticElement=t.predicate(t.isElement,t.isStatic),t.isStaticHtmlElement=t.predicate(t.isHTMLElement,t.isStatic),t.isStaticHtmlBlock=t.predicate(t.isHTMLElement,t.isStatic,t.displayAsBlock),t.isBlockElement=t.predicate(t.isElement,t.displayAsBlock),t.isInlineBlockElement=t.predicate(t.isElement,t.displayAsInlineBlock)}(walk||(walk={})),exports.default=walk;

},{}],24:[function(require,module,exports){
"use strict";exports.byteLength=byteLength,exports.toByteArray=toByteArray,exports.fromByteArray=fromByteArray;for(var lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;function getLens(o){var r=o.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=o.indexOf("=");return-1===e&&(e=r),[e,e===r?0:4-e%4]}function byteLength(o){var r=getLens(o),e=r[0],t=r[1];return 3*(e+t)/4-t}function _byteLength(o,r,e){return 3*(r+e)/4-e}function toByteArray(o){var r,e,t=getLens(o),n=t[0],u=t[1],p=new Arr(_byteLength(o,n,u)),a=0,h=u>0?n-4:n;for(e=0;e<h;e+=4)r=revLookup[o.charCodeAt(e)]<<18|revLookup[o.charCodeAt(e+1)]<<12|revLookup[o.charCodeAt(e+2)]<<6|revLookup[o.charCodeAt(e+3)],p[a++]=r>>16&255,p[a++]=r>>8&255,p[a++]=255&r;return 2===u&&(r=revLookup[o.charCodeAt(e)]<<2|revLookup[o.charCodeAt(e+1)]>>4,p[a++]=255&r),1===u&&(r=revLookup[o.charCodeAt(e)]<<10|revLookup[o.charCodeAt(e+1)]<<4|revLookup[o.charCodeAt(e+2)]>>2,p[a++]=r>>8&255,p[a++]=255&r),p}function tripletToBase64(o){return lookup[o>>18&63]+lookup[o>>12&63]+lookup[o>>6&63]+lookup[63&o]}function encodeChunk(o,r,e){for(var t,n=[],u=r;u<e;u+=3)t=(o[u]<<16&16711680)+(o[u+1]<<8&65280)+(255&o[u+2]),n.push(tripletToBase64(t));return n.join("")}function fromByteArray(o){for(var r,e=o.length,t=e%3,n=[],u=0,p=e-t;u<p;u+=16383)n.push(encodeChunk(o,u,u+16383>p?p:u+16383));return 1===t?(r=o[e-1],n.push(lookup[r>>2]+lookup[r<<4&63]+"==")):2===t&&(r=(o[e-2]<<8)+o[e-1],n.push(lookup[r>>10]+lookup[r>>4&63]+lookup[r<<2&63]+"=")),n.join("")}revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63;

},{}],25:[function(require,module,exports){

},{}],26:[function(require,module,exports){
(function (Buffer){(function (){
"use strict";var base64=require("base64-js"),ieee754=require("ieee754");exports.Buffer=Buffer,exports.SlowBuffer=SlowBuffer,exports.INSPECT_MAX_BYTES=50;var K_MAX_LENGTH=2147483647;function typedArraySupport(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}function createBuffer(e){if(e>K_MAX_LENGTH)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return t.__proto__=Buffer.prototype,t}function Buffer(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return allocUnsafe(e)}return from(e,t,r)}function from(e,t,r){if("string"==typeof e)return fromString(e,t);if(ArrayBuffer.isView(e))return fromArrayLike(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(isInstance(e,ArrayBuffer)||e&&isInstance(e.buffer,ArrayBuffer))return fromArrayBuffer(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return Buffer.from(n,t,r);var f=fromObject(e);if(f)return f;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return Buffer.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function assertSize(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function alloc(e,t,r){return assertSize(e),e<=0?createBuffer(e):void 0!==t?"string"==typeof r?createBuffer(e).fill(t,r):createBuffer(e).fill(t):createBuffer(e)}function allocUnsafe(e){return assertSize(e),createBuffer(e<0?0:0|checked(e))}function fromString(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!Buffer.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|byteLength(e,t),n=createBuffer(r),f=n.write(e,t);return f!==r&&(n=n.slice(0,f)),n}function fromArrayLike(e){for(var t=e.length<0?0:0|checked(e.length),r=createBuffer(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function fromArrayBuffer(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r)).__proto__=Buffer.prototype,n}function fromObject(e){if(Buffer.isBuffer(e)){var t=0|checked(e.length),r=createBuffer(t);return 0===r.length?r:(e.copy(r,0,0,t),r)}return void 0!==e.length?"number"!=typeof e.length||numberIsNaN(e.length)?createBuffer(0):fromArrayLike(e):"Buffer"===e.type&&Array.isArray(e.data)?fromArrayLike(e.data):void 0}function checked(e){if(e>=K_MAX_LENGTH)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+K_MAX_LENGTH.toString(16)+" bytes");return 0|e}function SlowBuffer(e){return+e!=e&&(e=0),Buffer.alloc(+e)}function byteLength(e,t){if(Buffer.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||isInstance(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var f=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return utf8ToBytes(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return base64ToBytes(e).length;default:if(f)return n?-1:utf8ToBytes(e).length;t=(""+t).toLowerCase(),f=!0}}function slowToString(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return hexSlice(this,t,r);case"utf8":case"utf-8":return utf8Slice(this,t,r);case"ascii":return asciiSlice(this,t,r);case"latin1":case"binary":return latin1Slice(this,t,r);case"base64":return base64Slice(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function swap(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function bidirectionalIndexOf(e,t,r,n,f){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),numberIsNaN(r=+r)&&(r=f?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(f)return-1;r=e.length-1}else if(r<0){if(!f)return-1;r=0}if("string"==typeof t&&(t=Buffer.from(t,n)),Buffer.isBuffer(t))return 0===t.length?-1:arrayIndexOf(e,t,r,n,f);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?f?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):arrayIndexOf(e,[t],r,n,f);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(e,t,r,n,f){var i,o=1,u=e.length,s=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,u/=2,s/=2,r/=2}function a(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(f){var h=-1;for(i=r;i<u;i++)if(a(e,i)===a(t,-1===h?0:i-h)){if(-1===h&&(h=i),i-h+1===s)return h*o}else-1!==h&&(i-=i-h),h=-1}else for(r+s>u&&(r=u-s),i=r;i>=0;i--){for(var c=!0,l=0;l<s;l++)if(a(e,i+l)!==a(t,l)){c=!1;break}if(c)return i}return-1}function hexWrite(e,t,r,n){r=Number(r)||0;var f=e.length-r;n?(n=Number(n))>f&&(n=f):n=f;var i=t.length;n>i/2&&(n=i/2);for(var o=0;o<n;++o){var u=parseInt(t.substr(2*o,2),16);if(numberIsNaN(u))return o;e[r+o]=u}return o}function utf8Write(e,t,r,n){return blitBuffer(utf8ToBytes(t,e.length-r),e,r,n)}function asciiWrite(e,t,r,n){return blitBuffer(asciiToBytes(t),e,r,n)}function latin1Write(e,t,r,n){return asciiWrite(e,t,r,n)}function base64Write(e,t,r,n){return blitBuffer(base64ToBytes(t),e,r,n)}function ucs2Write(e,t,r,n){return blitBuffer(utf16leToBytes(t,e.length-r),e,r,n)}function base64Slice(e,t,r){return 0===t&&r===e.length?base64.fromByteArray(e):base64.fromByteArray(e.slice(t,r))}function utf8Slice(e,t,r){r=Math.min(e.length,r);for(var n=[],f=t;f<r;){var i,o,u,s,a=e[f],h=null,c=a>239?4:a>223?3:a>191?2:1;if(f+c<=r)switch(c){case 1:a<128&&(h=a);break;case 2:128==(192&(i=e[f+1]))&&(s=(31&a)<<6|63&i)>127&&(h=s);break;case 3:i=e[f+1],o=e[f+2],128==(192&i)&&128==(192&o)&&(s=(15&a)<<12|(63&i)<<6|63&o)>2047&&(s<55296||s>57343)&&(h=s);break;case 4:i=e[f+1],o=e[f+2],u=e[f+3],128==(192&i)&&128==(192&o)&&128==(192&u)&&(s=(15&a)<<18|(63&i)<<12|(63&o)<<6|63&u)>65535&&s<1114112&&(h=s)}null===h?(h=65533,c=1):h>65535&&(h-=65536,n.push(h>>>10&1023|55296),h=56320|1023&h),n.push(h),f+=c}return decodeCodePointsArray(n)}exports.kMaxLength=K_MAX_LENGTH,Buffer.TYPED_ARRAY_SUPPORT=typedArraySupport(),Buffer.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(Buffer.prototype,"parent",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.buffer}}),Object.defineProperty(Buffer.prototype,"offset",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),Buffer.poolSize=8192,Buffer.from=function(e,t,r){return from(e,t,r)},Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,Buffer.alloc=function(e,t,r){return alloc(e,t,r)},Buffer.allocUnsafe=function(e){return allocUnsafe(e)},Buffer.allocUnsafeSlow=function(e){return allocUnsafe(e)},Buffer.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==Buffer.prototype},Buffer.compare=function(e,t){if(isInstance(e,Uint8Array)&&(e=Buffer.from(e,e.offset,e.byteLength)),isInstance(t,Uint8Array)&&(t=Buffer.from(t,t.offset,t.byteLength)),!Buffer.isBuffer(e)||!Buffer.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,f=0,i=Math.min(r,n);f<i;++f)if(e[f]!==t[f]){r=e[f],n=t[f];break}return r<n?-1:n<r?1:0},Buffer.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Buffer.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=Buffer.allocUnsafe(t),f=0;for(r=0;r<e.length;++r){var i=e[r];if(isInstance(i,Uint8Array)&&(i=Buffer.from(i)),!Buffer.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,f),f+=i.length}return n},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)swap(this,t,t+1);return this},Buffer.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)swap(this,t,t+3),swap(this,t+1,t+2);return this},Buffer.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)swap(this,t,t+7),swap(this,t+1,t+6),swap(this,t+2,t+5),swap(this,t+3,t+4);return this},Buffer.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?utf8Slice(this,0,e):slowToString.apply(this,arguments)},Buffer.prototype.toLocaleString=Buffer.prototype.toString,Buffer.prototype.equals=function(e){if(!Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Buffer.compare(this,e)},Buffer.prototype.inspect=function(){var e="",t=exports.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},Buffer.prototype.compare=function(e,t,r,n,f){if(isInstance(e,Uint8Array)&&(e=Buffer.from(e,e.offset,e.byteLength)),!Buffer.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===f&&(f=this.length),t<0||r>e.length||n<0||f>this.length)throw new RangeError("out of range index");if(n>=f&&t>=r)return 0;if(n>=f)return-1;if(t>=r)return 1;if(this===e)return 0;for(var i=(f>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0),u=Math.min(i,o),s=this.slice(n,f),a=e.slice(t,r),h=0;h<u;++h)if(s[h]!==a[h]){i=s[h],o=a[h];break}return i<o?-1:o<i?1:0},Buffer.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},Buffer.prototype.indexOf=function(e,t,r){return bidirectionalIndexOf(this,e,t,r,!0)},Buffer.prototype.lastIndexOf=function(e,t,r){return bidirectionalIndexOf(this,e,t,r,!1)},Buffer.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var f=this.length-t;if((void 0===r||r>f)&&(r=f),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return hexWrite(this,e,t,r);case"utf8":case"utf-8":return utf8Write(this,e,t,r);case"ascii":return asciiWrite(this,e,t,r);case"latin1":case"binary":return latin1Write(this,e,t,r);case"base64":return base64Write(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(e){var t=e.length;if(t<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=MAX_ARGUMENTS_LENGTH));return r}function asciiSlice(e,t,r){var n="";r=Math.min(e.length,r);for(var f=t;f<r;++f)n+=String.fromCharCode(127&e[f]);return n}function latin1Slice(e,t,r){var n="";r=Math.min(e.length,r);for(var f=t;f<r;++f)n+=String.fromCharCode(e[f]);return n}function hexSlice(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var f="",i=t;i<r;++i)f+=toHex(e[i]);return f}function utf16leSlice(e,t,r){for(var n=e.slice(t,r),f="",i=0;i<n.length;i+=2)f+=String.fromCharCode(n[i]+256*n[i+1]);return f}function checkOffset(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function checkInt(e,t,r,n,f,i){if(!Buffer.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>f||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function checkIEEE754(e,t,r,n,f,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function writeFloat(e,t,r,n,f){return t=+t,r>>>=0,f||checkIEEE754(e,t,r,4,3.4028234663852886e38,-3.4028234663852886e38),ieee754.write(e,t,r,n,23,4),r+4}function writeDouble(e,t,r,n,f){return t=+t,r>>>=0,f||checkIEEE754(e,t,r,8,1.7976931348623157e308,-1.7976931348623157e308),ieee754.write(e,t,r,n,52,8),r+8}Buffer.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return n.__proto__=Buffer.prototype,n},Buffer.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);for(var n=this[e],f=1,i=0;++i<t&&(f*=256);)n+=this[e+i]*f;return n},Buffer.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);for(var n=this[e+--t],f=1;t>0&&(f*=256);)n+=this[e+--t]*f;return n},Buffer.prototype.readUInt8=function(e,t){return e>>>=0,t||checkOffset(e,1,this.length),this[e]},Buffer.prototype.readUInt16LE=function(e,t){return e>>>=0,t||checkOffset(e,2,this.length),this[e]|this[e+1]<<8},Buffer.prototype.readUInt16BE=function(e,t){return e>>>=0,t||checkOffset(e,2,this.length),this[e]<<8|this[e+1]},Buffer.prototype.readUInt32LE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Buffer.prototype.readUInt32BE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Buffer.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);for(var n=this[e],f=1,i=0;++i<t&&(f*=256);)n+=this[e+i]*f;return n>=(f*=128)&&(n-=Math.pow(2,8*t)),n},Buffer.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);for(var n=t,f=1,i=this[e+--n];n>0&&(f*=256);)i+=this[e+--n]*f;return i>=(f*=128)&&(i-=Math.pow(2,8*t)),i},Buffer.prototype.readInt8=function(e,t){return e>>>=0,t||checkOffset(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Buffer.prototype.readInt16LE=function(e,t){e>>>=0,t||checkOffset(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt16BE=function(e,t){e>>>=0,t||checkOffset(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt32LE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Buffer.prototype.readInt32BE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Buffer.prototype.readFloatLE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),ieee754.read(this,e,!0,23,4)},Buffer.prototype.readFloatBE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),ieee754.read(this,e,!1,23,4)},Buffer.prototype.readDoubleLE=function(e,t){return e>>>=0,t||checkOffset(e,8,this.length),ieee754.read(this,e,!0,52,8)},Buffer.prototype.readDoubleBE=function(e,t){return e>>>=0,t||checkOffset(e,8,this.length),ieee754.read(this,e,!1,52,8)},Buffer.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||checkInt(this,e,t,r,Math.pow(2,8*r)-1,0);var f=1,i=0;for(this[t]=255&e;++i<r&&(f*=256);)this[t+i]=e/f&255;return t+r},Buffer.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||checkInt(this,e,t,r,Math.pow(2,8*r)-1,0);var f=r-1,i=1;for(this[t+f]=255&e;--f>=0&&(i*=256);)this[t+f]=e/i&255;return t+r},Buffer.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,1,255,0),this[t]=255&e,t+1},Buffer.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},Buffer.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},Buffer.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},Buffer.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},Buffer.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var f=Math.pow(2,8*r-1);checkInt(this,e,t,r,f-1,-f)}var i=0,o=1,u=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===u&&0!==this[t+i-1]&&(u=1),this[t+i]=(e/o>>0)-u&255;return t+r},Buffer.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var f=Math.pow(2,8*r-1);checkInt(this,e,t,r,f-1,-f)}var i=r-1,o=1,u=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===u&&0!==this[t+i+1]&&(u=1),this[t+i]=(e/o>>0)-u&255;return t+r},Buffer.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},Buffer.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},Buffer.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},Buffer.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},Buffer.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},Buffer.prototype.writeFloatLE=function(e,t,r){return writeFloat(this,e,t,!0,r)},Buffer.prototype.writeFloatBE=function(e,t,r){return writeFloat(this,e,t,!1,r)},Buffer.prototype.writeDoubleLE=function(e,t,r){return writeDouble(this,e,t,!0,r)},Buffer.prototype.writeDoubleBE=function(e,t,r){return writeDouble(this,e,t,!1,r)},Buffer.prototype.copy=function(e,t,r,n){if(!Buffer.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var f=n-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var i=f-1;i>=0;--i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return f},Buffer.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!Buffer.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var f=e.charCodeAt(0);("utf8"===n&&f<128||"latin1"===n)&&(e=f)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var o=Buffer.isBuffer(e)?e:Buffer.from(e,n),u=o.length;if(0===u)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%u]}return this};var INVALID_BASE64_RE=/[^+/0-9A-Za-z-_]/g;function base64clean(e){if((e=(e=e.split("=")[0]).trim().replace(INVALID_BASE64_RE,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function toHex(e){return e<16?"0"+e.toString(16):e.toString(16)}function utf8ToBytes(e,t){var r;t=t||1/0;for(var n=e.length,f=null,i=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!f){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&i.push(239,191,189);continue}f=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),f=r;continue}r=65536+(f-55296<<10|r-56320)}else f&&(t-=3)>-1&&i.push(239,191,189);if(f=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function asciiToBytes(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function utf16leToBytes(e,t){for(var r,n,f,i=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,f=r%256,i.push(f),i.push(n);return i}function base64ToBytes(e){return base64.toByteArray(base64clean(e))}function blitBuffer(e,t,r,n){for(var f=0;f<n&&!(f+r>=t.length||f>=e.length);++f)t[f+r]=e[f];return f}function isInstance(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function numberIsNaN(e){return e!=e}

}).call(this)}).call(this,require("buffer").Buffer)
},{"base64-js":24,"buffer":26,"ieee754":27}],27:[function(require,module,exports){
exports.read=function(a,o,t,r,h){var M,p,w=8*h-r-1,f=(1<<w)-1,e=f>>1,i=-7,N=t?h-1:0,n=t?-1:1,s=a[o+N];for(N+=n,M=s&(1<<-i)-1,s>>=-i,i+=w;i>0;M=256*M+a[o+N],N+=n,i-=8);for(p=M&(1<<-i)-1,M>>=-i,i+=r;i>0;p=256*p+a[o+N],N+=n,i-=8);if(0===M)M=1-e;else{if(M===f)return p?NaN:1/0*(s?-1:1);p+=Math.pow(2,r),M-=e}return(s?-1:1)*p*Math.pow(2,M-r)},exports.write=function(a,o,t,r,h,M){var p,w,f,e=8*M-h-1,i=(1<<e)-1,N=i>>1,n=23===h?Math.pow(2,-24)-Math.pow(2,-77):0,s=r?0:M-1,u=r?1:-1,l=o<0||0===o&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(w=isNaN(o)?1:0,p=i):(p=Math.floor(Math.log(o)/Math.LN2),o*(f=Math.pow(2,-p))<1&&(p--,f*=2),(o+=p+N>=1?n/f:n*Math.pow(2,1-N))*f>=2&&(p++,f/=2),p+N>=i?(w=0,p=i):p+N>=1?(w=(o*f-1)*Math.pow(2,h),p+=N):(w=o*Math.pow(2,N-1)*Math.pow(2,h),p=0));h>=8;a[t+s]=255&w,s+=u,w/=256,h-=8);for(p=p<<h|w,e+=h;e>0;a[t+s]=255&p,s+=u,p/=256,e-=8);a[t+s-u]|=128*l};

},{}],28:[function(require,module,exports){
(function (process){(function (){
"use strict";function assertPath(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function normalizeStringPosix(e,t){for(var r,n="",i=0,a=-1,o=0,l=0;l<=e.length;++l){if(l<e.length)r=e.charCodeAt(l);else{if(47===r)break;r=47}if(47===r){if(a===l-1||1===o);else if(a!==l-1&&2===o){if(n.length<2||2!==i||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var s=n.lastIndexOf("/");if(s!==n.length-1){-1===s?(n="",i=0):i=(n=n.slice(0,s)).length-1-n.lastIndexOf("/"),a=l,o=0;continue}}else if(2===n.length||1===n.length){n="",i=0,a=l,o=0;continue}t&&(n.length>0?n+="/..":n="..",i=2)}else n.length>0?n+="/"+e.slice(a+1,l):n=e.slice(a+1,l),i=l-a-1;a=l,o=0}else 46===r&&-1!==o?++o:o=-1}return n}function _format(e,t){var r=t.dir||t.root,n=t.base||(t.name||"")+(t.ext||"");return r?r===t.root?r+n:r+e+n:n}var posix={resolve:function(){for(var e,t="",r=!1,n=arguments.length-1;n>=-1&&!r;n--){var i;n>=0?i=arguments[n]:(void 0===e&&(e=process.cwd()),i=e),assertPath(i),0!==i.length&&(t=i+"/"+t,r=47===i.charCodeAt(0))}return t=normalizeStringPosix(t,!r),r?t.length>0?"/"+t:"/":t.length>0?t:"."},normalize:function(e){if(assertPath(e),0===e.length)return".";var t=47===e.charCodeAt(0),r=47===e.charCodeAt(e.length-1);return 0!==(e=normalizeStringPosix(e,!t)).length||t||(e="."),e.length>0&&r&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return assertPath(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,t=0;t<arguments.length;++t){var r=arguments[t];assertPath(r),r.length>0&&(void 0===e?e=r:e+="/"+r)}return void 0===e?".":posix.normalize(e)},relative:function(e,t){if(assertPath(e),assertPath(t),e===t)return"";if((e=posix.resolve(e))===(t=posix.resolve(t)))return"";for(var r=1;r<e.length&&47===e.charCodeAt(r);++r);for(var n=e.length,i=n-r,a=1;a<t.length&&47===t.charCodeAt(a);++a);for(var o=t.length-a,l=i<o?i:o,s=-1,h=0;h<=l;++h){if(h===l){if(o>l){if(47===t.charCodeAt(a+h))return t.slice(a+h+1);if(0===h)return t.slice(a+h)}else i>l&&(47===e.charCodeAt(r+h)?s=h:0===h&&(s=0));break}var f=e.charCodeAt(r+h);if(f!==t.charCodeAt(a+h))break;47===f&&(s=h)}var c="";for(h=r+s+1;h<=n;++h)h!==n&&47!==e.charCodeAt(h)||(0===c.length?c+="..":c+="/..");return c.length>0?c+t.slice(a+s):(a+=s,47===t.charCodeAt(a)&&++a,t.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(assertPath(e),0===e.length)return".";for(var t=e.charCodeAt(0),r=47===t,n=-1,i=!0,a=e.length-1;a>=1;--a)if(47===(t=e.charCodeAt(a))){if(!i){n=a;break}}else i=!1;return-1===n?r?"/":".":r&&1===n?"//":e.slice(0,n)},basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');assertPath(e);var r,n=0,i=-1,a=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var o=t.length-1,l=-1;for(r=e.length-1;r>=0;--r){var s=e.charCodeAt(r);if(47===s){if(!a){n=r+1;break}}else-1===l&&(a=!1,l=r+1),o>=0&&(s===t.charCodeAt(o)?-1==--o&&(i=r):(o=-1,i=l))}return n===i?i=l:-1===i&&(i=e.length),e.slice(n,i)}for(r=e.length-1;r>=0;--r)if(47===e.charCodeAt(r)){if(!a){n=r+1;break}}else-1===i&&(a=!1,i=r+1);return-1===i?"":e.slice(n,i)},extname:function(e){assertPath(e);for(var t=-1,r=0,n=-1,i=!0,a=0,o=e.length-1;o>=0;--o){var l=e.charCodeAt(o);if(47!==l)-1===n&&(i=!1,n=o+1),46===l?-1===t?t=o:1!==a&&(a=1):-1!==t&&(a=-1);else if(!i){r=o+1;break}}return-1===t||-1===n||0===a||1===a&&t===n-1&&t===r+1?"":e.slice(t,n)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return _format("/",e)},parse:function(e){assertPath(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;var r,n=e.charCodeAt(0),i=47===n;i?(t.root="/",r=1):r=0;for(var a=-1,o=0,l=-1,s=!0,h=e.length-1,f=0;h>=r;--h)if(47!==(n=e.charCodeAt(h)))-1===l&&(s=!1,l=h+1),46===n?-1===a?a=h:1!==f&&(f=1):-1!==a&&(f=-1);else if(!s){o=h+1;break}return-1===a||-1===l||0===f||1===f&&a===l-1&&a===o+1?-1!==l&&(t.base=t.name=0===o&&i?e.slice(1,l):e.slice(o,l)):(0===o&&i?(t.name=e.slice(1,a),t.base=e.slice(1,l)):(t.name=e.slice(o,a),t.base=e.slice(o,l)),t.ext=e.slice(a,l)),o>0?t.dir=e.slice(0,o-1):i&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};posix.posix=posix,module.exports=posix;

}).call(this)}).call(this,require('_process'))
},{"_process":71}],29:[function(require,module,exports){
"use strict";var Input=require("postcss/lib/input"),SafeParser=require("./safe-parser");module.exports=function(r,e){var s=new Input(r,e),t=new SafeParser(s);return t.parse(),t.root};

},{"./safe-parser":30,"postcss/lib/input":41}],30:[function(require,module,exports){
"use strict";function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var tokenizer=require("postcss/lib/tokenize"),Comment=require("postcss/lib/comment"),Parser=require("postcss/lib/parser"),SafeParser=function(e){function t(){return e.apply(this,arguments)||this}_inheritsLoose(t,e);var r=t.prototype;return r.createTokenizer=function(){this.tokenizer=tokenizer(this.input,{ignoreErrors:!0})},r.comment=function(e){var t=new Comment;this.init(t,e[2],e[3]),t.source.end={line:e[4],column:e[5]};var r=e[1].slice(2);if("*/"===r.slice(-2)&&(r=r.slice(0,-2)),/^\s*$/.test(r))t.text="",t.raws.left=r,t.raws.right="";else{var n=r.match(/^(\s*)([^]*\S)(\s*)$/);t.text=n[2],t.raws.left=n[1],t.raws.right=n[3]}},r.decl=function(t){t.length>1&&t.some(function(e){return"word"===e[0]})&&e.prototype.decl.call(this,t)},r.unclosedBracket=function(){},r.unknownWord=function(e){this.spaces+=e.map(function(e){return e[1]}).join("")},r.unexpectedClose=function(){this.current.raws.after+="}"},r.doubleColon=function(){},r.unnamedAtrule=function(e){e.name=""},r.precheckMissedSemicolon=function(e){var t=this.colon(e);if(!1!==t){var r;for(r=t-1;r>=0&&"word"!==e[r][0];r--);for(r-=1;r>=0;r--)if("space"!==e[r][0]){r+=1;break}var n=e.splice(r,e.length-r);this.decl(n)}},r.checkMissedSemicolon=function(){},r.endFile=function(){for(this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces;this.current.parent;)this.current=this.current.parent,this.current.raws.after=""},t}(Parser);module.exports=SafeParser;

},{"postcss/lib/comment":37,"postcss/lib/parser":47,"postcss/lib/tokenize":56}],31:[function(require,module,exports){
var parse=require("./parse"),walk=require("./walk"),stringify=require("./stringify");function ValueParser(r){return this instanceof ValueParser?(this.nodes=parse(r),this):new ValueParser(r)}ValueParser.prototype.toString=function(){return Array.isArray(this.nodes)?stringify(this.nodes):""},ValueParser.prototype.walk=function(r,e){return walk(this.nodes,r,e),this},ValueParser.unit=require("./unit"),ValueParser.walk=walk,ValueParser.stringify=stringify,module.exports=ValueParser;

},{"./parse":32,"./stringify":33,"./unit":34,"./walk":35}],32:[function(require,module,exports){
var openParentheses="(".charCodeAt(0),closeParentheses=")".charCodeAt(0),singleQuote="'".charCodeAt(0),doubleQuote='"'.charCodeAt(0),backslash="\\".charCodeAt(0),slash="/".charCodeAt(0),comma=",".charCodeAt(0),colon=":".charCodeAt(0),star="*".charCodeAt(0),uLower="u".charCodeAt(0),uUpper="U".charCodeAt(0),plus="+".charCodeAt(0),isUnicodeRange=/^[a-f0-9?-]+$/i;module.exports=function(e){for(var o,s,t,a,c,l,r,n,h,d=[],u=e,i=0,p=u.charCodeAt(i),f=u.length,A=[{nodes:d}],C=0,g="",v="",y="";i<f;)if(p<=32){o=i;do{o+=1,p=u.charCodeAt(o)}while(p<=32);a=u.slice(i,o),t=d[d.length-1],p===closeParentheses&&C?y=a:t&&"div"===t.type?t.after=a:p===comma||p===colon||p===slash&&u.charCodeAt(o+1)!==star&&(!h||h&&"function"===h.type&&"calc"!==h.value)?v=a:d.push({type:"space",sourceIndex:i,value:a}),i=o}else if(p===singleQuote||p===doubleQuote){o=i,a={type:"string",sourceIndex:i,quote:s=p===singleQuote?"'":'"'};do{if(c=!1,~(o=u.indexOf(s,o+1)))for(l=o;u.charCodeAt(l-1)===backslash;)l-=1,c=!c;else o=(u+=s).length-1,a.unclosed=!0}while(c);a.value=u.slice(i+1,o),d.push(a),i=o+1,p=u.charCodeAt(i)}else if(p===slash&&u.charCodeAt(i+1)===star)a={type:"comment",sourceIndex:i},-1===(o=u.indexOf("*/",i))&&(a.unclosed=!0,o=u.length),a.value=u.slice(i+2,o),d.push(a),i=o+2,p=u.charCodeAt(i);else if(p!==slash&&p!==star||!h||"function"!==h.type||"calc"!==h.value)if(p===slash||p===comma||p===colon)a=u[i],d.push({type:"div",sourceIndex:i-v.length,value:a,before:v,after:""}),v="",i+=1,p=u.charCodeAt(i);else if(openParentheses===p){o=i;do{o+=1,p=u.charCodeAt(o)}while(p<=32);if(n=i,a={type:"function",sourceIndex:i-g.length,value:g,before:u.slice(n+1,o)},i=o,"url"===g&&p!==singleQuote&&p!==doubleQuote){o-=1;do{if(c=!1,~(o=u.indexOf(")",o+1)))for(l=o;u.charCodeAt(l-1)===backslash;)l-=1,c=!c;else o=(u+=")").length-1,a.unclosed=!0}while(c);r=o;do{r-=1,p=u.charCodeAt(r)}while(p<=32);n<r?(a.nodes=i!==r+1?[{type:"word",sourceIndex:i,value:u.slice(i,r+1)}]:[],a.unclosed&&r+1!==o?(a.after="",a.nodes.push({type:"space",sourceIndex:r+1,value:u.slice(r+1,o)})):a.after=u.slice(r+1,o)):(a.after="",a.nodes=[]),i=o+1,p=u.charCodeAt(i),d.push(a)}else C+=1,a.after="",d.push(a),A.push(a),d=a.nodes=[],h=a;g=""}else if(closeParentheses===p&&C)i+=1,p=u.charCodeAt(i),h.after=y,y="",C-=1,A.pop(),d=(h=A[C]).nodes;else{o=i;do{p===backslash&&(o+=1),o+=1,p=u.charCodeAt(o)}while(o<f&&!(p<=32||p===singleQuote||p===doubleQuote||p===comma||p===colon||p===slash||p===openParentheses||p===star&&h&&"function"===h.type&&"calc"===h.value||p===slash&&"function"===h.type&&"calc"===h.value||p===closeParentheses&&C));a=u.slice(i,o),openParentheses===p?g=a:uLower!==a.charCodeAt(0)&&uUpper!==a.charCodeAt(0)||plus!==a.charCodeAt(1)||!isUnicodeRange.test(a.slice(2))?d.push({type:"word",sourceIndex:i,value:a}):d.push({type:"unicode-range",sourceIndex:i,value:a}),i=o}else a=u[i],d.push({type:"word",sourceIndex:i-v.length,value:a}),i+=1,p=u.charCodeAt(i);for(i=A.length-1;i;i-=1)A[i].unclosed=!0;return A[0].nodes};

},{}],33:[function(require,module,exports){
function stringifyNode(r,e){var n,i,o=r.type,t=r.value;return e&&void 0!==(i=e(r))?i:"word"===o||"space"===o?t:"string"===o?(n=r.quote||"")+t+(r.unclosed?"":n):"comment"===o?"/*"+t+(r.unclosed?"":"*/"):"div"===o?(r.before||"")+t+(r.after||""):Array.isArray(r.nodes)?(n=stringify(r.nodes,e),"function"!==o?n:t+"("+(r.before||"")+n+(r.after||"")+(r.unclosed?"":")")):t}function stringify(r,e){var n,i;if(Array.isArray(r)){for(n="",i=r.length-1;~i;i-=1)n=stringifyNode(r[i],e)+n;return n}return stringifyNode(r,e)}module.exports=stringify;

},{}],34:[function(require,module,exports){
var minus="-".charCodeAt(0),plus="+".charCodeAt(0),dot=".".charCodeAt(0),exp="e".charCodeAt(0),EXP="E".charCodeAt(0);function likeNumber(r){var e,t=r.charCodeAt(0);if(t===plus||t===minus){if((e=r.charCodeAt(1))>=48&&e<=57)return!0;var o=r.charCodeAt(2);return e===dot&&o>=48&&o<=57}return t===dot?(e=r.charCodeAt(1))>=48&&e<=57:t>=48&&t<=57}module.exports=function(r){var e,t,o,d=0,a=r.length;if(0===a||!likeNumber(r))return!1;for((e=r.charCodeAt(d))!==plus&&e!==minus||d++;d<a&&!((e=r.charCodeAt(d))<48||e>57);)d+=1;if(e=r.charCodeAt(d),t=r.charCodeAt(d+1),e===dot&&t>=48&&t<=57)for(d+=2;d<a&&!((e=r.charCodeAt(d))<48||e>57);)d+=1;if(e=r.charCodeAt(d),t=r.charCodeAt(d+1),o=r.charCodeAt(d+2),(e===exp||e===EXP)&&(t>=48&&t<=57||(t===plus||t===minus)&&o>=48&&o<=57))for(d+=t===plus||t===minus?3:2;d<a&&!((e=r.charCodeAt(d))<48||e>57);)d+=1;return{number:r.slice(0,d),unit:r.slice(d)}};

},{}],35:[function(require,module,exports){
module.exports=function n(o,r,e){var t,s,a,d;for(t=0,s=o.length;t<s;t+=1)a=o[t],e||(d=r(a,t,o)),!1!==d&&"function"===a.type&&Array.isArray(a.nodes)&&n(a.nodes,r,e),e&&r(a,t,o)};

},{}],36:[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.default=void 0;var _container=_interopRequireDefault(require("./container"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var AtRule=function(e){function t(t){var r;return(r=e.call(this,t)||this).type="atrule",r}_inheritsLoose(t,e);var r=t.prototype;return r.append=function(){var t;this.nodes||(this.nodes=[]);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=e.prototype.append).call.apply(t,[this].concat(o))},r.prepend=function(){var t;this.nodes||(this.nodes=[]);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=e.prototype.prepend).call.apply(t,[this].concat(o))},t}(_container.default),_default=AtRule;exports.default=_default,module.exports=exports.default;

},{"./container":38}],37:[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.default=void 0;var _node=_interopRequireDefault(require("./node"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Comment=function(e){function t(t){var o;return(o=e.call(this,t)||this).type="comment",o}return _inheritsLoose(t,e),t}(_node.default),_default=Comment;exports.default=_default,module.exports=exports.default;

},{"./node":45}],38:[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.default=void 0;var _declaration=_interopRequireDefault(require("./declaration")),_comment=_interopRequireDefault(require("./comment")),_node=_interopRequireDefault(require("./node"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _createForOfIteratorHelperLoose(e,r){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=_unsupportedIterableToArray(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(t=e[Symbol.iterator]()).next.bind(t)}function _unsupportedIterableToArray(e,r){if(e){if("string"==typeof e)return _arrayLikeToArray(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,r):void 0}}function _arrayLikeToArray(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),e}function _inheritsLoose(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r}function cleanSource(e){return e.map(function(e){return e.nodes&&(e.nodes=cleanSource(e.nodes)),delete e.source,e})}var Container=function(e){function r(){return e.apply(this,arguments)||this}_inheritsLoose(r,e);var t=r.prototype;return t.push=function(e){return e.parent=this,this.nodes.push(e),this},t.each=function(e){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;var r=this.lastEach;if(this.indexes[r]=0,this.nodes){for(var t,n;this.indexes[r]<this.nodes.length&&(t=this.indexes[r],!1!==(n=e(this.nodes[t],t)));)this.indexes[r]+=1;return delete this.indexes[r],n}},t.walk=function(e){return this.each(function(r,t){var n;try{n=e(r,t)}catch(e){if(e.postcssNode=r,e.stack&&r.source&&/\n\s{4}at /.test(e.stack)){var o=r.source;e.stack=e.stack.replace(/\n\s{4}at /,"$&"+o.input.from+":"+o.start.line+":"+o.start.column+"$&")}throw e}return!1!==n&&r.walk&&(n=r.walk(e)),n})},t.walkDecls=function(e,r){return r?e instanceof RegExp?this.walk(function(t,n){if("decl"===t.type&&e.test(t.prop))return r(t,n)}):this.walk(function(t,n){if("decl"===t.type&&t.prop===e)return r(t,n)}):(r=e,this.walk(function(e,t){if("decl"===e.type)return r(e,t)}))},t.walkRules=function(e,r){return r?e instanceof RegExp?this.walk(function(t,n){if("rule"===t.type&&e.test(t.selector))return r(t,n)}):this.walk(function(t,n){if("rule"===t.type&&t.selector===e)return r(t,n)}):(r=e,this.walk(function(e,t){if("rule"===e.type)return r(e,t)}))},t.walkAtRules=function(e,r){return r?e instanceof RegExp?this.walk(function(t,n){if("atrule"===t.type&&e.test(t.name))return r(t,n)}):this.walk(function(t,n){if("atrule"===t.type&&t.name===e)return r(t,n)}):(r=e,this.walk(function(e,t){if("atrule"===e.type)return r(e,t)}))},t.walkComments=function(e){return this.walk(function(r,t){if("comment"===r.type)return e(r,t)})},t.append=function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];for(var n=0,o=r;n<o.length;n++)for(var i,s=o[n],a=_createForOfIteratorHelperLoose(this.normalize(s,this.last));!(i=a()).done;){var u=i.value;this.nodes.push(u)}return this},t.prepend=function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];for(var n,o=_createForOfIteratorHelperLoose(r=r.reverse());!(n=o()).done;){for(var i,s=n.value,a=this.normalize(s,this.first,"prepend").reverse(),u=_createForOfIteratorHelperLoose(a);!(i=u()).done;){var l=i.value;this.nodes.unshift(l)}for(var f in this.indexes)this.indexes[f]=this.indexes[f]+a.length}return this},t.cleanRaws=function(r){if(e.prototype.cleanRaws.call(this,r),this.nodes)for(var t,n=_createForOfIteratorHelperLoose(this.nodes);!(t=n()).done;){t.value.cleanRaws(r)}},t.insertBefore=function(e,r){for(var t,n,o=0===(e=this.index(e))&&"prepend",i=this.normalize(r,this.nodes[e],o).reverse(),s=_createForOfIteratorHelperLoose(i);!(t=s()).done;){var a=t.value;this.nodes.splice(e,0,a)}for(var u in this.indexes)e<=(n=this.indexes[u])&&(this.indexes[u]=n+i.length);return this},t.insertAfter=function(e,r){e=this.index(e);for(var t,n,o=this.normalize(r,this.nodes[e]).reverse(),i=_createForOfIteratorHelperLoose(o);!(t=i()).done;){var s=t.value;this.nodes.splice(e+1,0,s)}for(var a in this.indexes)e<(n=this.indexes[a])&&(this.indexes[a]=n+o.length);return this},t.removeChild=function(e){var r;for(var t in e=this.index(e),this.nodes[e].parent=void 0,this.nodes.splice(e,1),this.indexes)(r=this.indexes[t])>=e&&(this.indexes[t]=r-1);return this},t.removeAll=function(){for(var e,r=_createForOfIteratorHelperLoose(this.nodes);!(e=r()).done;){e.value.parent=void 0}return this.nodes=[],this},t.replaceValues=function(e,r,t){return t||(t=r,r={}),this.walkDecls(function(n){r.props&&-1===r.props.indexOf(n.prop)||r.fast&&-1===n.value.indexOf(r.fast)||(n.value=n.value.replace(e,t))}),this},t.every=function(e){return this.nodes.every(e)},t.some=function(e){return this.nodes.some(e)},t.index=function(e){return"number"==typeof e?e:this.nodes.indexOf(e)},t.normalize=function(e,r){var t=this;if("string"==typeof e)e=cleanSource(require("./parse")(e).nodes);else if(Array.isArray(e))for(var n,o=_createForOfIteratorHelperLoose(e=e.slice(0));!(n=o()).done;){var i=n.value;i.parent&&i.parent.removeChild(i,"ignore")}else if("root"===e.type)for(var s,a=_createForOfIteratorHelperLoose(e=e.nodes.slice(0));!(s=a()).done;){var u=s.value;u.parent&&u.parent.removeChild(u,"ignore")}else if(e.type)e=[e];else if(e.prop){if(void 0===e.value)throw new Error("Value field is missed in node creation");"string"!=typeof e.value&&(e.value=String(e.value)),e=[new _declaration.default(e)]}else if(e.selector){e=[new(require("./rule"))(e)]}else if(e.name){e=[new(require("./at-rule"))(e)]}else{if(!e.text)throw new Error("Unknown node type in node creation");e=[new _comment.default(e)]}return e.map(function(e){return e.parent&&e.parent.removeChild(e),void 0===e.raws.before&&r&&void 0!==r.raws.before&&(e.raws.before=r.raws.before.replace(/[^\s]/g,"")),e.parent=t,e})},_createClass(r,[{key:"first",get:function(){if(this.nodes)return this.nodes[0]}},{key:"last",get:function(){if(this.nodes)return this.nodes[this.nodes.length-1]}}]),r}(_node.default),_default=Container;exports.default=_default,module.exports=exports.default;

},{"./at-rule":36,"./comment":37,"./declaration":40,"./node":45,"./parse":46,"./rule":53}],39:[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.default=void 0;var _supportsColor=_interopRequireDefault(require("supports-color")),_chalk=_interopRequireDefault(require("chalk")),_terminalHighlight=_interopRequireDefault(require("./terminal-highlight"));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _inheritsLoose(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function _wrapNativeSuper(t){var e="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(t){if(null===t||!_isNativeFunction(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return _construct(t,arguments,_getPrototypeOf(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(r,t)})(t)}function _construct(t,e,r){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&_setPrototypeOf(o,r.prototype),o}).apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function _isNativeFunction(t){return-1!==Function.toString.call(t).indexOf("[native code]")}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var CssSyntaxError=function(t){function e(r,n,o,i,u,s){var a;return(a=t.call(this,r)||this).name="CssSyntaxError",a.reason=r,u&&(a.file=u),i&&(a.source=i),s&&(a.plugin=s),void 0!==n&&void 0!==o&&(a.line=n,a.column=o),a.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(_assertThisInitialized(a),e),a}_inheritsLoose(e,t);var r=e.prototype;return r.setMessage=function(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",void 0!==this.line&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason},r.showSourceCode=function(t){var e=this;if(!this.source)return"";var r=this.source;_terminalHighlight.default&&(void 0===t&&(t=_supportsColor.default.stdout),t&&(r=(0,_terminalHighlight.default)(r)));var n=r.split(/\r?\n/),o=Math.max(this.line-3,0),i=Math.min(this.line+2,n.length),u=String(i).length;function s(e){return t&&_chalk.default.red?_chalk.default.red.bold(e):e}function a(e){return t&&_chalk.default.gray?_chalk.default.gray(e):e}return n.slice(o,i).map(function(t,r){var n=o+1+r,i=" "+(" "+n).slice(-u)+" | ";if(n===e.line){var c=a(i.replace(/\d/g," "))+t.slice(0,e.column-1).replace(/[^\t]/g," ");return s(">")+a(i)+t+"\n "+c+s("^")}return" "+a(i)+t}).join("\n")},r.toString=function(){var t=this.showSourceCode();return t&&(t="\n\n"+t+"\n"),this.name+": "+this.message+t},e}(_wrapNativeSuper(Error)),_default=CssSyntaxError;exports.default=_default,module.exports=exports.default;

},{"./terminal-highlight":25,"chalk":25,"supports-color":25}],40:[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.default=void 0;var _node=_interopRequireDefault(require("./node"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Declaration=function(e){function t(t){var o;return(o=e.call(this,t)||this).type="decl",o}return _inheritsLoose(t,e),t}(_node.default),_default=Declaration;exports.default=_default,module.exports=exports.default;

},{"./node":45}],41:[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.default=void 0;var _path=_interopRequireDefault(require("path")),_cssSyntaxError=_interopRequireDefault(require("./css-syntax-error")),_previousMap=_interopRequireDefault(require("./previous-map"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}var sequence=0,Input=function(){function e(e,t){if(void 0===t&&(t={}),null==e||"object"==typeof e&&!e.toString)throw new Error("PostCSS received "+e+" instead of CSS string");this.css=e.toString(),"\ufeff"===this.css[0]||"\ufffe"===this.css[0]?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(/^\w+:\/\//.test(t.from)||_path.default.isAbsolute(t.from)?this.file=t.from:this.file=_path.default.resolve(t.from));var r=new _previousMap.default(this.css,t);if(r.text){this.map=r;var i=r.consumer().file;!this.file&&i&&(this.file=this.mapResolve(i))}this.file||(sequence+=1,this.id="<input css "+sequence+">"),this.map&&(this.map.file=this.from)}var t=e.prototype;return t.error=function(e,t,r,i){var s;void 0===i&&(i={});var o=this.origin(t,r);return(s=o?new _cssSyntaxError.default(e,o.line,o.column,o.source,o.file,i.plugin):new _cssSyntaxError.default(e,t,r,this.css,this.file,i.plugin)).input={line:t,column:r,source:this.css},this.file&&(s.input.file=this.file),s},t.origin=function(e,t){if(!this.map)return!1;var r=this.map.consumer(),i=r.originalPositionFor({line:e,column:t});if(!i.source)return!1;var s={file:this.mapResolve(i.source),line:i.line,column:i.column},o=r.sourceContentFor(i.source);return o&&(s.source=o),s},t.mapResolve=function(e){return/^\w+:\/\//.test(e)?e:_path.default.resolve(this.map.consumer().sourceRoot||".",e)},_createClass(e,[{key:"from",get:function(){return this.file||this.id}}]),e}(),_default=Input;exports.default=_default,module.exports=exports.default;

},{"./css-syntax-error":39,"./previous-map":49,"path":28}],42:[function(require,module,exports){
(function (process){(function (){
"use strict";exports.__esModule=!0,exports.default=void 0;var _mapGenerator=_interopRequireDefault(require("./map-generator")),_stringify2=_interopRequireDefault(require("./stringify")),_warnOnce=_interopRequireDefault(require("./warn-once")),_result=_interopRequireDefault(require("./result")),_parse=_interopRequireDefault(require("./parse"));function _interopRequireDefault(r){return r&&r.__esModule?r:{default:r}}function _createForOfIteratorHelperLoose(r,e){var t;if("undefined"==typeof Symbol||null==r[Symbol.iterator]){if(Array.isArray(r)||(t=_unsupportedIterableToArray(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var s=0;return function(){return s>=r.length?{done:!0}:{done:!1,value:r[s++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(t=r[Symbol.iterator]()).next.bind(t)}function _unsupportedIterableToArray(r,e){if(r){if("string"==typeof r)return _arrayLikeToArray(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,e):void 0}}function _arrayLikeToArray(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,s=new Array(e);t<e;t++)s[t]=r[t];return s}function _defineProperties(r,e){for(var t=0;t<e.length;t++){var s=e[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(r,s.key,s)}}function _createClass(r,e,t){return e&&_defineProperties(r.prototype,e),t&&_defineProperties(r,t),r}function isPromise(r){return"object"==typeof r&&"function"==typeof r.then}var LazyResult=function(){function r(e,t,s){var n;if(this.stringified=!1,this.processed=!1,"object"==typeof t&&null!==t&&"root"===t.type)n=t;else if(t instanceof r||t instanceof _result.default)n=t.root,t.map&&(void 0===s.map&&(s.map={}),s.map.inline||(s.map.inline=!1),s.map.prev=t.map);else{var i=_parse.default;s.syntax&&(i=s.syntax.parse),s.parser&&(i=s.parser),i.parse&&(i=i.parse);try{n=i(t,s)}catch(r){this.error=r}}this.result=new _result.default(e,n,s)}var e=r.prototype;return e.warnings=function(){return this.sync().warnings()},e.toString=function(){return this.css},e.then=function(r,e){return"production"!==process.env.NODE_ENV&&("from"in this.opts||(0,_warnOnce.default)("Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.")),this.async().then(r,e)},e.catch=function(r){return this.async().catch(r)},e.finally=function(r){return this.async().then(r,r)},e.handleError=function(r,e){try{if(this.error=r,"CssSyntaxError"!==r.name||r.plugin){if(e.postcssVersion&&"production"!==process.env.NODE_ENV){var t=e.postcssPlugin,s=e.postcssVersion,n=this.result.processor.version,i=s.split("."),o=n.split(".");(i[0]!==o[0]||parseInt(i[1])>parseInt(o[1]))&&console.error("Unknown error from PostCSS plugin. Your current PostCSS version is "+n+", but "+t+" uses "+s+". Perhaps this is the source of the error below.")}}else r.plugin=e.postcssPlugin,r.setMessage()}catch(r){console&&console.error&&console.error(r)}},e.asyncTick=function(r,e){var t=this;if(this.plugin>=this.processor.plugins.length)return this.processed=!0,r();try{var s=this.processor.plugins[this.plugin],n=this.run(s);this.plugin+=1,isPromise(n)?n.then(function(){t.asyncTick(r,e)}).catch(function(r){t.handleError(r,s),t.processed=!0,e(r)}):this.asyncTick(r,e)}catch(r){this.processed=!0,e(r)}},e.async=function(){var r=this;return this.processed?new Promise(function(e,t){r.error?t(r.error):e(r.stringify())}):this.processing?this.processing:(this.processing=new Promise(function(e,t){if(r.error)return t(r.error);r.plugin=0,r.asyncTick(e,t)}).then(function(){return r.processed=!0,r.stringify()}),this.processing)},e.sync=function(){if(this.processed)return this.result;if(this.processed=!0,this.processing)throw new Error("Use process(css).then(cb) to work with async plugins");if(this.error)throw this.error;for(var r,e=_createForOfIteratorHelperLoose(this.result.processor.plugins);!(r=e()).done;){var t=r.value;if(isPromise(this.run(t)))throw new Error("Use process(css).then(cb) to work with async plugins")}return this.result},e.run=function(r){this.result.lastPlugin=r;try{return r(this.result.root,this.result)}catch(e){throw this.handleError(e,r),e}},e.stringify=function(){if(this.stringified)return this.result;this.stringified=!0,this.sync();var r=this.result.opts,e=_stringify2.default;r.syntax&&(e=r.syntax.stringify),r.stringifier&&(e=r.stringifier),e.stringify&&(e=e.stringify);var t=new _mapGenerator.default(e,this.result.root,this.result.opts).generate();return this.result.css=t[0],this.result.map=t[1],this.result},_createClass(r,[{key:"processor",get:function(){return this.result.processor}},{key:"opts",get:function(){return this.result.opts}},{key:"css",get:function(){return this.stringify().css}},{key:"content",get:function(){return this.stringify().content}},{key:"map",get:function(){return this.stringify().map}},{key:"root",get:function(){return this.sync().root}},{key:"messages",get:function(){return this.sync().messages}}]),r}(),_default=LazyResult;exports.default=_default,module.exports=exports.default;

}).call(this)}).call(this,require('_process'))
},{"./map-generator":44,"./parse":46,"./result":51,"./stringify":55,"./warn-once":58,"_process":71}],43:[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.default=void 0;var list={split:function(t,e,r){for(var s=[],u="",i=!1,l=0,o=!1,n=!1,p=0;p<t.length;p++){var a=t[p];o?n?n=!1:"\\"===a?n=!0:a===o&&(o=!1):'"'===a||"'"===a?o=a:"("===a?l+=1:")"===a?l>0&&(l-=1):0===l&&-1!==e.indexOf(a)&&(i=!0),i?(""!==u&&s.push(u.trim()),u="",i=!1):u+=a}return(r||""!==u)&&s.push(u.trim()),s},space:function(t){return list.split(t,[" ","\n","\t"])},comma:function(t){return list.split(t,[","],!0)}},_default=list;exports.default=_default,module.exports=exports.default;

},{}],44:[function(require,module,exports){
(function (Buffer){(function (){
"use strict";exports.__esModule=!0,exports.default=void 0;var _sourceMap=_interopRequireDefault(require("source-map")),_path=_interopRequireDefault(require("path"));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _createForOfIteratorHelperLoose(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var MapGenerator=function(){function t(t,e,n){this.stringify=t,this.mapOpts=n.map||{},this.root=e,this.opts=n}var e=t.prototype;return e.isMap=function(){return void 0!==this.opts.map?!!this.opts.map:this.previous().length>0},e.previous=function(){var t=this;return this.previousMaps||(this.previousMaps=[],this.root.walk(function(e){if(e.source&&e.source.input.map){var n=e.source.input.map;-1===t.previousMaps.indexOf(n)&&t.previousMaps.push(n)}})),this.previousMaps},e.isInline=function(){if(void 0!==this.mapOpts.inline)return this.mapOpts.inline;var t=this.mapOpts.annotation;return(void 0===t||!0===t)&&(!this.previous().length||this.previous().some(function(t){return t.inline}))},e.isSourcesContent=function(){return void 0!==this.mapOpts.sourcesContent?this.mapOpts.sourcesContent:!this.previous().length||this.previous().some(function(t){return t.withContent()})},e.clearAnnotation=function(){if(!1!==this.mapOpts.annotation)for(var t,e=this.root.nodes.length-1;e>=0;e--)"comment"===(t=this.root.nodes[e]).type&&0===t.text.indexOf("# sourceMappingURL=")&&this.root.removeChild(e)},e.setSourcesContent=function(){var t=this,e={};this.root.walk(function(n){if(n.source){var r=n.source.input.from;if(r&&!e[r]){e[r]=!0;var o=t.relative(r);t.map.setSourceContent(o,n.source.input.css)}}})},e.applyPrevMaps=function(){for(var t,e=_createForOfIteratorHelperLoose(this.previous());!(t=e()).done;){var n=t.value,r=this.relative(n.file),o=n.root||_path.default.dirname(n.file),i=void 0;!1===this.mapOpts.sourcesContent?(i=new _sourceMap.default.SourceMapConsumer(n.text)).sourcesContent&&(i.sourcesContent=i.sourcesContent.map(function(){return null})):i=n.consumer(),this.map.applySourceMap(i,r,this.relative(o))}},e.isAnnotation=function(){return!!this.isInline()||(void 0!==this.mapOpts.annotation?this.mapOpts.annotation:!this.previous().length||this.previous().some(function(t){return t.annotation}))},e.toBase64=function(t){return Buffer?Buffer.from(t).toString("base64"):window.btoa(unescape(encodeURIComponent(t)))},e.addAnnotation=function(){var t;t=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):"string"==typeof this.mapOpts.annotation?this.mapOpts.annotation:this.outputFile()+".map";var e="\n";-1!==this.css.indexOf("\r\n")&&(e="\r\n"),this.css+=e+"/*# sourceMappingURL="+t+" */"},e.outputFile=function(){return this.opts.to?this.relative(this.opts.to):this.opts.from?this.relative(this.opts.from):"to.css"},e.generateMap=function(){return this.generateString(),this.isSourcesContent()&&this.setSourcesContent(),this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]},e.relative=function(t){if(0===t.indexOf("<"))return t;if(/^\w+:\/\//.test(t))return t;var e=this.opts.to?_path.default.dirname(this.opts.to):".";return"string"==typeof this.mapOpts.annotation&&(e=_path.default.dirname(_path.default.resolve(e,this.mapOpts.annotation))),t=_path.default.relative(e,t),"\\"===_path.default.sep?t.replace(/\\/g,"/"):t},e.sourcePath=function(t){return this.mapOpts.from?this.mapOpts.from:this.relative(t.source.input.from)},e.generateString=function(){var t=this;this.css="",this.map=new _sourceMap.default.SourceMapGenerator({file:this.outputFile()});var e,n,r=1,o=1;this.stringify(this.root,function(i,s,a){if(t.css+=i,s&&"end"!==a&&(s.source&&s.source.start?t.map.addMapping({source:t.sourcePath(s),generated:{line:r,column:o-1},original:{line:s.source.start.line,column:s.source.start.column-1}}):t.map.addMapping({source:"<no source>",original:{line:1,column:0},generated:{line:r,column:o-1}})),(e=i.match(/\n/g))?(r+=e.length,n=i.lastIndexOf("\n"),o=i.length-n):o+=i.length,s&&"start"!==a){var u=s.parent||{raws:{}};("decl"!==s.type||s!==u.last||u.raws.semicolon)&&(s.source&&s.source.end?t.map.addMapping({source:t.sourcePath(s),generated:{line:r,column:o-2},original:{line:s.source.end.line,column:s.source.end.column-1}}):t.map.addMapping({source:"<no source>",original:{line:1,column:0},generated:{line:r,column:o-1}}))}})},e.generate=function(){if(this.clearAnnotation(),this.isMap())return this.generateMap();var t="";return this.stringify(this.root,function(e){t+=e}),[t]},t}(),_default=MapGenerator;exports.default=_default,module.exports=exports.default;

}).call(this)}).call(this,require("buffer").Buffer)
},{"buffer":26,"path":28,"source-map":70}],45:[function(require,module,exports){
(function (process){(function (){
"use strict";exports.__esModule=!0,exports.default=void 0;var _cssSyntaxError=_interopRequireDefault(require("./css-syntax-error")),_stringifier=_interopRequireDefault(require("./stringifier")),_stringify=_interopRequireDefault(require("./stringify"));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function cloneNode(t,r){var e=new t.constructor;for(var n in t)if(t.hasOwnProperty(n)){var i=t[n],o=typeof i;"parent"===n&&"object"===o?r&&(e[n]=r):"source"===n?e[n]=i:i instanceof Array?e[n]=i.map(function(t){return cloneNode(t,e)}):("object"===o&&null!==i&&(i=cloneNode(i)),e[n]=i)}return e}var Node=function(){function t(t){if(void 0===t&&(t={}),this.raws={},"production"!==process.env.NODE_ENV&&"object"!=typeof t&&void 0!==t)throw new Error("PostCSS nodes constructor accepts object, not "+JSON.stringify(t));for(var r in t)this[r]=t[r]}var r=t.prototype;return r.error=function(t,r){if(void 0===r&&(r={}),this.source){var e=this.positionBy(r);return this.source.input.error(t,e.line,e.column,r)}return new _cssSyntaxError.default(t)},r.warn=function(t,r,e){var n={node:this};for(var i in e)n[i]=e[i];return t.warn(r,n)},r.remove=function(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this},r.toString=function(t){void 0===t&&(t=_stringify.default),t.stringify&&(t=t.stringify);var r="";return t(this,function(t){r+=t}),r},r.clone=function(t){void 0===t&&(t={});var r=cloneNode(this);for(var e in t)r[e]=t[e];return r},r.cloneBefore=function(t){void 0===t&&(t={});var r=this.clone(t);return this.parent.insertBefore(this,r),r},r.cloneAfter=function(t){void 0===t&&(t={});var r=this.clone(t);return this.parent.insertAfter(this,r),r},r.replaceWith=function(){if(this.parent){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];for(var n=0,i=r;n<i.length;n++){var o=i[n];this.parent.insertBefore(this,o)}this.remove()}return this},r.next=function(){if(this.parent){var t=this.parent.index(this);return this.parent.nodes[t+1]}},r.prev=function(){if(this.parent){var t=this.parent.index(this);return this.parent.nodes[t-1]}},r.before=function(t){return this.parent.insertBefore(this,t),this},r.after=function(t){return this.parent.insertAfter(this,t),this},r.toJSON=function(){var t={};for(var r in this)if(this.hasOwnProperty(r)&&"parent"!==r){var e=this[r];e instanceof Array?t[r]=e.map(function(t){return"object"==typeof t&&t.toJSON?t.toJSON():t}):"object"==typeof e&&e.toJSON?t[r]=e.toJSON():t[r]=e}return t},r.raw=function(t,r){return(new _stringifier.default).raw(this,t,r)},r.root=function(){for(var t=this;t.parent;)t=t.parent;return t},r.cleanRaws=function(t){delete this.raws.before,delete this.raws.after,t||delete this.raws.between},r.positionInside=function(t){for(var r=this.toString(),e=this.source.start.column,n=this.source.start.line,i=0;i<t;i++)"\n"===r[i]?(e=1,n+=1):e+=1;return{line:n,column:e}},r.positionBy=function(t){var r=this.source.start;if(t.index)r=this.positionInside(t.index);else if(t.word){var e=this.toString().indexOf(t.word);-1!==e&&(r=this.positionInside(e))}return r},t}(),_default=Node;exports.default=_default,module.exports=exports.default;

}).call(this)}).call(this,require('_process'))
},{"./css-syntax-error":39,"./stringifier":54,"./stringify":55,"_process":71}],46:[function(require,module,exports){
(function (process){(function (){
"use strict";exports.__esModule=!0,exports.default=void 0;var _parser=_interopRequireDefault(require("./parser")),_input=_interopRequireDefault(require("./input"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function parse(e,s){var r=new _input.default(e,s),t=new _parser.default(r);try{t.parse()}catch(e){throw"production"!==process.env.NODE_ENV&&"CssSyntaxError"===e.name&&s&&s.from&&(/\.scss$/i.test(s.from)?e.message+="\nYou tried to parse SCSS with the standard CSS parser; try again with the postcss-scss parser":/\.sass/i.test(s.from)?e.message+="\nYou tried to parse Sass with the standard CSS parser; try again with the postcss-sass parser":/\.less$/i.test(s.from)&&(e.message+="\nYou tried to parse Less with the standard CSS parser; try again with the postcss-less parser")),e}return t.root}var _default=parse;exports.default=_default,module.exports=exports.default;

}).call(this)}).call(this,require('_process'))
},{"./input":41,"./parser":47,"_process":71}],47:[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.default=void 0;var _declaration=_interopRequireDefault(require("./declaration")),_tokenize=_interopRequireDefault(require("./tokenize")),_comment=_interopRequireDefault(require("./comment")),_atRule=_interopRequireDefault(require("./at-rule")),_root=_interopRequireDefault(require("./root")),_rule=_interopRequireDefault(require("./rule"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var Parser=function(){function e(e){this.input=e,this.root=new _root.default,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:e,start:{line:1,column:1}}}var t=e.prototype;return t.createTokenizer=function(){this.tokenizer=(0,_tokenize.default)(this.input)},t.parse=function(){for(var e;!this.tokenizer.endOfFile();)switch((e=this.tokenizer.nextToken())[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e)}this.endFile()},t.comment=function(e){var t=new _comment.default;this.init(t,e[2],e[3]),t.source.end={line:e[4],column:e[5]};var r=e[1].slice(2,-2);if(/^\s*$/.test(r))t.text="",t.raws.left=r,t.raws.right="";else{var n=r.match(/^(\s*)([^]*[^\s])(\s*)$/);t.text=n[2],t.raws.left=n[1],t.raws.right=n[3]}},t.emptyRule=function(e){var t=new _rule.default;this.init(t,e[2],e[3]),t.selector="",t.raws.between="",this.current=t},t.other=function(e){for(var t=!1,r=null,n=!1,i=null,s=[],o=[],a=e;a;){if(r=a[0],o.push(a),"("===r||"["===r)i||(i=a),s.push("("===r?")":"]");else if(0===s.length){if(";"===r){if(n)return void this.decl(o);break}if("{"===r)return void this.rule(o);if("}"===r){this.tokenizer.back(o.pop()),t=!0;break}":"===r&&(n=!0)}else r===s[s.length-1]&&(s.pop(),0===s.length&&(i=null));a=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),s.length>0&&this.unclosedBracket(i),t&&n){for(;o.length&&("space"===(a=o[o.length-1][0])||"comment"===a);)this.tokenizer.back(o.pop());this.decl(o)}else this.unknownWord(o)},t.rule=function(e){e.pop();var t=new _rule.default;this.init(t,e[0][2],e[0][3]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t},t.decl=function(e){var t=new _declaration.default;this.init(t);var r,n=e[e.length-1];for(";"===n[0]&&(this.semicolon=!0,e.pop()),n[4]?t.source.end={line:n[4],column:n[5]}:t.source.end={line:n[2],column:n[3]};"word"!==e[0][0];)1===e.length&&this.unknownWord(e),t.raws.before+=e.shift()[1];for(t.source.start={line:e[0][2],column:e[0][3]},t.prop="";e.length;){var i=e[0][0];if(":"===i||"space"===i||"comment"===i)break;t.prop+=e.shift()[1]}for(t.raws.between="";e.length;){if(":"===(r=e.shift())[0]){t.raws.between+=r[1];break}"word"===r[0]&&/\w/.test(r[1])&&this.unknownWord([r]),t.raws.between+=r[1]}"_"!==t.prop[0]&&"*"!==t.prop[0]||(t.raws.before+=t.prop[0],t.prop=t.prop.slice(1)),t.raws.between+=this.spacesAndCommentsFromStart(e),this.precheckMissedSemicolon(e);for(var s=e.length-1;s>0;s--){if("!important"===(r=e[s])[1].toLowerCase()){t.important=!0;var o=this.stringFrom(e,s);" !important"!==(o=this.spacesFromEnd(e)+o)&&(t.raws.important=o);break}if("important"===r[1].toLowerCase()){for(var a=e.slice(0),c="",u=s;u>0;u--){var l=a[u][0];if(0===c.trim().indexOf("!")&&"space"!==l)break;c=a.pop()[1]+c}0===c.trim().indexOf("!")&&(t.important=!0,t.raws.important=c,e=a)}if("space"!==r[0]&&"comment"!==r[0])break}this.raw(t,"value",e),-1!==t.value.indexOf(":")&&this.checkMissedSemicolon(e)},t.atrule=function(e){var t,r,n=new _atRule.default;n.name=e[1].slice(1),""===n.name&&this.unnamedAtrule(n,e),this.init(n,e[2],e[3]);for(var i=!1,s=!1,o=[];!this.tokenizer.endOfFile();){if(";"===(e=this.tokenizer.nextToken())[0]){n.source.end={line:e[2],column:e[3]},this.semicolon=!0;break}if("{"===e[0]){s=!0;break}if("}"===e[0]){if(o.length>0){for(t=o[r=o.length-1];t&&"space"===t[0];)t=o[--r];t&&(n.source.end={line:t[4],column:t[5]})}this.end(e);break}if(o.push(e),this.tokenizer.endOfFile()){i=!0;break}}n.raws.between=this.spacesAndCommentsFromEnd(o),o.length?(n.raws.afterName=this.spacesAndCommentsFromStart(o),this.raw(n,"params",o),i&&(e=o[o.length-1],n.source.end={line:e[4],column:e[5]},this.spaces=n.raws.between,n.raws.between="")):(n.raws.afterName="",n.params=""),s&&(n.nodes=[],this.current=n)},t.end=function(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end={line:e[2],column:e[3]},this.current=this.current.parent):this.unexpectedClose(e)},t.endFile=function(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces},t.freeSemicolon=function(e){if(this.spaces+=e[1],this.current.nodes){var t=this.current.nodes[this.current.nodes.length-1];t&&"rule"===t.type&&!t.raws.ownSemicolon&&(t.raws.ownSemicolon=this.spaces,this.spaces="")}},t.init=function(e,t,r){this.current.push(e),e.source={start:{line:t,column:r},input:this.input},e.raws.before=this.spaces,this.spaces="","comment"!==e.type&&(this.semicolon=!1)},t.raw=function(e,t,r){for(var n,i,s,o,a=r.length,c="",u=!0,l=/^([.|#])?([\w])+/i,h=0;h<a;h+=1)"comment"!==(i=(n=r[h])[0])||"rule"!==e.type?"comment"===i||"space"===i&&h===a-1?u=!1:c+=n[1]:(o=r[h-1],s=r[h+1],"space"!==o[0]&&"space"!==s[0]&&l.test(o[1])&&l.test(s[1])?c+=n[1]:u=!1);if(!u){var p=r.reduce(function(e,t){return e+t[1]},"");e.raws[t]={value:c,raw:p}}e[t]=c},t.spacesAndCommentsFromEnd=function(e){for(var t,r="";e.length&&("space"===(t=e[e.length-1][0])||"comment"===t);)r=e.pop()[1]+r;return r},t.spacesAndCommentsFromStart=function(e){for(var t,r="";e.length&&("space"===(t=e[0][0])||"comment"===t);)r+=e.shift()[1];return r},t.spacesFromEnd=function(e){for(var t="";e.length&&"space"===e[e.length-1][0];)t=e.pop()[1]+t;return t},t.stringFrom=function(e,t){for(var r="",n=t;n<e.length;n++)r+=e[n][1];return e.splice(t,e.length-t),r},t.colon=function(e){for(var t,r,n,i=0,s=0;s<e.length;s++){if("("===(r=(t=e[s])[0])&&(i+=1),")"===r&&(i-=1),0===i&&":"===r){if(n){if("word"===n[0]&&"progid"===n[1])continue;return s}this.doubleColon(t)}n=t}return!1},t.unclosedBracket=function(e){throw this.input.error("Unclosed bracket",e[2],e[3])},t.unknownWord=function(e){throw this.input.error("Unknown word",e[0][2],e[0][3])},t.unexpectedClose=function(e){throw this.input.error("Unexpected }",e[2],e[3])},t.unclosedBlock=function(){var e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)},t.doubleColon=function(e){throw this.input.error("Double colon",e[2],e[3])},t.unnamedAtrule=function(e,t){throw this.input.error("At-rule without name",t[2],t[3])},t.precheckMissedSemicolon=function(){},t.checkMissedSemicolon=function(e){var t=this.colon(e);if(!1!==t){for(var r,n=0,i=t-1;i>=0&&("space"===(r=e[i])[0]||2!==(n+=1));i--);throw this.input.error("Missed semicolon",r[2],r[3])}},e}();exports.default=Parser,module.exports=exports.default;

},{"./at-rule":36,"./comment":37,"./declaration":40,"./root":52,"./rule":53,"./tokenize":56}],48:[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.default=void 0;var _declaration=_interopRequireDefault(require("./declaration")),_processor=_interopRequireDefault(require("./processor")),_stringify=_interopRequireDefault(require("./stringify")),_comment=_interopRequireDefault(require("./comment")),_atRule=_interopRequireDefault(require("./at-rule")),_vendor=_interopRequireDefault(require("./vendor")),_parse=_interopRequireDefault(require("./parse")),_list=_interopRequireDefault(require("./list")),_rule=_interopRequireDefault(require("./rule")),_root=_interopRequireDefault(require("./root"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function postcss(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return 1===r.length&&Array.isArray(r[0])&&(r=r[0]),new _processor.default(r)}postcss.plugin=function(e,r){function t(){var t=r.apply(void 0,arguments);return t.postcssPlugin=e,t.postcssVersion=(new _processor.default).version,t}var u;return Object.defineProperty(t,"postcss",{get:function(){return u||(u=t()),u}}),t.process=function(e,r,u){return postcss([t(u)]).process(e,r)},t},postcss.stringify=_stringify.default,postcss.parse=_parse.default,postcss.vendor=_vendor.default,postcss.list=_list.default,postcss.comment=function(e){return new _comment.default(e)},postcss.atRule=function(e){return new _atRule.default(e)},postcss.decl=function(e){return new _declaration.default(e)},postcss.rule=function(e){return new _rule.default(e)},postcss.root=function(e){return new _root.default(e)};var _default=postcss;exports.default=_default,module.exports=exports.default;

},{"./at-rule":36,"./comment":37,"./declaration":40,"./list":43,"./parse":46,"./processor":50,"./root":52,"./rule":53,"./stringify":55,"./vendor":57}],49:[function(require,module,exports){
(function (Buffer){(function (){
"use strict";exports.__esModule=!0,exports.default=void 0;var _sourceMap=_interopRequireDefault(require("source-map")),_path=_interopRequireDefault(require("path")),_fs=_interopRequireDefault(require("fs"));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function fromBase64(t){return Buffer?Buffer.from(t,"base64").toString():window.atob(t)}var PreviousMap=function(){function t(t,e){this.loadAnnotation(t),this.inline=this.startWith(this.annotation,"data:");var n=e.map?e.map.prev:void 0,r=this.loadMap(e.from,n);r&&(this.text=r)}var e=t.prototype;return e.consumer=function(){return this.consumerCache||(this.consumerCache=new _sourceMap.default.SourceMapConsumer(this.text)),this.consumerCache},e.withContent=function(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)},e.startWith=function(t,e){return!!t&&t.substr(0,e.length)===e},e.getAnnotationURL=function(t){return t.match(/\/\*\s*# sourceMappingURL=((?:(?!sourceMappingURL=).)*)\*\//)[1].trim()},e.loadAnnotation=function(t){var e=t.match(/\/\*\s*# sourceMappingURL=(?:(?!sourceMappingURL=).)*\*\//gm);if(e&&e.length>0){var n=e[e.length-1];n&&(this.annotation=this.getAnnotationURL(n))}},e.decodeInline=function(t){var e="data:application/json,";if(this.startWith(t,e))return decodeURIComponent(t.substr(e.length));if(/^data:application\/json;charset=utf-?8;base64,/.test(t)||/^data:application\/json;base64,/.test(t))return fromBase64(t.substr(RegExp.lastMatch.length));var n=t.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+n)},e.loadMap=function(t,e){if(!1===e)return!1;if(e){if("string"==typeof e)return e;if("function"==typeof e){var n=e(t);if(n&&_fs.default.existsSync&&_fs.default.existsSync(n))return _fs.default.readFileSync(n,"utf-8").toString().trim();throw new Error("Unable to load previous source map: "+n.toString())}if(e instanceof _sourceMap.default.SourceMapConsumer)return _sourceMap.default.SourceMapGenerator.fromSourceMap(e).toString();if(e instanceof _sourceMap.default.SourceMapGenerator)return e.toString();if(this.isMap(e))return JSON.stringify(e);throw new Error("Unsupported previous source map format: "+e.toString())}if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){var r=this.annotation;return t&&(r=_path.default.join(_path.default.dirname(t),r)),this.root=_path.default.dirname(r),!(!_fs.default.existsSync||!_fs.default.existsSync(r))&&_fs.default.readFileSync(r,"utf-8").toString().trim()}},e.isMap=function(t){return"object"==typeof t&&("string"==typeof t.mappings||"string"==typeof t._mappings)},t}(),_default=PreviousMap;exports.default=_default,module.exports=exports.default;

}).call(this)}).call(this,require("buffer").Buffer)
},{"buffer":26,"fs":25,"path":28,"source-map":70}],50:[function(require,module,exports){
(function (process){(function (){
"use strict";exports.__esModule=!0,exports.default=void 0;var _lazyResult=_interopRequireDefault(require("./lazy-result"));function _interopRequireDefault(r){return r&&r.__esModule?r:{default:r}}function _createForOfIteratorHelperLoose(r,t){var e;if("undefined"==typeof Symbol||null==r[Symbol.iterator]){if(Array.isArray(r)||(e=_unsupportedIterableToArray(r))||t&&r&&"number"==typeof r.length){e&&(r=e);var o=0;return function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(e=r[Symbol.iterator]()).next.bind(e)}function _unsupportedIterableToArray(r,t){if(r){if("string"==typeof r)return _arrayLikeToArray(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);return"Object"===e&&r.constructor&&(e=r.constructor.name),"Map"===e||"Set"===e?Array.from(r):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?_arrayLikeToArray(r,t):void 0}}function _arrayLikeToArray(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,o=new Array(t);e<t;e++)o[e]=r[e];return o}var Processor=function(){function r(r){void 0===r&&(r=[]),this.version="7.0.36",this.plugins=this.normalize(r)}var t=r.prototype;return t.use=function(r){return this.plugins=this.plugins.concat(this.normalize([r])),this},t.process=function(r){function t(t){return r.apply(this,arguments)}return t.toString=function(){return r.toString()},t}(function(r,t){return void 0===t&&(t={}),0===this.plugins.length&&t.parser===t.stringifier&&"production"!==process.env.NODE_ENV&&"undefined"!=typeof console&&console.warn&&console.warn("You did not set any plugins, parser, or stringifier. Right now, PostCSS does nothing. Pick plugins for your case on https://www.postcss.parts/ and use them in postcss.config.js."),new _lazyResult.default(this,r,t)}),t.normalize=function(r){for(var t,e=[],o=_createForOfIteratorHelperLoose(r);!(t=o()).done;){var n=t.value;if(!0===n.postcss){var s=n();throw new Error("PostCSS plugin "+s.postcssPlugin+" requires PostCSS 8.\nMigration guide for end-users:\nhttps://github.com/postcss/postcss/wiki/PostCSS-8-for-end-users")}if(n.postcss&&(n=n.postcss),"object"==typeof n&&Array.isArray(n.plugins))e=e.concat(n.plugins);else if("function"==typeof n)e.push(n);else{if("object"!=typeof n||!n.parse&&!n.stringify)throw"object"==typeof n&&n.postcssPlugin?new Error("PostCSS plugin "+n.postcssPlugin+" requires PostCSS 8.\nMigration guide for end-users:\nhttps://github.com/postcss/postcss/wiki/PostCSS-8-for-end-users"):new Error(n+" is not a PostCSS plugin");if("production"!==process.env.NODE_ENV)throw new Error("PostCSS syntaxes cannot be used as plugins. Instead, please use one of the syntax/parser/stringifier options as outlined in your PostCSS runner documentation.")}}return e},r}(),_default=Processor;exports.default=_default,module.exports=exports.default;

}).call(this)}).call(this,require('_process'))
},{"./lazy-result":42,"_process":71}],51:[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.default=void 0;var _warning=_interopRequireDefault(require("./warning"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}var Result=function(){function e(e,t,r){this.processor=e,this.messages=[],this.root=t,this.opts=r,this.css=void 0,this.map=void 0}var t=e.prototype;return t.toString=function(){return this.css},t.warn=function(e,t){void 0===t&&(t={}),t.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);var r=new _warning.default(e,t);return this.messages.push(r),r},t.warnings=function(){return this.messages.filter(function(e){return"warning"===e.type})},_createClass(e,[{key:"content",get:function(){return this.css}}]),e}(),_default=Result;exports.default=_default,module.exports=exports.default;

},{"./warning":59}],52:[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.default=void 0;var _container=_interopRequireDefault(require("./container"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _createForOfIteratorHelperLoose(e,r){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=_unsupportedIterableToArray(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(t=e[Symbol.iterator]()).next.bind(t)}function _unsupportedIterableToArray(e,r){if(e){if("string"==typeof e)return _arrayLikeToArray(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,r):void 0}}function _arrayLikeToArray(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,o=new Array(r);t<r;t++)o[t]=e[t];return o}function _inheritsLoose(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r}var Root=function(e){function r(r){var t;return(t=e.call(this,r)||this).type="root",t.nodes||(t.nodes=[]),t}_inheritsLoose(r,e);var t=r.prototype;return t.removeChild=function(r,t){var o=this.index(r);return!t&&0===o&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[o].raws.before),e.prototype.removeChild.call(this,r)},t.normalize=function(r,t,o){var n=e.prototype.normalize.call(this,r);if(t)if("prepend"===o)this.nodes.length>1?t.raws.before=this.nodes[1].raws.before:delete t.raws.before;else if(this.first!==t)for(var a,i=_createForOfIteratorHelperLoose(n);!(a=i()).done;){a.value.raws.before=t.raws.before}return n},t.toResult=function(e){return void 0===e&&(e={}),new(require("./lazy-result"))(new(require("./processor")),this,e).stringify()},r}(_container.default),_default=Root;exports.default=_default,module.exports=exports.default;

},{"./container":38,"./lazy-result":42,"./processor":50}],53:[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.default=void 0;var _container=_interopRequireDefault(require("./container")),_list=_interopRequireDefault(require("./list"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Rule=function(e){function t(t){var r;return(r=e.call(this,t)||this).type="rule",r.nodes||(r.nodes=[]),r}return _inheritsLoose(t,e),_createClass(t,[{key:"selectors",get:function(){return _list.default.comma(this.selector)},set:function(e){var t=this.selector?this.selector.match(/,\s*/):null,r=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(r)}}]),t}(_container.default),_default=Rule;exports.default=_default,module.exports=exports.default;

},{"./container":38,"./list":43}],54:[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.default=void 0;var DEFAULT_RAW={colon:": ",indent:"    ",beforeDecl:"\n",beforeRule:"\n",beforeOpen:" ",beforeClose:"\n",beforeComment:"\n",after:"\n",emptyBody:"",commentLeft:" ",commentRight:" ",semicolon:!1};function capitalize(e){return e[0].toUpperCase()+e.slice(1)}var Stringifier=function(){function e(e){this.builder=e}var r=e.prototype;return r.stringify=function(e,r){this[e.type](e,r)},r.root=function(e){this.body(e),e.raws.after&&this.builder(e.raws.after)},r.comment=function(e){var r=this.raw(e,"left","commentLeft"),t=this.raw(e,"right","commentRight");this.builder("/*"+r+e.text+t+"*/",e)},r.decl=function(e,r){var t=this.raw(e,"between","colon"),n=e.prop+t+this.rawValue(e,"value");e.important&&(n+=e.raws.important||" !important"),r&&(n+=";"),this.builder(n,e)},r.rule=function(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")},r.atrule=function(e,r){var t="@"+e.name,n=e.params?this.rawValue(e,"params"):"";if(void 0!==e.raws.afterName?t+=e.raws.afterName:n&&(t+=" "),e.nodes)this.block(e,t+n);else{var a=(e.raws.between||"")+(r?";":"");this.builder(t+n+a,e)}},r.body=function(e){for(var r=e.nodes.length-1;r>0&&"comment"===e.nodes[r].type;)r-=1;for(var t=this.raw(e,"semicolon"),n=0;n<e.nodes.length;n++){var a=e.nodes[n],o=this.raw(a,"before");o&&this.builder(o),this.stringify(a,r!==n||t)}},r.block=function(e,r){var t,n=this.raw(e,"between","beforeOpen");this.builder(r+n+"{",e,"start"),e.nodes&&e.nodes.length?(this.body(e),t=this.raw(e,"after")):t=this.raw(e,"after","emptyBody"),t&&this.builder(t),this.builder("}",e,"end")},r.raw=function(e,r,t){var n;if(t||(t=r),r&&void 0!==(n=e.raws[r]))return n;var a=e.parent;if("before"===t&&(!a||"root"===a.type&&a.first===e))return"";if(!a)return DEFAULT_RAW[t];var o=e.root();if(o.rawCache||(o.rawCache={}),void 0!==o.rawCache[t])return o.rawCache[t];if("before"===t||"after"===t)return this.beforeAfter(e,t);var i="raw"+capitalize(t);return this[i]?n=this[i](o,e):o.walk(function(e){if(void 0!==(n=e.raws[r]))return!1}),void 0===n&&(n=DEFAULT_RAW[t]),o.rawCache[t]=n,n},r.rawSemicolon=function(e){var r;return e.walk(function(e){if(e.nodes&&e.nodes.length&&"decl"===e.last.type&&void 0!==(r=e.raws.semicolon))return!1}),r},r.rawEmptyBody=function(e){var r;return e.walk(function(e){if(e.nodes&&0===e.nodes.length&&void 0!==(r=e.raws.after))return!1}),r},r.rawIndent=function(e){return e.raws.indent?e.raws.indent:(e.walk(function(t){var n=t.parent;if(n&&n!==e&&n.parent&&n.parent===e&&void 0!==t.raws.before){var a=t.raws.before.split("\n");return r=(r=a[a.length-1]).replace(/[^\s]/g,""),!1}}),r);var r},r.rawBeforeComment=function(e,r){var t;return e.walkComments(function(e){if(void 0!==e.raws.before)return-1!==(t=e.raws.before).indexOf("\n")&&(t=t.replace(/[^\n]+$/,"")),!1}),void 0===t?t=this.raw(r,null,"beforeDecl"):t&&(t=t.replace(/[^\s]/g,"")),t},r.rawBeforeDecl=function(e,r){var t;return e.walkDecls(function(e){if(void 0!==e.raws.before)return-1!==(t=e.raws.before).indexOf("\n")&&(t=t.replace(/[^\n]+$/,"")),!1}),void 0===t?t=this.raw(r,null,"beforeRule"):t&&(t=t.replace(/[^\s]/g,"")),t},r.rawBeforeRule=function(e){var r;return e.walk(function(t){if(t.nodes&&(t.parent!==e||e.first!==t)&&void 0!==t.raws.before)return-1!==(r=t.raws.before).indexOf("\n")&&(r=r.replace(/[^\n]+$/,"")),!1}),r&&(r=r.replace(/[^\s]/g,"")),r},r.rawBeforeClose=function(e){var r;return e.walk(function(e){if(e.nodes&&e.nodes.length>0&&void 0!==e.raws.after)return-1!==(r=e.raws.after).indexOf("\n")&&(r=r.replace(/[^\n]+$/,"")),!1}),r&&(r=r.replace(/[^\s]/g,"")),r},r.rawBeforeOpen=function(e){var r;return e.walk(function(e){if("decl"!==e.type&&void 0!==(r=e.raws.between))return!1}),r},r.rawColon=function(e){var r;return e.walkDecls(function(e){if(void 0!==e.raws.between)return r=e.raws.between.replace(/[^\s:]/g,""),!1}),r},r.beforeAfter=function(e,r){var t;t="decl"===e.type?this.raw(e,null,"beforeDecl"):"comment"===e.type?this.raw(e,null,"beforeComment"):"before"===r?this.raw(e,null,"beforeRule"):this.raw(e,null,"beforeClose");for(var n=e.parent,a=0;n&&"root"!==n.type;)a+=1,n=n.parent;if(-1!==t.indexOf("\n")){var o=this.raw(e,null,"indent");if(o.length)for(var i=0;i<a;i++)t+=o}return t},r.rawValue=function(e,r){var t=e[r],n=e.raws[r];return n&&n.value===t?n.raw:t},e}(),_default=Stringifier;exports.default=_default,module.exports=exports.default;

},{}],55:[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.default=void 0;var _stringifier=_interopRequireDefault(require("./stringifier"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function stringify(e,t){new _stringifier.default(t).stringify(e)}var _default=stringify;exports.default=_default,module.exports=exports.default;

},{"./stringifier":54}],56:[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.default=tokenizer;var SINGLE_QUOTE="'".charCodeAt(0),DOUBLE_QUOTE='"'.charCodeAt(0),BACKSLASH="\\".charCodeAt(0),SLASH="/".charCodeAt(0),NEWLINE="\n".charCodeAt(0),SPACE=" ".charCodeAt(0),FEED="\f".charCodeAt(0),TAB="\t".charCodeAt(0),CR="\r".charCodeAt(0),OPEN_SQUARE="[".charCodeAt(0),CLOSE_SQUARE="]".charCodeAt(0),OPEN_PARENTHESES="(".charCodeAt(0),CLOSE_PARENTHESES=")".charCodeAt(0),OPEN_CURLY="{".charCodeAt(0),CLOSE_CURLY="}".charCodeAt(0),SEMICOLON=";".charCodeAt(0),ASTERISK="*".charCodeAt(0),COLON=":".charCodeAt(0),AT="@".charCodeAt(0),RE_AT_END=/[ \n\t\r\f{}()'"\\;/[\]#]/g,RE_WORD_END=/[ \n\t\r\f(){}:;@!'"\\\][#]|\/(?=\*)/g,RE_BAD_BRACKET=/.[\\/("'\n]/,RE_HEX_ESCAPE=/[a-f0-9]/i;function tokenizer(e,E){void 0===E&&(E={});var t,r,A,a,c,o,C,s,n,d,S,_,h,i,N=e.css.valueOf(),l=E.ignoreErrors,R=N.length,O=-1,L=1,f=0,T=[],D=[];function I(E){throw e.error("Unclosed "+E,L,f-O)}return{back:function(e){D.push(e)},nextToken:function(e){if(D.length)return D.pop();if(!(f>=R)){var E=!!e&&e.ignoreUnclosed;switch(((t=N.charCodeAt(f))===NEWLINE||t===FEED||t===CR&&N.charCodeAt(f+1)!==NEWLINE)&&(O=f,L+=1),t){case NEWLINE:case SPACE:case TAB:case CR:case FEED:r=f;do{r+=1,(t=N.charCodeAt(r))===NEWLINE&&(O=r,L+=1)}while(t===SPACE||t===NEWLINE||t===TAB||t===CR||t===FEED);i=["space",N.slice(f,r)],f=r-1;break;case OPEN_SQUARE:case CLOSE_SQUARE:case OPEN_CURLY:case CLOSE_CURLY:case COLON:case SEMICOLON:case CLOSE_PARENTHESES:var u=String.fromCharCode(t);i=[u,u,L,f-O];break;case OPEN_PARENTHESES:if(_=T.length?T.pop()[1]:"",h=N.charCodeAt(f+1),"url"===_&&h!==SINGLE_QUOTE&&h!==DOUBLE_QUOTE&&h!==SPACE&&h!==NEWLINE&&h!==TAB&&h!==FEED&&h!==CR){r=f;do{if(d=!1,-1===(r=N.indexOf(")",r+1))){if(l||E){r=f;break}I("bracket")}for(S=r;N.charCodeAt(S-1)===BACKSLASH;)S-=1,d=!d}while(d);i=["brackets",N.slice(f,r+1),L,f-O,L,r-O],f=r}else r=N.indexOf(")",f+1),o=N.slice(f,r+1),-1===r||RE_BAD_BRACKET.test(o)?i=["(","(",L,f-O]:(i=["brackets",o,L,f-O,L,r-O],f=r);break;case SINGLE_QUOTE:case DOUBLE_QUOTE:A=t===SINGLE_QUOTE?"'":'"',r=f;do{if(d=!1,-1===(r=N.indexOf(A,r+1))){if(l||E){r=f+1;break}I("string")}for(S=r;N.charCodeAt(S-1)===BACKSLASH;)S-=1,d=!d}while(d);o=N.slice(f,r+1),a=o.split("\n"),(c=a.length-1)>0?(s=L+c,n=r-a[c].length):(s=L,n=O),i=["string",N.slice(f,r+1),L,f-O,s,r-n],O=n,L=s,f=r;break;case AT:RE_AT_END.lastIndex=f+1,RE_AT_END.test(N),r=0===RE_AT_END.lastIndex?N.length-1:RE_AT_END.lastIndex-2,i=["at-word",N.slice(f,r+1),L,f-O,L,r-O],f=r;break;case BACKSLASH:for(r=f,C=!0;N.charCodeAt(r+1)===BACKSLASH;)r+=1,C=!C;if(t=N.charCodeAt(r+1),C&&t!==SLASH&&t!==SPACE&&t!==NEWLINE&&t!==TAB&&t!==CR&&t!==FEED&&(r+=1,RE_HEX_ESCAPE.test(N.charAt(r)))){for(;RE_HEX_ESCAPE.test(N.charAt(r+1));)r+=1;N.charCodeAt(r+1)===SPACE&&(r+=1)}i=["word",N.slice(f,r+1),L,f-O,L,r-O],f=r;break;default:t===SLASH&&N.charCodeAt(f+1)===ASTERISK?(0===(r=N.indexOf("*/",f+2)+1)&&(l||E?r=N.length:I("comment")),o=N.slice(f,r+1),a=o.split("\n"),(c=a.length-1)>0?(s=L+c,n=r-a[c].length):(s=L,n=O),i=["comment",o,L,f-O,s,r-n],O=n,L=s,f=r):(RE_WORD_END.lastIndex=f+1,RE_WORD_END.test(N),r=0===RE_WORD_END.lastIndex?N.length-1:RE_WORD_END.lastIndex-2,i=["word",N.slice(f,r+1),L,f-O,L,r-O],T.push(i),f=r)}return f++,i}},endOfFile:function(){return 0===D.length&&f>=R},position:function(){return f}}}module.exports=exports.default;

},{}],57:[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.default=void 0;var vendor={prefix:function(e){var r=e.match(/^(-\w+-)/);return r?r[0]:""},unprefixed:function(e){return e.replace(/^-\w+-/,"")}},_default=vendor;exports.default=_default,module.exports=exports.default;

},{}],58:[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.default=warnOnce;var printed={};function warnOnce(e){printed[e]||(printed[e]=!0,"undefined"!=typeof console&&console.warn&&console.warn(e))}module.exports=exports.default;

},{}],59:[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.default=void 0;var Warning=function(){function t(t,i){if(void 0===i&&(i={}),this.type="warning",this.text=t,i.node&&i.node.source){var e=i.node.positionBy(i);this.line=e.line,this.column=e.column}for(var n in i)this[n]=i[n]}return t.prototype.toString=function(){return this.node?this.node.error(this.text,{plugin:this.plugin,index:this.index,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text},t}(),_default=Warning;exports.default=_default,module.exports=exports.default;

},{}],60:[function(require,module,exports){
var util=require("./util"),has=Object.prototype.hasOwnProperty,hasNativeMap="undefined"!=typeof Map;function ArraySet(){this._array=[],this._set=hasNativeMap?new Map:Object.create(null)}ArraySet.fromArray=function(t,r){for(var e=new ArraySet,a=0,i=t.length;a<i;a++)e.add(t[a],r);return e},ArraySet.prototype.size=function(){return hasNativeMap?this._set.size:Object.getOwnPropertyNames(this._set).length},ArraySet.prototype.add=function(t,r){var e=hasNativeMap?t:util.toSetString(t),a=hasNativeMap?this.has(t):has.call(this._set,e),i=this._array.length;a&&!r||this._array.push(t),a||(hasNativeMap?this._set.set(t,i):this._set[e]=i)},ArraySet.prototype.has=function(t){if(hasNativeMap)return this._set.has(t);var r=util.toSetString(t);return has.call(this._set,r)},ArraySet.prototype.indexOf=function(t){if(hasNativeMap){var r=this._set.get(t);if(r>=0)return r}else{var e=util.toSetString(t);if(has.call(this._set,e))return this._set[e]}throw new Error('"'+t+'" is not in the set.')},ArraySet.prototype.at=function(t){if(t>=0&&t<this._array.length)return this._array[t];throw new Error("No element indexed by "+t)},ArraySet.prototype.toArray=function(){return this._array.slice()},exports.ArraySet=ArraySet;

},{"./util":69}],61:[function(require,module,exports){
var base64=require("./base64"),VLQ_BASE_SHIFT=5,VLQ_BASE=1<<VLQ_BASE_SHIFT,VLQ_BASE_MASK=VLQ_BASE-1,VLQ_CONTINUATION_BIT=VLQ_BASE;function toVLQSigned(e){return e<0?1+(-e<<1):0+(e<<1)}function fromVLQSigned(e){var r=e>>1;return 1==(1&e)?-r:r}exports.encode=function(e){var r,_="",n=toVLQSigned(e);do{r=n&VLQ_BASE_MASK,(n>>>=VLQ_BASE_SHIFT)>0&&(r|=VLQ_CONTINUATION_BIT),_+=base64.encode(r)}while(n>0);return _},exports.decode=function(e,r,_){var n,o,S=e.length,t=0,i=0;do{if(r>=S)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(o=base64.decode(e.charCodeAt(r++))))throw new Error("Invalid base64 digit: "+e.charAt(r-1));n=!!(o&VLQ_CONTINUATION_BIT),t+=(o&=VLQ_BASE_MASK)<<i,i+=VLQ_BASE_SHIFT}while(n);_.value=fromVLQSigned(t),_.rest=r};

},{"./base64":62}],62:[function(require,module,exports){
var intToCharMap="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");exports.encode=function(e){if(0<=e&&e<intToCharMap.length)return intToCharMap[e];throw new TypeError("Must be between 0 and 63: "+e)},exports.decode=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1};

},{}],63:[function(require,module,exports){
function recursiveSearch(r,e,t,E,c,n){var o=Math.floor((e-r)/2)+r,s=c(t,E[o],!0);return 0===s?o:s>0?e-o>1?recursiveSearch(o,e,t,E,c,n):n==exports.LEAST_UPPER_BOUND?e<E.length?e:-1:o:o-r>1?recursiveSearch(r,o,t,E,c,n):n==exports.LEAST_UPPER_BOUND?o:r<0?-1:r}exports.GREATEST_LOWER_BOUND=1,exports.LEAST_UPPER_BOUND=2,exports.search=function(r,e,t,E){if(0===e.length)return-1;var c=recursiveSearch(-1,e.length,r,e,t,E||exports.GREATEST_LOWER_BOUND);if(c<0)return-1;for(;c-1>=0&&0===t(e[c],e[c-1],!0);)--c;return c};

},{}],64:[function(require,module,exports){
var util=require("./util");function generatedPositionAfter(t,e){var r=t.generatedLine,i=e.generatedLine,a=t.generatedColumn,n=e.generatedColumn;return i>r||i==r&&n>=a||util.compareByGeneratedPositionsInflated(t,e)<=0}function MappingList(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}MappingList.prototype.unsortedForEach=function(t,e){this._array.forEach(t,e)},MappingList.prototype.add=function(t){generatedPositionAfter(this._last,t)?(this._last=t,this._array.push(t)):(this._sorted=!1,this._array.push(t))},MappingList.prototype.toArray=function(){return this._sorted||(this._array.sort(util.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},exports.MappingList=MappingList;

},{"./util":69}],65:[function(require,module,exports){
function swap(n,o,r){var t=n[o];n[o]=n[r],n[r]=t}function randomIntInRange(n,o){return Math.round(n+Math.random()*(o-n))}function doQuickSort(n,o,r,t){if(r<t){var a=r-1;swap(n,randomIntInRange(r,t),t);for(var u=n[t],i=r;i<t;i++)o(n[i],u)<=0&&swap(n,a+=1,i);swap(n,a+1,i);var c=a+1;doQuickSort(n,o,r,c-1),doQuickSort(n,o,c+1,t)}}exports.quickSort=function(n,o){doQuickSort(n,o,0,n.length-1)};

},{}],66:[function(require,module,exports){
var util=require("./util"),binarySearch=require("./binary-search"),ArraySet=require("./array-set").ArraySet,base64VLQ=require("./base64-vlq"),quickSort=require("./quick-sort").quickSort;function SourceMapConsumer(e,r){var n=e;return"string"==typeof e&&(n=util.parseSourceMapInput(e)),null!=n.sections?new IndexedSourceMapConsumer(n,r):new BasicSourceMapConsumer(n,r)}function BasicSourceMapConsumer(e,r){var n=e;"string"==typeof e&&(n=util.parseSourceMapInput(e));var o=util.getArg(n,"version"),t=util.getArg(n,"sources"),i=util.getArg(n,"names",[]),u=util.getArg(n,"sourceRoot",null),s=util.getArg(n,"sourcesContent",null),a=util.getArg(n,"mappings"),l=util.getArg(n,"file",null);if(o!=this._version)throw new Error("Unsupported version: "+o);u&&(u=util.normalize(u)),t=t.map(String).map(util.normalize).map(function(e){return u&&util.isAbsolute(u)&&util.isAbsolute(e)?util.relative(u,e):e}),this._names=ArraySet.fromArray(i.map(String),!0),this._sources=ArraySet.fromArray(t,!0),this._absoluteSources=this._sources.toArray().map(function(e){return util.computeSourceURL(u,e,r)}),this.sourceRoot=u,this.sourcesContent=s,this._mappings=a,this._sourceMapURL=r,this.file=l}function Mapping(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function IndexedSourceMapConsumer(e,r){var n=e;"string"==typeof e&&(n=util.parseSourceMapInput(e));var o=util.getArg(n,"version"),t=util.getArg(n,"sections");if(o!=this._version)throw new Error("Unsupported version: "+o);this._sources=new ArraySet,this._names=new ArraySet;var i={line:-1,column:0};this._sections=t.map(function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var n=util.getArg(e,"offset"),o=util.getArg(n,"line"),t=util.getArg(n,"column");if(o<i.line||o===i.line&&t<i.column)throw new Error("Section offsets must be ordered and non-overlapping.");return i=n,{generatedOffset:{generatedLine:o+1,generatedColumn:t+1},consumer:new SourceMapConsumer(util.getArg(e,"map"),r)}})}SourceMapConsumer.fromSourceMap=function(e,r){return BasicSourceMapConsumer.fromSourceMap(e,r)},SourceMapConsumer.prototype._version=3,SourceMapConsumer.prototype.__generatedMappings=null,Object.defineProperty(SourceMapConsumer.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),SourceMapConsumer.prototype.__originalMappings=null,Object.defineProperty(SourceMapConsumer.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),SourceMapConsumer.prototype._charIsMappingSeparator=function(e,r){var n=e.charAt(r);return";"===n||","===n},SourceMapConsumer.prototype._parseMappings=function(e,r){throw new Error("Subclasses must implement _parseMappings")},SourceMapConsumer.GENERATED_ORDER=1,SourceMapConsumer.ORIGINAL_ORDER=2,SourceMapConsumer.GREATEST_LOWER_BOUND=1,SourceMapConsumer.LEAST_UPPER_BOUND=2,SourceMapConsumer.prototype.eachMapping=function(e,r,n){var o,t=r||null;switch(n||SourceMapConsumer.GENERATED_ORDER){case SourceMapConsumer.GENERATED_ORDER:o=this._generatedMappings;break;case SourceMapConsumer.ORIGINAL_ORDER:o=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var i=this.sourceRoot;o.map(function(e){var r=null===e.source?null:this._sources.at(e.source);return{source:r=util.computeSourceURL(i,r,this._sourceMapURL),generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}},this).forEach(e,t)},SourceMapConsumer.prototype.allGeneratedPositionsFor=function(e){var r=util.getArg(e,"line"),n={source:util.getArg(e,"source"),originalLine:r,originalColumn:util.getArg(e,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];var o=[],t=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",util.compareByOriginalPositions,binarySearch.LEAST_UPPER_BOUND);if(t>=0){var i=this._originalMappings[t];if(void 0===e.column)for(var u=i.originalLine;i&&i.originalLine===u;)o.push({line:util.getArg(i,"generatedLine",null),column:util.getArg(i,"generatedColumn",null),lastColumn:util.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++t];else for(var s=i.originalColumn;i&&i.originalLine===r&&i.originalColumn==s;)o.push({line:util.getArg(i,"generatedLine",null),column:util.getArg(i,"generatedColumn",null),lastColumn:util.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++t]}return o},exports.SourceMapConsumer=SourceMapConsumer,BasicSourceMapConsumer.prototype=Object.create(SourceMapConsumer.prototype),BasicSourceMapConsumer.prototype.consumer=SourceMapConsumer,BasicSourceMapConsumer.prototype._findSourceIndex=function(e){var r,n=e;if(null!=this.sourceRoot&&(n=util.relative(this.sourceRoot,n)),this._sources.has(n))return this._sources.indexOf(n);for(r=0;r<this._absoluteSources.length;++r)if(this._absoluteSources[r]==e)return r;return-1},BasicSourceMapConsumer.fromSourceMap=function(e,r){var n=Object.create(BasicSourceMapConsumer.prototype),o=n._names=ArraySet.fromArray(e._names.toArray(),!0),t=n._sources=ArraySet.fromArray(e._sources.toArray(),!0);n.sourceRoot=e._sourceRoot,n.sourcesContent=e._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=e._file,n._sourceMapURL=r,n._absoluteSources=n._sources.toArray().map(function(e){return util.computeSourceURL(n.sourceRoot,e,r)});for(var i=e._mappings.toArray().slice(),u=n.__generatedMappings=[],s=n.__originalMappings=[],a=0,l=i.length;a<l;a++){var c=i[a],p=new Mapping;p.generatedLine=c.generatedLine,p.generatedColumn=c.generatedColumn,c.source&&(p.source=t.indexOf(c.source),p.originalLine=c.originalLine,p.originalColumn=c.originalColumn,c.name&&(p.name=o.indexOf(c.name)),s.push(p)),u.push(p)}return quickSort(n.__originalMappings,util.compareByOriginalPositions),n},BasicSourceMapConsumer.prototype._version=3,Object.defineProperty(BasicSourceMapConsumer.prototype,"sources",{get:function(){return this._absoluteSources.slice()}}),BasicSourceMapConsumer.prototype._parseMappings=function(e,r){for(var n,o,t,i,u,s=1,a=0,l=0,c=0,p=0,g=0,m=e.length,h=0,d={},f={},_=[],C=[];h<m;)if(";"===e.charAt(h))s++,h++,a=0;else if(","===e.charAt(h))h++;else{for((n=new Mapping).generatedLine=s,i=h;i<m&&!this._charIsMappingSeparator(e,i);i++);if(t=d[o=e.slice(h,i)])h+=o.length;else{for(t=[];h<i;)base64VLQ.decode(e,h,f),u=f.value,h=f.rest,t.push(u);if(2===t.length)throw new Error("Found a source, but no line and column");if(3===t.length)throw new Error("Found a source and line, but no column");d[o]=t}n.generatedColumn=a+t[0],a=n.generatedColumn,t.length>1&&(n.source=p+t[1],p+=t[1],n.originalLine=l+t[2],l=n.originalLine,n.originalLine+=1,n.originalColumn=c+t[3],c=n.originalColumn,t.length>4&&(n.name=g+t[4],g+=t[4])),C.push(n),"number"==typeof n.originalLine&&_.push(n)}quickSort(C,util.compareByGeneratedPositionsDeflated),this.__generatedMappings=C,quickSort(_,util.compareByOriginalPositions),this.__originalMappings=_},BasicSourceMapConsumer.prototype._findMapping=function(e,r,n,o,t,i){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[o]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[o]);return binarySearch.search(e,r,t,i)},BasicSourceMapConsumer.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var r=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var n=this._generatedMappings[e+1];if(r.generatedLine===n.generatedLine){r.lastGeneratedColumn=n.generatedColumn-1;continue}}r.lastGeneratedColumn=1/0}},BasicSourceMapConsumer.prototype.originalPositionFor=function(e){var r={generatedLine:util.getArg(e,"line"),generatedColumn:util.getArg(e,"column")},n=this._findMapping(r,this._generatedMappings,"generatedLine","generatedColumn",util.compareByGeneratedPositionsDeflated,util.getArg(e,"bias",SourceMapConsumer.GREATEST_LOWER_BOUND));if(n>=0){var o=this._generatedMappings[n];if(o.generatedLine===r.generatedLine){var t=util.getArg(o,"source",null);null!==t&&(t=this._sources.at(t),t=util.computeSourceURL(this.sourceRoot,t,this._sourceMapURL));var i=util.getArg(o,"name",null);return null!==i&&(i=this._names.at(i)),{source:t,line:util.getArg(o,"originalLine",null),column:util.getArg(o,"originalColumn",null),name:i}}}return{source:null,line:null,column:null,name:null}},BasicSourceMapConsumer.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return null==e}))},BasicSourceMapConsumer.prototype.sourceContentFor=function(e,r){if(!this.sourcesContent)return null;var n=this._findSourceIndex(e);if(n>=0)return this.sourcesContent[n];var o,t=e;if(null!=this.sourceRoot&&(t=util.relative(this.sourceRoot,t)),null!=this.sourceRoot&&(o=util.urlParse(this.sourceRoot))){var i=t.replace(/^file:\/\//,"");if("file"==o.scheme&&this._sources.has(i))return this.sourcesContent[this._sources.indexOf(i)];if((!o.path||"/"==o.path)&&this._sources.has("/"+t))return this.sourcesContent[this._sources.indexOf("/"+t)]}if(r)return null;throw new Error('"'+t+'" is not in the SourceMap.')},BasicSourceMapConsumer.prototype.generatedPositionFor=function(e){var r=util.getArg(e,"source");if((r=this._findSourceIndex(r))<0)return{line:null,column:null,lastColumn:null};var n={source:r,originalLine:util.getArg(e,"line"),originalColumn:util.getArg(e,"column")},o=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",util.compareByOriginalPositions,util.getArg(e,"bias",SourceMapConsumer.GREATEST_LOWER_BOUND));if(o>=0){var t=this._originalMappings[o];if(t.source===n.source)return{line:util.getArg(t,"generatedLine",null),column:util.getArg(t,"generatedColumn",null),lastColumn:util.getArg(t,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},exports.BasicSourceMapConsumer=BasicSourceMapConsumer,IndexedSourceMapConsumer.prototype=Object.create(SourceMapConsumer.prototype),IndexedSourceMapConsumer.prototype.constructor=SourceMapConsumer,IndexedSourceMapConsumer.prototype._version=3,Object.defineProperty(IndexedSourceMapConsumer.prototype,"sources",{get:function(){for(var e=[],r=0;r<this._sections.length;r++)for(var n=0;n<this._sections[r].consumer.sources.length;n++)e.push(this._sections[r].consumer.sources[n]);return e}}),IndexedSourceMapConsumer.prototype.originalPositionFor=function(e){var r={generatedLine:util.getArg(e,"line"),generatedColumn:util.getArg(e,"column")},n=binarySearch.search(r,this._sections,function(e,r){var n=e.generatedLine-r.generatedOffset.generatedLine;return n||e.generatedColumn-r.generatedOffset.generatedColumn}),o=this._sections[n];return o?o.consumer.originalPositionFor({line:r.generatedLine-(o.generatedOffset.generatedLine-1),column:r.generatedColumn-(o.generatedOffset.generatedLine===r.generatedLine?o.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},IndexedSourceMapConsumer.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})},IndexedSourceMapConsumer.prototype.sourceContentFor=function(e,r){for(var n=0;n<this._sections.length;n++){var o=this._sections[n].consumer.sourceContentFor(e,!0);if(o)return o}if(r)return null;throw new Error('"'+e+'" is not in the SourceMap.')},IndexedSourceMapConsumer.prototype.generatedPositionFor=function(e){for(var r=0;r<this._sections.length;r++){var n=this._sections[r];if(-1!==n.consumer._findSourceIndex(util.getArg(e,"source"))){var o=n.consumer.generatedPositionFor(e);if(o)return{line:o.line+(n.generatedOffset.generatedLine-1),column:o.column+(n.generatedOffset.generatedLine===o.line?n.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},IndexedSourceMapConsumer.prototype._parseMappings=function(e,r){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var o=this._sections[n],t=o.consumer._generatedMappings,i=0;i<t.length;i++){var u=t[i],s=o.consumer._sources.at(u.source);s=util.computeSourceURL(o.consumer.sourceRoot,s,this._sourceMapURL),this._sources.add(s),s=this._sources.indexOf(s);var a=null;u.name&&(a=o.consumer._names.at(u.name),this._names.add(a),a=this._names.indexOf(a));var l={source:s,generatedLine:u.generatedLine+(o.generatedOffset.generatedLine-1),generatedColumn:u.generatedColumn+(o.generatedOffset.generatedLine===u.generatedLine?o.generatedOffset.generatedColumn-1:0),originalLine:u.originalLine,originalColumn:u.originalColumn,name:a};this.__generatedMappings.push(l),"number"==typeof l.originalLine&&this.__originalMappings.push(l)}quickSort(this.__generatedMappings,util.compareByGeneratedPositionsDeflated),quickSort(this.__originalMappings,util.compareByOriginalPositions)},exports.IndexedSourceMapConsumer=IndexedSourceMapConsumer;

},{"./array-set":60,"./base64-vlq":61,"./binary-search":63,"./quick-sort":65,"./util":69}],67:[function(require,module,exports){
var base64VLQ=require("./base64-vlq"),util=require("./util"),ArraySet=require("./array-set").ArraySet,MappingList=require("./mapping-list").MappingList;function SourceMapGenerator(e){e||(e={}),this._file=util.getArg(e,"file",null),this._sourceRoot=util.getArg(e,"sourceRoot",null),this._skipValidation=util.getArg(e,"skipValidation",!1),this._sources=new ArraySet,this._names=new ArraySet,this._mappings=new MappingList,this._sourcesContents=null}SourceMapGenerator.prototype._version=3,SourceMapGenerator.fromSourceMap=function(e){var n=e.sourceRoot,r=new SourceMapGenerator({file:e.file,sourceRoot:n});return e.eachMapping(function(e){var t={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(t.source=e.source,null!=n&&(t.source=util.relative(n,t.source)),t.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(t.name=e.name)),r.addMapping(t)}),e.sources.forEach(function(t){var o=t;null!==n&&(o=util.relative(n,t)),r._sources.has(o)||r._sources.add(o);var i=e.sourceContentFor(t);null!=i&&r.setSourceContent(t,i)}),r},SourceMapGenerator.prototype.addMapping=function(e){var n=util.getArg(e,"generated"),r=util.getArg(e,"original",null),t=util.getArg(e,"source",null),o=util.getArg(e,"name",null);this._skipValidation||this._validateMapping(n,r,t,o),null!=t&&(t=String(t),this._sources.has(t)||this._sources.add(t)),null!=o&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:n.line,generatedColumn:n.column,originalLine:null!=r&&r.line,originalColumn:null!=r&&r.column,source:t,name:o})},SourceMapGenerator.prototype.setSourceContent=function(e,n){var r=e;null!=this._sourceRoot&&(r=util.relative(this._sourceRoot,r)),null!=n?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[util.toSetString(r)]=n):this._sourcesContents&&(delete this._sourcesContents[util.toSetString(r)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},SourceMapGenerator.prototype.applySourceMap=function(e,n,r){var t=n;if(null==n){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');t=e.file}var o=this._sourceRoot;null!=o&&(t=util.relative(o,t));var i=new ArraySet,s=new ArraySet;this._mappings.unsortedForEach(function(n){if(n.source===t&&null!=n.originalLine){var l=e.originalPositionFor({line:n.originalLine,column:n.originalColumn});null!=l.source&&(n.source=l.source,null!=r&&(n.source=util.join(r,n.source)),null!=o&&(n.source=util.relative(o,n.source)),n.originalLine=l.line,n.originalColumn=l.column,null!=l.name&&(n.name=l.name))}var u=n.source;null==u||i.has(u)||i.add(u);var a=n.name;null==a||s.has(a)||s.add(a)},this),this._sources=i,this._names=s,e.sources.forEach(function(n){var t=e.sourceContentFor(n);null!=t&&(null!=r&&(n=util.join(r,n)),null!=o&&(n=util.relative(o,n)),this.setSourceContent(n,t))},this)},SourceMapGenerator.prototype._validateMapping=function(e,n,r,t){if(n&&"number"!=typeof n.line&&"number"!=typeof n.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||n||r||t)&&!(e&&"line"in e&&"column"in e&&n&&"line"in n&&"column"in n&&e.line>0&&e.column>=0&&n.line>0&&n.column>=0&&r))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:r,original:n,name:t}))},SourceMapGenerator.prototype._serializeMappings=function(){for(var e,n,r,t,o=0,i=1,s=0,l=0,u=0,a=0,c="",p=this._mappings.toArray(),g=0,h=p.length;g<h;g++){if(e="",(n=p[g]).generatedLine!==i)for(o=0;n.generatedLine!==i;)e+=";",i++;else if(g>0){if(!util.compareByGeneratedPositionsInflated(n,p[g-1]))continue;e+=","}e+=base64VLQ.encode(n.generatedColumn-o),o=n.generatedColumn,null!=n.source&&(t=this._sources.indexOf(n.source),e+=base64VLQ.encode(t-a),a=t,e+=base64VLQ.encode(n.originalLine-1-l),l=n.originalLine-1,e+=base64VLQ.encode(n.originalColumn-s),s=n.originalColumn,null!=n.name&&(r=this._names.indexOf(n.name),e+=base64VLQ.encode(r-u),u=r)),c+=e}return c},SourceMapGenerator.prototype._generateSourcesContent=function(e,n){return e.map(function(e){if(!this._sourcesContents)return null;null!=n&&(e=util.relative(n,e));var r=util.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,r)?this._sourcesContents[r]:null},this)},SourceMapGenerator.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},SourceMapGenerator.prototype.toString=function(){return JSON.stringify(this.toJSON())},exports.SourceMapGenerator=SourceMapGenerator;

},{"./array-set":60,"./base64-vlq":61,"./mapping-list":64,"./util":69}],68:[function(require,module,exports){
var SourceMapGenerator=require("./source-map-generator").SourceMapGenerator,util=require("./util"),REGEX_NEWLINE=/(\r?\n)/,NEWLINE_CODE=10,isSourceNode="$$$isSourceNode$$$";function SourceNode(e,n,o,r,t){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==n?null:n,this.source=null==o?null:o,this.name=null==t?null:t,this[isSourceNode]=!0,null!=r&&this.add(r)}SourceNode.fromStringWithSourceMap=function(e,n,o){var r=new SourceNode,t=e.split(REGEX_NEWLINE),i=0,u=function(){return e()+(e()||"");function e(){return i<t.length?t[i++]:void 0}},l=1,c=0,s=null;return n.eachMapping(function(e){if(null!==s){if(!(l<e.generatedLine)){var n=(o=t[i]||"").substr(0,e.generatedColumn-c);return t[i]=o.substr(e.generatedColumn-c),c=e.generatedColumn,a(s,n),void(s=e)}a(s,u()),l++,c=0}for(;l<e.generatedLine;)r.add(u()),l++;if(c<e.generatedColumn){var o=t[i]||"";r.add(o.substr(0,e.generatedColumn)),t[i]=o.substr(e.generatedColumn),c=e.generatedColumn}s=e},this),i<t.length&&(s&&a(s,u()),r.add(t.splice(i).join(""))),n.sources.forEach(function(e){var t=n.sourceContentFor(e);null!=t&&(null!=o&&(e=util.join(o,e)),r.setSourceContent(e,t))}),r;function a(e,n){if(null===e||void 0===e.source)r.add(n);else{var t=o?util.join(o,e.source):e.source;r.add(new SourceNode(e.originalLine,e.originalColumn,t,n,e.name))}}},SourceNode.prototype.add=function(e){if(Array.isArray(e))e.forEach(function(e){this.add(e)},this);else{if(!e[isSourceNode]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},SourceNode.prototype.prepend=function(e){if(Array.isArray(e))for(var n=e.length-1;n>=0;n--)this.prepend(e[n]);else{if(!e[isSourceNode]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},SourceNode.prototype.walk=function(e){for(var n,o=0,r=this.children.length;o<r;o++)(n=this.children[o])[isSourceNode]?n.walk(e):""!==n&&e(n,{source:this.source,line:this.line,column:this.column,name:this.name})},SourceNode.prototype.join=function(e){var n,o,r=this.children.length;if(r>0){for(n=[],o=0;o<r-1;o++)n.push(this.children[o]),n.push(e);n.push(this.children[o]),this.children=n}return this},SourceNode.prototype.replaceRight=function(e,n){var o=this.children[this.children.length-1];return o[isSourceNode]?o.replaceRight(e,n):"string"==typeof o?this.children[this.children.length-1]=o.replace(e,n):this.children.push("".replace(e,n)),this},SourceNode.prototype.setSourceContent=function(e,n){this.sourceContents[util.toSetString(e)]=n},SourceNode.prototype.walkSourceContents=function(e){for(var n=0,o=this.children.length;n<o;n++)this.children[n][isSourceNode]&&this.children[n].walkSourceContents(e);var r=Object.keys(this.sourceContents);for(n=0,o=r.length;n<o;n++)e(util.fromSetString(r[n]),this.sourceContents[r[n]])},SourceNode.prototype.toString=function(){var e="";return this.walk(function(n){e+=n}),e},SourceNode.prototype.toStringWithSourceMap=function(e){var n={code:"",line:1,column:0},o=new SourceMapGenerator(e),r=!1,t=null,i=null,u=null,l=null;return this.walk(function(e,c){n.code+=e,null!==c.source&&null!==c.line&&null!==c.column?(t===c.source&&i===c.line&&u===c.column&&l===c.name||o.addMapping({source:c.source,original:{line:c.line,column:c.column},generated:{line:n.line,column:n.column},name:c.name}),t=c.source,i=c.line,u=c.column,l=c.name,r=!0):r&&(o.addMapping({generated:{line:n.line,column:n.column}}),t=null,r=!1);for(var s=0,a=e.length;s<a;s++)e.charCodeAt(s)===NEWLINE_CODE?(n.line++,n.column=0,s+1===a?(t=null,r=!1):r&&o.addMapping({source:c.source,original:{line:c.line,column:c.column},generated:{line:n.line,column:n.column},name:c.name})):n.column++}),this.walkSourceContents(function(e,n){o.setSourceContent(e,n)}),{code:n.code,map:o}},exports.SourceNode=SourceNode;

},{"./source-map-generator":67,"./util":69}],69:[function(require,module,exports){
function getArg(e,r,t){if(r in e)return e[r];if(3===arguments.length)return t;throw new Error('"'+r+'" is a required argument.')}exports.getArg=getArg;var urlRegexp=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,dataUrlRegexp=/^data:.+\,.+$/;function urlParse(e){var r=e.match(urlRegexp);return r?{scheme:r[1],auth:r[2],host:r[3],port:r[4],path:r[5]}:null}function urlGenerate(e){var r="";return e.scheme&&(r+=e.scheme+":"),r+="//",e.auth&&(r+=e.auth+"@"),e.host&&(r+=e.host),e.port&&(r+=":"+e.port),e.path&&(r+=e.path),r}function normalize(e){var r=e,t=urlParse(e);if(t){if(!t.path)return e;r=t.path}for(var n,o=exports.isAbsolute(r),a=r.split(/\/+/),i=0,u=a.length-1;u>=0;u--)"."===(n=a[u])?a.splice(u,1):".."===n?i++:i>0&&(""===n?(a.splice(u+1,i),i=0):(a.splice(u,2),i--));return""===(r=a.join("/"))&&(r=o?"/":"."),t?(t.path=r,urlGenerate(t)):r}function join(e,r){""===e&&(e="."),""===r&&(r=".");var t=urlParse(r),n=urlParse(e);if(n&&(e=n.path||"/"),t&&!t.scheme)return n&&(t.scheme=n.scheme),urlGenerate(t);if(t||r.match(dataUrlRegexp))return r;if(n&&!n.host&&!n.path)return n.host=r,urlGenerate(n);var o="/"===r.charAt(0)?r:normalize(e.replace(/\/+$/,"")+"/"+r);return n?(n.path=o,urlGenerate(n)):o}function relative(e,r){""===e&&(e="."),e=e.replace(/\/$/,"");for(var t=0;0!==r.indexOf(e+"/");){var n=e.lastIndexOf("/");if(n<0)return r;if((e=e.slice(0,n)).match(/^([^\/]+:\/)?\/*$/))return r;++t}return Array(t+1).join("../")+r.substr(e.length+1)}exports.urlParse=urlParse,exports.urlGenerate=urlGenerate,exports.normalize=normalize,exports.join=join,exports.isAbsolute=function(e){return"/"===e.charAt(0)||urlRegexp.test(e)},exports.relative=relative;var supportsNullProto=!("__proto__"in Object.create(null));function identity(e){return e}function toSetString(e){return isProtoString(e)?"$"+e:e}function fromSetString(e){return isProtoString(e)?e.slice(1):e}function isProtoString(e){if(!e)return!1;var r=e.length;if(r<9)return!1;if(95!==e.charCodeAt(r-1)||95!==e.charCodeAt(r-2)||111!==e.charCodeAt(r-3)||116!==e.charCodeAt(r-4)||111!==e.charCodeAt(r-5)||114!==e.charCodeAt(r-6)||112!==e.charCodeAt(r-7)||95!==e.charCodeAt(r-8)||95!==e.charCodeAt(r-9))return!1;for(var t=r-10;t>=0;t--)if(36!==e.charCodeAt(t))return!1;return!0}function compareByOriginalPositions(e,r,t){var n=strcmp(e.source,r.source);return 0!==n?n:0!==(n=e.originalLine-r.originalLine)?n:0!==(n=e.originalColumn-r.originalColumn)||t?n:0!==(n=e.generatedColumn-r.generatedColumn)?n:0!==(n=e.generatedLine-r.generatedLine)?n:strcmp(e.name,r.name)}function compareByGeneratedPositionsDeflated(e,r,t){var n=e.generatedLine-r.generatedLine;return 0!==n?n:0!==(n=e.generatedColumn-r.generatedColumn)||t?n:0!==(n=strcmp(e.source,r.source))?n:0!==(n=e.originalLine-r.originalLine)?n:0!==(n=e.originalColumn-r.originalColumn)?n:strcmp(e.name,r.name)}function strcmp(e,r){return e===r?0:null===e?1:null===r?-1:e>r?1:-1}function compareByGeneratedPositionsInflated(e,r){var t=e.generatedLine-r.generatedLine;return 0!==t?t:0!==(t=e.generatedColumn-r.generatedColumn)?t:0!==(t=strcmp(e.source,r.source))?t:0!==(t=e.originalLine-r.originalLine)?t:0!==(t=e.originalColumn-r.originalColumn)?t:strcmp(e.name,r.name)}function parseSourceMapInput(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))}function computeSourceURL(e,r,t){if(r=r||"",e&&("/"!==e[e.length-1]&&"/"!==r[0]&&(e+="/"),r=e+r),t){var n=urlParse(t);if(!n)throw new Error("sourceMapURL could not be parsed");if(n.path){var o=n.path.lastIndexOf("/");o>=0&&(n.path=n.path.substring(0,o+1))}r=join(urlGenerate(n),r)}return normalize(r)}exports.toSetString=supportsNullProto?identity:toSetString,exports.fromSetString=supportsNullProto?identity:fromSetString,exports.compareByOriginalPositions=compareByOriginalPositions,exports.compareByGeneratedPositionsDeflated=compareByGeneratedPositionsDeflated,exports.compareByGeneratedPositionsInflated=compareByGeneratedPositionsInflated,exports.parseSourceMapInput=parseSourceMapInput,exports.computeSourceURL=computeSourceURL;

},{}],70:[function(require,module,exports){
exports.SourceMapGenerator=require("./lib/source-map-generator").SourceMapGenerator,exports.SourceMapConsumer=require("./lib/source-map-consumer").SourceMapConsumer,exports.SourceNode=require("./lib/source-node").SourceNode;

},{"./lib/source-map-consumer":66,"./lib/source-map-generator":67,"./lib/source-node":68}],71:[function(require,module,exports){
var cachedSetTimeout,cachedClearTimeout,process=module.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(t){try{return cachedSetTimeout.call(null,e,0)}catch(t){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch(t){try{return cachedClearTimeout.call(null,e)}catch(t){return cachedClearTimeout.call(this,e)}}}!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}process.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(e){return[]},process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};

},{}]},{},[11])(11)
});
